function jo(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}function Qo(t){if(de(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Je(n)?Qc(n):Qo(n);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Je(t))return t;if(Ue(t))return t}}const Xc=/;(?![^(]*\))/g,Vc=/:([^]+)/,jc=/\/\*.*?\*\//gs;function Qc(t){const e={};return t.replace(jc,"").split(Xc).forEach(r=>{if(r){const n=r.split(Vc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Jo(t){let e="";if(Je(t))e=t;else if(de(t))for(let r=0;r<t.length;r++){const n=Jo(t[r]);n&&(e+=n+" ")}else if(Ue(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Jc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zc=jo(Jc);function Qh(t){return!!t||t===""}const B_=t=>Je(t)?t:t==null?"":de(t)||Ue(t)&&(t.toString===eu||!_e(t.toString))?JSON.stringify(t,Jh,2):String(t),Jh=(t,e)=>e&&e.__v_isRef?Jh(t,e.value):_n(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:Zh(e)?{[`Set(${e.size})`]:[...e.values()]}:Ue(e)&&!de(e)&&!tu(e)?String(e):e,De={},vn=[],Rt=()=>{},$c=()=>!1,ef=/^on[^a-z]/,Cs=t=>ef.test(t),Zo=t=>t.startsWith("onUpdate:"),nt=Object.assign,$o=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},tf=Object.prototype.hasOwnProperty,be=(t,e)=>tf.call(t,e),de=Array.isArray,_n=t=>ws(t)==="[object Map]",Zh=t=>ws(t)==="[object Set]",_e=t=>typeof t=="function",Je=t=>typeof t=="string",el=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",$h=t=>Ue(t)&&_e(t.then)&&_e(t.catch),eu=Object.prototype.toString,ws=t=>eu.call(t),rf=t=>ws(t).slice(8,-1),tu=t=>ws(t)==="[object Object]",tl=t=>Je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ts=jo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xs=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},nf=/-(\w)/g,bn=xs(t=>t.replace(nf,(e,r)=>r?r.toUpperCase():"")),sf=/\B([A-Z])/g,En=xs(t=>t.replace(sf,"-$1").toLowerCase()),ru=xs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ta=xs(t=>t?`on${ru(t)}`:""),li=(t,e)=>!Object.is(t,e),rs=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},us=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},cs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Tl;const af=()=>Tl||(Tl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ft;class nu{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=ft,!e&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}run(e){if(this.active){const r=ft;try{return ft=this,e()}finally{ft=r}}}on(){ft=this}off(){ft=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function iu(t){return new nu(t)}function of(t,e=ft){e&&e.active&&e.effects.push(t)}function su(){return ft}function au(t){ft&&ft.cleanups.push(t)}const rl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ou=t=>(t.w&wr)>0,lu=t=>(t.n&wr)>0,lf=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=wr},hf=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const i=e[n];ou(i)&&!lu(i)?i.delete(t):e[r++]=i,i.w&=~wr,i.n&=~wr}e.length=r}},to=new WeakMap;let jn=0,wr=1;const ro=30;let Mt;const Vr=Symbol(""),no=Symbol("");class nl{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,of(this,n)}run(){if(!this.active)return this.fn();let e=Mt,r=Sr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Mt,Mt=this,Sr=!0,wr=1<<++jn,jn<=ro?lf(this):Ml(this),this.fn()}finally{jn<=ro&&hf(this),wr=1<<--jn,Mt=this.parent,Sr=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Mt===this?this.deferStop=!0:this.active&&(Ml(this),this.onStop&&this.onStop(),this.active=!1)}}function Ml(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Sr=!0;const hu=[];function An(){hu.push(Sr),Sr=!1}function kn(){const t=hu.pop();Sr=t===void 0?!0:t}function vt(t,e,r){if(Sr&&Mt){let n=to.get(t);n||to.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=rl()),uu(i)}}function uu(t,e){let r=!1;jn<=ro?lu(t)||(t.n|=wr,r=!ou(t)):r=!t.has(Mt),r&&(t.add(Mt),Mt.deps.push(t))}function ir(t,e,r,n,i,s){const a=to.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(r==="length"&&de(t)){const l=cs(n);a.forEach((h,u)=>{(u==="length"||u>=l)&&o.push(h)})}else switch(r!==void 0&&o.push(a.get(r)),e){case"add":de(t)?tl(r)&&o.push(a.get("length")):(o.push(a.get(Vr)),_n(t)&&o.push(a.get(no)));break;case"delete":de(t)||(o.push(a.get(Vr)),_n(t)&&o.push(a.get(no)));break;case"set":_n(t)&&o.push(a.get(Vr));break}if(o.length===1)o[0]&&io(o[0]);else{const l=[];for(const h of o)h&&l.push(...h);io(rl(l))}}function io(t,e){const r=de(t)?t:[...t];for(const n of r)n.computed&&Ll(n);for(const n of r)n.computed||Ll(n)}function Ll(t,e){(t!==Mt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const uf=jo("__proto__,__v_isRef,__isVue"),cu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(el)),cf=il(),ff=il(!1,!0),df=il(!0),Rl=pf();function pf(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Pe(this);for(let s=0,a=this.length;s<a;s++)vt(n,"get",s+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Pe)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){An();const n=Pe(this)[e].apply(this,r);return kn(),n}}),t}function il(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?Tf:vu:e?gu:pu).get(n))return n;const a=de(n);if(!t&&a&&be(Rl,i))return Reflect.get(Rl,i,s);const o=Reflect.get(n,i,s);return(el(i)?cu.has(i):uf(i))||(t||vt(n,"get",i),e)?o:Xe(o)?a&&tl(i)?o:o.value:Ue(o)?t?_u(o):Es(o):o}}const gf=fu(),vf=fu(!0);function fu(t=!1){return function(r,n,i,s){let a=r[n];if(Cn(a)&&Xe(a)&&!Xe(i))return!1;if(!t&&(!fs(i)&&!Cn(i)&&(a=Pe(a),i=Pe(i)),!de(r)&&Xe(a)&&!Xe(i)))return a.value=i,!0;const o=de(r)&&tl(n)?Number(n)<r.length:be(r,n),l=Reflect.set(r,n,i,s);return r===Pe(s)&&(o?li(i,a)&&ir(r,"set",n,i):ir(r,"add",n,i)),l}}function _f(t,e){const r=be(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&ir(t,"delete",e,void 0),n}function mf(t,e){const r=Reflect.has(t,e);return(!el(e)||!cu.has(e))&&vt(t,"has",e),r}function yf(t){return vt(t,"iterate",de(t)?"length":Vr),Reflect.ownKeys(t)}const du={get:cf,set:gf,deleteProperty:_f,has:mf,ownKeys:yf},Sf={get:df,set(t,e){return!0},deleteProperty(t,e){return!0}},bf=nt({},du,{get:ff,set:vf}),sl=t=>t,Ps=t=>Reflect.getPrototypeOf(t);function Ni(t,e,r=!1,n=!1){t=t.__v_raw;const i=Pe(t),s=Pe(e);r||(e!==s&&vt(i,"get",e),vt(i,"get",s));const{has:a}=Ps(i),o=n?sl:r?ll:hi;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function Gi(t,e=!1){const r=this.__v_raw,n=Pe(r),i=Pe(t);return e||(t!==i&&vt(n,"has",t),vt(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Fi(t,e=!1){return t=t.__v_raw,!e&&vt(Pe(t),"iterate",Vr),Reflect.get(t,"size",t)}function Il(t){t=Pe(t);const e=Pe(this);return Ps(e).has.call(e,t)||(e.add(t),ir(e,"add",t,t)),this}function Dl(t,e){e=Pe(e);const r=Pe(this),{has:n,get:i}=Ps(r);let s=n.call(r,t);s||(t=Pe(t),s=n.call(r,t));const a=i.call(r,t);return r.set(t,e),s?li(e,a)&&ir(r,"set",t,e):ir(r,"add",t,e),this}function Nl(t){const e=Pe(this),{has:r,get:n}=Ps(e);let i=r.call(e,t);i||(t=Pe(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&ir(e,"delete",t,void 0),s}function Gl(){const t=Pe(this),e=t.size!==0,r=t.clear();return e&&ir(t,"clear",void 0,void 0),r}function Bi(t,e){return function(n,i){const s=this,a=s.__v_raw,o=Pe(a),l=e?sl:t?ll:hi;return!t&&vt(o,"iterate",Vr),a.forEach((h,u)=>n.call(i,l(h),l(u),s))}}function Hi(t,e,r){return function(...n){const i=this.__v_raw,s=Pe(i),a=_n(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,h=i[t](...n),u=r?sl:e?ll:hi;return!e&&vt(s,"iterate",l?no:Vr),{next(){const{value:p,done:c}=h.next();return c?{value:p,done:c}:{value:o?[u(p[0]),u(p[1])]:u(p),done:c}},[Symbol.iterator](){return this}}}}function vr(t){return function(...e){return t==="delete"?!1:this}}function Cf(){const t={get(s){return Ni(this,s)},get size(){return Fi(this)},has:Gi,add:Il,set:Dl,delete:Nl,clear:Gl,forEach:Bi(!1,!1)},e={get(s){return Ni(this,s,!1,!0)},get size(){return Fi(this)},has:Gi,add:Il,set:Dl,delete:Nl,clear:Gl,forEach:Bi(!1,!0)},r={get(s){return Ni(this,s,!0)},get size(){return Fi(this,!0)},has(s){return Gi.call(this,s,!0)},add:vr("add"),set:vr("set"),delete:vr("delete"),clear:vr("clear"),forEach:Bi(!0,!1)},n={get(s){return Ni(this,s,!0,!0)},get size(){return Fi(this,!0)},has(s){return Gi.call(this,s,!0)},add:vr("add"),set:vr("set"),delete:vr("delete"),clear:vr("clear"),forEach:Bi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Hi(s,!1,!1),r[s]=Hi(s,!0,!1),e[s]=Hi(s,!1,!0),n[s]=Hi(s,!0,!0)}),[t,r,e,n]}const[wf,xf,Pf,Ef]=Cf();function al(t,e){const r=e?t?Ef:Pf:t?xf:wf;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(be(r,i)&&i in n?r:n,i,s)}const Af={get:al(!1,!1)},kf={get:al(!1,!0)},Of={get:al(!0,!1)},pu=new WeakMap,gu=new WeakMap,vu=new WeakMap,Tf=new WeakMap;function Mf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lf(t){return t.__v_skip||!Object.isExtensible(t)?0:Mf(rf(t))}function Es(t){return Cn(t)?t:ol(t,!1,du,Af,pu)}function Rf(t){return ol(t,!1,bf,kf,gu)}function _u(t){return ol(t,!0,Sf,Of,vu)}function ol(t,e,r,n,i){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=Lf(t);if(a===0)return t;const o=new Proxy(t,a===2?n:r);return i.set(t,o),o}function br(t){return Cn(t)?br(t.__v_raw):!!(t&&t.__v_isReactive)}function Cn(t){return!!(t&&t.__v_isReadonly)}function fs(t){return!!(t&&t.__v_isShallow)}function mu(t){return br(t)||Cn(t)}function Pe(t){const e=t&&t.__v_raw;return e?Pe(e):t}function wn(t){return us(t,"__v_skip",!0),t}const hi=t=>Ue(t)?Es(t):t,ll=t=>Ue(t)?_u(t):t;function yu(t){Sr&&Mt&&(t=Pe(t),uu(t.dep||(t.dep=rl())))}function Su(t,e){t=Pe(t),t.dep&&io(t.dep)}function Xe(t){return!!(t&&t.__v_isRef===!0)}function bt(t){return If(t,!1)}function If(t,e){return Xe(t)?t:new Df(t,e)}class Df{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Pe(e),this._value=r?e:hi(e)}get value(){return yu(this),this._value}set value(e){const r=this.__v_isShallow||fs(e)||Cn(e);e=r?e:Pe(e),li(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:hi(e),Su(this))}}function bu(t){return Xe(t)?t.value:t}const Nf={get:(t,e,r)=>bu(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Xe(i)&&!Xe(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Cu(t){return br(t)?t:new Proxy(t,Nf)}function Gf(t){const e=de(t)?new Array(t.length):{};for(const r in t)e[r]=Bf(t,r);return e}class Ff{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Bf(t,e,r){const n=t[e];return Xe(n)?n:new Ff(t,e,r)}var wu;class Hf{constructor(e,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[wu]=!1,this._dirty=!0,this.effect=new nl(e,()=>{this._dirty||(this._dirty=!0,Su(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Pe(this);return yu(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}wu="__v_isReadonly";function Uf(t,e,r=!1){let n,i;const s=_e(t);return s?(n=t,i=Rt):(n=t.get,i=t.set),new Hf(n,i,s||!i,r)}function Cr(t,e,r,n){let i;try{i=n?t(...n):t()}catch(s){As(s,e,r)}return i}function xt(t,e,r,n){if(_e(t)){const s=Cr(t,e,r,n);return s&&$h(s)&&s.catch(a=>{As(a,e,r)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(xt(t[s],e,r,n));return i}function As(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=r;for(;s;){const h=s.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Cr(l,null,10,[t,a,o]);return}}Wf(t,r,i,n)}function Wf(t,e,r,n=!0){console.error(t)}let ui=!1,so=!1;const rt=[];let qt=0;const mn=[];let $t=null,qr=0;const xu=Promise.resolve();let hl=null;function ul(t){const e=hl||xu;return t?e.then(this?t.bind(this):t):e}function zf(t){let e=qt+1,r=rt.length;for(;e<r;){const n=e+r>>>1;ci(rt[n])<t?e=n+1:r=n}return e}function cl(t){(!rt.length||!rt.includes(t,ui&&t.allowRecurse?qt+1:qt))&&(t.id==null?rt.push(t):rt.splice(zf(t.id),0,t),Pu())}function Pu(){!ui&&!so&&(so=!0,hl=xu.then(Au))}function qf(t){const e=rt.indexOf(t);e>qt&&rt.splice(e,1)}function Yf(t){de(t)?mn.push(...t):(!$t||!$t.includes(t,t.allowRecurse?qr+1:qr))&&mn.push(t),Pu()}function Fl(t,e=ui?qt+1:0){for(;e<rt.length;e++){const r=rt[e];r&&r.pre&&(rt.splice(e,1),e--,r())}}function Eu(t){if(mn.length){const e=[...new Set(mn)];if(mn.length=0,$t){$t.push(...e);return}for($t=e,$t.sort((r,n)=>ci(r)-ci(n)),qr=0;qr<$t.length;qr++)$t[qr]();$t=null,qr=0}}const ci=t=>t.id==null?1/0:t.id,Kf=(t,e)=>{const r=ci(t)-ci(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Au(t){so=!1,ui=!0,rt.sort(Kf);const e=Rt;try{for(qt=0;qt<rt.length;qt++){const r=rt[qt];r&&r.active!==!1&&Cr(r,null,14)}}finally{qt=0,rt.length=0,Eu(),ui=!1,hl=null,(rt.length||mn.length)&&Au()}}function Xf(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||De;let i=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in n){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:c}=n[u]||De;c&&(i=r.map(d=>Je(d)?d.trim():d)),p&&(i=r.map(cs))}let o,l=n[o=Ta(e)]||n[o=Ta(bn(e))];!l&&s&&(l=n[o=Ta(En(e))]),l&&xt(l,t,6,i);const h=n[o+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,xt(h,t,6,i)}}function ku(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!_e(t)){const l=h=>{const u=ku(h,e,!0);u&&(o=!0,nt(a,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Ue(t)&&n.set(t,null),null):(de(s)?s.forEach(l=>a[l]=null):nt(a,s),Ue(t)&&n.set(t,a),a)}function ks(t,e){return!t||!Cs(e)?!1:(e=e.slice(2).replace(/Once$/,""),be(t,e[0].toLowerCase()+e.slice(1))||be(t,En(e))||be(t,e))}let wt=null,Ou=null;function ds(t){const e=wt;return wt=t,Ou=t&&t.type.__scopeId||null,e}function Vf(t,e=wt,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Xl(-1);const s=ds(e);let a;try{a=t(...i)}finally{ds(s),n._d&&Xl(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function Ma(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:h,render:u,renderCache:p,data:c,setupState:d,ctx:f,inheritAttrs:_}=t;let v,C;const S=ds(t);try{if(r.shapeFlag&4){const y=i||n;v=zt(u.call(y,y,p,s,d,c,f)),C=l}else{const y=e;v=zt(y.length>1?y(s,{attrs:l,slots:o,emit:h}):y(s,null)),C=e.props?l:jf(l)}}catch(y){ri.length=0,As(y,t,1),v=nr(It)}let w=v;if(C&&_!==!1){const y=Object.keys(C),{shapeFlag:x}=w;y.length&&x&7&&(a&&y.some(Zo)&&(C=Qf(C,a)),w=xr(w,C))}return r.dirs&&(w=xr(w),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),v=w,ds(S),v}const jf=t=>{let e;for(const r in t)(r==="class"||r==="style"||Cs(r))&&((e||(e={}))[r]=t[r]);return e},Qf=(t,e)=>{const r={};for(const n in t)(!Zo(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Jf(t,e,r){const{props:n,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Bl(n,a,h):!!a;if(l&8){const u=e.dynamicProps;for(let p=0;p<u.length;p++){const c=u[p];if(a[c]!==n[c]&&!ks(h,c))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Bl(n,a,h):!0:!!a;return!1}function Bl(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!ks(r,s))return!0}return!1}function Zf({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const $f=t=>t.__isSuspense;function ed(t,e){e&&e.pendingBranch?de(t)?e.effects.push(...t):e.effects.push(t):Yf(t)}function td(t,e){if(tt){let r=tt.provides;const n=tt.parent&&tt.parent.provides;n===r&&(r=tt.provides=Object.create(n)),r[t]=e}}function ei(t,e,r=!1){const n=tt||wt;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&_e(e)?e.call(n.proxy):e}}const Ui={};function jr(t,e,r){return Tu(t,e,r)}function Tu(t,e,{immediate:r,deep:n,flush:i,onTrack:s,onTrigger:a}=De){const o=tt;let l,h=!1,u=!1;if(Xe(t)?(l=()=>t.value,h=fs(t)):br(t)?(l=()=>t,n=!0):de(t)?(u=!0,h=t.some(w=>br(w)||fs(w)),l=()=>t.map(w=>{if(Xe(w))return w.value;if(br(w))return Xr(w);if(_e(w))return Cr(w,o,2)})):_e(t)?e?l=()=>Cr(t,o,2):l=()=>{if(!(o&&o.isUnmounted))return p&&p(),xt(t,o,3,[c])}:l=Rt,e&&n){const w=l;l=()=>Xr(w())}let p,c=w=>{p=C.onStop=()=>{Cr(w,o,4)}},d;if(di)if(c=Rt,e?r&&xt(e,o,3,[l(),u?[]:void 0,c]):l(),i==="sync"){const w=Jd();d=w.__watcherHandles||(w.__watcherHandles=[])}else return Rt;let f=u?new Array(t.length).fill(Ui):Ui;const _=()=>{if(!!C.active)if(e){const w=C.run();(n||h||(u?w.some((y,x)=>li(y,f[x])):li(w,f)))&&(p&&p(),xt(e,o,3,[w,f===Ui?void 0:u&&f[0]===Ui?[]:f,c]),f=w)}else C.run()};_.allowRecurse=!!e;let v;i==="sync"?v=_:i==="post"?v=()=>ut(_,o&&o.suspense):(_.pre=!0,o&&(_.id=o.uid),v=()=>cl(_));const C=new nl(l,v);e?r?_():f=C.run():i==="post"?ut(C.run.bind(C),o&&o.suspense):C.run();const S=()=>{C.stop(),o&&o.scope&&$o(o.scope.effects,C)};return d&&d.push(S),S}function rd(t,e,r){const n=this.proxy,i=Je(t)?t.includes(".")?Mu(n,t):()=>n[t]:t.bind(n,n);let s;_e(e)?s=e:(s=e.handler,r=e);const a=tt;xn(this);const o=Tu(i,s.bind(n),r);return a?xn(a):Qr(),o}function Mu(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Xr(t,e){if(!Ue(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Xe(t))Xr(t.value,e);else if(de(t))for(let r=0;r<t.length;r++)Xr(t[r],e);else if(Zh(t)||_n(t))t.forEach(r=>{Xr(r,e)});else if(tu(t))for(const r in t)Xr(t[r],e);return t}function nd(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fl(()=>{t.isMounted=!0}),Du(()=>{t.isUnmounting=!0}),t}const St=[Function,Array],id={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},setup(t,{slots:e}){const r=vl(),n=nd();let i;return()=>{const s=e.default&&Ru(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const _ of s)if(_.type!==It){a=_;break}}const o=Pe(t),{mode:l}=o;if(n.isLeaving)return La(a);const h=Hl(a);if(!h)return La(a);const u=ao(h,o,n,r);oo(h,u);const p=r.subTree,c=p&&Hl(p);let d=!1;const{getTransitionKey:f}=h.type;if(f){const _=f();i===void 0?i=_:_!==i&&(i=_,d=!0)}if(c&&c.type!==It&&(!Yr(h,c)||d)){const _=ao(c,o,n,r);if(oo(c,_),l==="out-in")return n.isLeaving=!0,_.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},La(a);l==="in-out"&&h.type!==It&&(_.delayLeave=(v,C,S)=>{const w=Lu(n,c);w[String(c.key)]=c,v._leaveCb=()=>{C(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=S})}return a}}},sd=id;function Lu(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function ao(t,e,r,n){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:p,onLeave:c,onAfterLeave:d,onLeaveCancelled:f,onBeforeAppear:_,onAppear:v,onAfterAppear:C,onAppearCancelled:S}=e,w=String(t.key),y=Lu(r,t),x=(T,G)=>{T&&xt(T,n,9,G)},R=(T,G)=>{const N=G[1];x(T,G),de(T)?T.every(U=>U.length<=1)&&N():T.length<=1&&N()},O={mode:s,persisted:a,beforeEnter(T){let G=o;if(!r.isMounted)if(i)G=_||o;else return;T._leaveCb&&T._leaveCb(!0);const N=y[w];N&&Yr(t,N)&&N.el._leaveCb&&N.el._leaveCb(),x(G,[T])},enter(T){let G=l,N=h,U=u;if(!r.isMounted)if(i)G=v||l,N=C||h,U=S||u;else return;let re=!1;const Z=T._enterCb=ge=>{re||(re=!0,ge?x(U,[T]):x(N,[T]),O.delayedLeave&&O.delayedLeave(),T._enterCb=void 0)};G?R(G,[T,Z]):Z()},leave(T,G){const N=String(t.key);if(T._enterCb&&T._enterCb(!0),r.isUnmounting)return G();x(p,[T]);let U=!1;const re=T._leaveCb=Z=>{U||(U=!0,G(),Z?x(f,[T]):x(d,[T]),T._leaveCb=void 0,y[N]===t&&delete y[N])};y[N]=t,c?R(c,[T,re]):re()},clone(T){return ao(T,e,r,n)}};return O}function La(t){if(Os(t))return t=xr(t),t.children=null,t}function Hl(t){return Os(t)?t.children?t.children[0]:void 0:t}function oo(t,e){t.shapeFlag&6&&t.component?oo(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ru(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===Wt?(a.patchFlag&128&&i++,n=n.concat(Ru(a.children,e,o))):(e||a.type!==It)&&n.push(o!=null?xr(a,{key:o}):a)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function H_(t){return _e(t)?{setup:t,name:t.name}:t}const ns=t=>!!t.type.__asyncLoader,Os=t=>t.type.__isKeepAlive;function ad(t,e){Iu(t,"a",e)}function od(t,e){Iu(t,"da",e)}function Iu(t,e,r=tt){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ts(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Os(i.parent.vnode)&&ld(n,e,r,i),i=i.parent}}function ld(t,e,r,n){const i=Ts(e,t,n,!0);Nu(()=>{$o(n[e],i)},r)}function Ts(t,e,r=tt,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;An(),xn(r);const o=xt(e,r,t,a);return Qr(),kn(),o});return n?i.unshift(s):i.push(s),s}}const sr=t=>(e,r=tt)=>(!di||t==="sp")&&Ts(t,(...n)=>e(...n),r),hd=sr("bm"),fl=sr("m"),ud=sr("bu"),cd=sr("u"),Du=sr("bum"),Nu=sr("um"),fd=sr("sp"),dd=sr("rtg"),pd=sr("rtc");function gd(t,e=tt){Ts("ec",t,e)}function U_(t,e){const r=wt;if(r===null)return t;const n=Rs(r)||r.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,h=De]=e[s];a&&(_e(a)&&(a={mounted:a,updated:a}),a.deep&&Xr(o),i.push({dir:a,instance:n,value:o,oldValue:void 0,arg:l,modifiers:h}))}return t}function Br(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&(An(),xt(l,r,8,[t.el,o,t,e]),kn())}}const vd=Symbol();function W_(t,e,r,n){let i;const s=r&&r[n];if(de(t)||Je(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Ue(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const h=a[o];i[o]=e(t[h],h,o,s&&s[o])}}else i=[];return r&&(r[n]=i),i}const lo=t=>t?Vu(t)?Rs(t)||t.proxy:lo(t.parent):null,ti=nt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lo(t.parent),$root:t=>lo(t.root),$emit:t=>t.emit,$options:t=>dl(t),$forceUpdate:t=>t.f||(t.f=()=>cl(t.update)),$nextTick:t=>t.n||(t.n=ul.bind(t.proxy)),$watch:t=>rd.bind(t)}),Ra=(t,e)=>t!==De&&!t.__isScriptSetup&&be(t,e),_d={get({_:t},e){const{ctx:r,setupState:n,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let h;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(Ra(n,e))return a[e]=1,n[e];if(i!==De&&be(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&be(h,e))return a[e]=3,s[e];if(r!==De&&be(r,e))return a[e]=4,r[e];ho&&(a[e]=0)}}const u=ti[e];let p,c;if(u)return e==="$attrs"&&vt(t,"get",e),u(t);if((p=o.__cssModules)&&(p=p[e]))return p;if(r!==De&&be(r,e))return a[e]=4,r[e];if(c=l.config.globalProperties,be(c,e))return c[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return Ra(i,e)?(i[e]=r,!0):n!==De&&be(n,e)?(n[e]=r,!0):be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},a){let o;return!!r[a]||t!==De&&be(t,a)||Ra(e,a)||(o=s[0])&&be(o,a)||be(n,a)||be(ti,a)||be(i.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:be(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let ho=!0;function md(t){const e=dl(t),r=t.proxy,n=t.ctx;ho=!1,e.beforeCreate&&Ul(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:h,created:u,beforeMount:p,mounted:c,beforeUpdate:d,updated:f,activated:_,deactivated:v,beforeDestroy:C,beforeUnmount:S,destroyed:w,unmounted:y,render:x,renderTracked:R,renderTriggered:O,errorCaptured:T,serverPrefetch:G,expose:N,inheritAttrs:U,components:re,directives:Z,filters:ge}=e;if(h&&yd(h,n,null,t.appContext.config.unwrapInjectedRef),a)for(const ue in a){const fe=a[ue];_e(fe)&&(n[ue]=fe.bind(r))}if(i){const ue=i.call(r,r);Ue(ue)&&(t.data=Es(ue))}if(ho=!0,s)for(const ue in s){const fe=s[ue],Ge=_e(fe)?fe.bind(r,r):_e(fe.get)?fe.get.bind(r,r):Rt,pe=!_e(fe)&&_e(fe.set)?fe.set.bind(r):Rt,Se=_l({get:Ge,set:pe});Object.defineProperty(n,ue,{enumerable:!0,configurable:!0,get:()=>Se.value,set:ke=>Se.value=ke})}if(o)for(const ue in o)Gu(o[ue],n,r,ue);if(l){const ue=_e(l)?l.call(r):l;Reflect.ownKeys(ue).forEach(fe=>{td(fe,ue[fe])})}u&&Ul(u,t,"c");function he(ue,fe){de(fe)?fe.forEach(Ge=>ue(Ge.bind(r))):fe&&ue(fe.bind(r))}if(he(hd,p),he(fl,c),he(ud,d),he(cd,f),he(ad,_),he(od,v),he(gd,T),he(pd,R),he(dd,O),he(Du,S),he(Nu,y),he(fd,G),de(N))if(N.length){const ue=t.exposed||(t.exposed={});N.forEach(fe=>{Object.defineProperty(ue,fe,{get:()=>r[fe],set:Ge=>r[fe]=Ge})})}else t.exposed||(t.exposed={});x&&t.render===Rt&&(t.render=x),U!=null&&(t.inheritAttrs=U),re&&(t.components=re),Z&&(t.directives=Z)}function yd(t,e,r=Rt,n=!1){de(t)&&(t=uo(t));for(const i in t){const s=t[i];let a;Ue(s)?"default"in s?a=ei(s.from||i,s.default,!0):a=ei(s.from||i):a=ei(s),Xe(a)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[i]=a}}function Ul(t,e,r){xt(de(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Gu(t,e,r,n){const i=n.includes(".")?Mu(r,n):()=>r[n];if(Je(t)){const s=e[t];_e(s)&&jr(i,s)}else if(_e(t))jr(i,t.bind(r));else if(Ue(t))if(de(t))t.forEach(s=>Gu(s,e,r,n));else{const s=_e(t.handler)?t.handler.bind(r):e[t.handler];_e(s)&&jr(i,s,t)}}function dl(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(h=>ps(l,h,a,!0)),ps(l,e,a)),Ue(e)&&s.set(e,l),l}function ps(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&ps(t,s,r,!0),i&&i.forEach(a=>ps(t,a,r,!0));for(const a in e)if(!(n&&a==="expose")){const o=Sd[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Sd={data:Wl,props:Wr,emits:Wr,methods:Wr,computed:Wr,beforeCreate:at,created:at,beforeMount:at,mounted:at,beforeUpdate:at,updated:at,beforeDestroy:at,beforeUnmount:at,destroyed:at,unmounted:at,activated:at,deactivated:at,errorCaptured:at,serverPrefetch:at,components:Wr,directives:Wr,watch:Cd,provide:Wl,inject:bd};function Wl(t,e){return e?t?function(){return nt(_e(t)?t.call(this,this):t,_e(e)?e.call(this,this):e)}:e:t}function bd(t,e){return Wr(uo(t),uo(e))}function uo(t){if(de(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function at(t,e){return t?[...new Set([].concat(t,e))]:e}function Wr(t,e){return t?nt(nt(Object.create(null),t),e):e}function Cd(t,e){if(!t)return e;if(!e)return t;const r=nt(Object.create(null),t);for(const n in e)r[n]=at(t[n],e[n]);return r}function wd(t,e,r,n=!1){const i={},s={};us(s,Ls,1),t.propsDefaults=Object.create(null),Fu(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);r?t.props=n?i:Rf(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function xd(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Pe(i),[l]=t.propsOptions;let h=!1;if((n||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let p=0;p<u.length;p++){let c=u[p];if(ks(t.emitsOptions,c))continue;const d=e[c];if(l)if(be(s,c))d!==s[c]&&(s[c]=d,h=!0);else{const f=bn(c);i[f]=co(l,o,f,d,t,!1)}else d!==s[c]&&(s[c]=d,h=!0)}}}else{Fu(t,e,i,s)&&(h=!0);let u;for(const p in o)(!e||!be(e,p)&&((u=En(p))===p||!be(e,u)))&&(l?r&&(r[p]!==void 0||r[u]!==void 0)&&(i[p]=co(l,o,p,void 0,t,!0)):delete i[p]);if(s!==o)for(const p in s)(!e||!be(e,p)&&!0)&&(delete s[p],h=!0)}h&&ir(t,"set","$attrs")}function Fu(t,e,r,n){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(ts(l))continue;const h=e[l];let u;i&&be(i,u=bn(l))?!s||!s.includes(u)?r[u]=h:(o||(o={}))[u]=h:ks(t.emitsOptions,l)||(!(l in n)||h!==n[l])&&(n[l]=h,a=!0)}if(s){const l=Pe(r),h=o||De;for(let u=0;u<s.length;u++){const p=s[u];r[p]=co(i,l,p,h[p],t,!be(h,p))}}return a}function co(t,e,r,n,i,s){const a=t[r];if(a!=null){const o=be(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&_e(l)){const{propsDefaults:h}=i;r in h?n=h[r]:(xn(i),n=h[r]=l.call(null,e),Qr())}else n=l}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===En(r))&&(n=!0))}return n}function Bu(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!_e(t)){const u=p=>{l=!0;const[c,d]=Bu(p,e,!0);nt(a,c),d&&o.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Ue(t)&&n.set(t,vn),vn;if(de(s))for(let u=0;u<s.length;u++){const p=bn(s[u]);zl(p)&&(a[p]=De)}else if(s)for(const u in s){const p=bn(u);if(zl(p)){const c=s[u],d=a[p]=de(c)||_e(c)?{type:c}:Object.assign({},c);if(d){const f=Kl(Boolean,d.type),_=Kl(String,d.type);d[0]=f>-1,d[1]=_<0||f<_,(f>-1||be(d,"default"))&&o.push(p)}}}const h=[a,o];return Ue(t)&&n.set(t,h),h}function zl(t){return t[0]!=="$"}function ql(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Yl(t,e){return ql(t)===ql(e)}function Kl(t,e){return de(e)?e.findIndex(r=>Yl(r,t)):_e(e)&&Yl(e,t)?0:-1}const Hu=t=>t[0]==="_"||t==="$stable",pl=t=>de(t)?t.map(zt):[zt(t)],Pd=(t,e,r)=>{if(e._n)return e;const n=Vf((...i)=>pl(e(...i)),r);return n._c=!1,n},Uu=(t,e,r)=>{const n=t._ctx;for(const i in t){if(Hu(i))continue;const s=t[i];if(_e(s))e[i]=Pd(i,s,n);else if(s!=null){const a=pl(s);e[i]=()=>a}}},Wu=(t,e)=>{const r=pl(e);t.slots.default=()=>r},Ed=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Pe(e),us(e,"_",r)):Uu(e,t.slots={})}else t.slots={},e&&Wu(t,e);us(t.slots,Ls,1)},Ad=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,a=De;if(n.shapeFlag&32){const o=e._;o?r&&o===1?s=!1:(nt(i,e),!r&&o===1&&delete i._):(s=!e.$stable,Uu(e,i)),a=e}else e&&(Wu(t,e),a={default:1});if(s)for(const o in i)!Hu(o)&&!(o in a)&&delete i[o]};function zu(){return{app:null,config:{isNativeTag:$c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kd=0;function Od(t,e){return function(n,i=null){_e(n)||(n=Object.assign({},n)),i!=null&&!Ue(i)&&(i=null);const s=zu(),a=new Set;let o=!1;const l=s.app={_uid:kd++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Zd,get config(){return s.config},set config(h){},use(h,...u){return a.has(h)||(h&&_e(h.install)?(a.add(h),h.install(l,...u)):_e(h)&&(a.add(h),h(l,...u))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,u){return u?(s.components[h]=u,l):s.components[h]},directive(h,u){return u?(s.directives[h]=u,l):s.directives[h]},mount(h,u,p){if(!o){const c=nr(n,i);return c.appContext=s,u&&e?e(c,h):t(c,h,p),o=!0,l._container=h,h.__vue_app__=l,Rs(c.component)||c.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,u){return s.provides[h]=u,l}};return l}}function fo(t,e,r,n,i=!1){if(de(t)){t.forEach((c,d)=>fo(c,e&&(de(e)?e[d]:e),r,n,i));return}if(ns(n)&&!i)return;const s=n.shapeFlag&4?Rs(n.component)||n.component.proxy:n.el,a=i?null:s,{i:o,r:l}=t,h=e&&e.r,u=o.refs===De?o.refs={}:o.refs,p=o.setupState;if(h!=null&&h!==l&&(Je(h)?(u[h]=null,be(p,h)&&(p[h]=null)):Xe(h)&&(h.value=null)),_e(l))Cr(l,o,12,[a,u]);else{const c=Je(l),d=Xe(l);if(c||d){const f=()=>{if(t.f){const _=c?be(p,l)?p[l]:u[l]:l.value;i?de(_)&&$o(_,s):de(_)?_.includes(s)||_.push(s):c?(u[l]=[s],be(p,l)&&(p[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else c?(u[l]=a,be(p,l)&&(p[l]=a)):d&&(l.value=a,t.k&&(u[t.k]=a))};a?(f.id=-1,ut(f,r)):f()}}}const ut=ed;function Td(t){return Md(t)}function Md(t,e){const r=af();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:h,setElementText:u,parentNode:p,nextSibling:c,setScopeId:d=Rt,insertStaticContent:f}=t,_=(A,k,D,H=null,B=null,q=null,J=!1,Y=null,Q=!!k.dynamicChildren)=>{if(A===k)return;A&&!Yr(A,k)&&(H=hr(A),ke(A,B,q,!0),A=null),k.patchFlag===-2&&(Q=!1,k.dynamicChildren=null);const{type:W,ref:se,shapeFlag:te}=k;switch(W){case Ms:v(A,k,D,H);break;case It:C(A,k,D,H);break;case Ia:A==null&&S(k,D,H,J);break;case Wt:re(A,k,D,H,B,q,J,Y,Q);break;default:te&1?x(A,k,D,H,B,q,J,Y,Q):te&6?Z(A,k,D,H,B,q,J,Y,Q):(te&64||te&128)&&W.process(A,k,D,H,B,q,J,Y,Q,mt)}se!=null&&B&&fo(se,A&&A.ref,q,k||A,!k)},v=(A,k,D,H)=>{if(A==null)n(k.el=o(k.children),D,H);else{const B=k.el=A.el;k.children!==A.children&&h(B,k.children)}},C=(A,k,D,H)=>{A==null?n(k.el=l(k.children||""),D,H):k.el=A.el},S=(A,k,D,H)=>{[A.el,A.anchor]=f(A.children,k,D,H,A.el,A.anchor)},w=({el:A,anchor:k},D,H)=>{let B;for(;A&&A!==k;)B=c(A),n(A,D,H),A=B;n(k,D,H)},y=({el:A,anchor:k})=>{let D;for(;A&&A!==k;)D=c(A),i(A),A=D;i(k)},x=(A,k,D,H,B,q,J,Y,Q)=>{J=J||k.type==="svg",A==null?R(k,D,H,B,q,J,Y,Q):G(A,k,B,q,J,Y,Q)},R=(A,k,D,H,B,q,J,Y)=>{let Q,W;const{type:se,props:te,shapeFlag:ne,transition:le,dirs:ve}=A;if(Q=A.el=a(A.type,q,te&&te.is,te),ne&8?u(Q,A.children):ne&16&&T(A.children,Q,null,H,B,q&&se!=="foreignObject",J,Y),ve&&Br(A,null,H,"created"),te){for(const Ce in te)Ce!=="value"&&!ts(Ce)&&s(Q,Ce,null,te[Ce],q,A.children,H,B,ct);"value"in te&&s(Q,"value",null,te.value),(W=te.onVnodeBeforeMount)&&Ut(W,H,A)}O(Q,A,A.scopeId,J,H),ve&&Br(A,null,H,"beforeMount");const Ee=(!B||B&&!B.pendingBranch)&&le&&!le.persisted;Ee&&le.beforeEnter(Q),n(Q,k,D),((W=te&&te.onVnodeMounted)||Ee||ve)&&ut(()=>{W&&Ut(W,H,A),Ee&&le.enter(Q),ve&&Br(A,null,H,"mounted")},B)},O=(A,k,D,H,B)=>{if(D&&d(A,D),H)for(let q=0;q<H.length;q++)d(A,H[q]);if(B){let q=B.subTree;if(k===q){const J=B.vnode;O(A,J,J.scopeId,J.slotScopeIds,B.parent)}}},T=(A,k,D,H,B,q,J,Y,Q=0)=>{for(let W=Q;W<A.length;W++){const se=A[W]=Y?mr(A[W]):zt(A[W]);_(null,se,k,D,H,B,q,J,Y)}},G=(A,k,D,H,B,q,J)=>{const Y=k.el=A.el;let{patchFlag:Q,dynamicChildren:W,dirs:se}=k;Q|=A.patchFlag&16;const te=A.props||De,ne=k.props||De;let le;D&&Hr(D,!1),(le=ne.onVnodeBeforeUpdate)&&Ut(le,D,k,A),se&&Br(k,A,D,"beforeUpdate"),D&&Hr(D,!0);const ve=B&&k.type!=="foreignObject";if(W?N(A.dynamicChildren,W,Y,D,H,ve,q):J||fe(A,k,Y,null,D,H,ve,q,!1),Q>0){if(Q&16)U(Y,k,te,ne,D,H,B);else if(Q&2&&te.class!==ne.class&&s(Y,"class",null,ne.class,B),Q&4&&s(Y,"style",te.style,ne.style,B),Q&8){const Ee=k.dynamicProps;for(let Ce=0;Ce<Ee.length;Ce++){const Ne=Ee[Ce],Ye=te[Ne],lt=ne[Ne];(lt!==Ye||Ne==="value")&&s(Y,Ne,Ye,lt,B,A.children,D,H,ct)}}Q&1&&A.children!==k.children&&u(Y,k.children)}else!J&&W==null&&U(Y,k,te,ne,D,H,B);((le=ne.onVnodeUpdated)||se)&&ut(()=>{le&&Ut(le,D,k,A),se&&Br(k,A,D,"updated")},H)},N=(A,k,D,H,B,q,J)=>{for(let Y=0;Y<k.length;Y++){const Q=A[Y],W=k[Y],se=Q.el&&(Q.type===Wt||!Yr(Q,W)||Q.shapeFlag&70)?p(Q.el):D;_(Q,W,se,null,H,B,q,J,!0)}},U=(A,k,D,H,B,q,J)=>{if(D!==H){if(D!==De)for(const Y in D)!ts(Y)&&!(Y in H)&&s(A,Y,D[Y],null,J,k.children,B,q,ct);for(const Y in H){if(ts(Y))continue;const Q=H[Y],W=D[Y];Q!==W&&Y!=="value"&&s(A,Y,W,Q,J,k.children,B,q,ct)}"value"in H&&s(A,"value",D.value,H.value)}},re=(A,k,D,H,B,q,J,Y,Q)=>{const W=k.el=A?A.el:o(""),se=k.anchor=A?A.anchor:o("");let{patchFlag:te,dynamicChildren:ne,slotScopeIds:le}=k;le&&(Y=Y?Y.concat(le):le),A==null?(n(W,D,H),n(se,D,H),T(k.children,D,se,B,q,J,Y,Q)):te>0&&te&64&&ne&&A.dynamicChildren?(N(A.dynamicChildren,ne,D,B,q,J,Y),(k.key!=null||B&&k===B.subTree)&&qu(A,k,!0)):fe(A,k,D,se,B,q,J,Y,Q)},Z=(A,k,D,H,B,q,J,Y,Q)=>{k.slotScopeIds=Y,A==null?k.shapeFlag&512?B.ctx.activate(k,D,H,J,Q):ge(k,D,H,B,q,J,Q):ye(A,k,Q)},ge=(A,k,D,H,B,q,J)=>{const Y=A.component=qd(A,H,B);if(Os(A)&&(Y.ctx.renderer=mt),Yd(Y),Y.asyncDep){if(B&&B.registerDep(Y,he),!A.el){const Q=Y.subTree=nr(It);C(null,Q,k,D)}return}he(Y,A,k,D,B,q,J)},ye=(A,k,D)=>{const H=k.component=A.component;if(Jf(A,k,D))if(H.asyncDep&&!H.asyncResolved){ue(H,k,D);return}else H.next=k,qf(H.update),H.update();else k.el=A.el,H.vnode=k},he=(A,k,D,H,B,q,J)=>{const Y=()=>{if(A.isMounted){let{next:se,bu:te,u:ne,parent:le,vnode:ve}=A,Ee=se,Ce;Hr(A,!1),se?(se.el=ve.el,ue(A,se,J)):se=ve,te&&rs(te),(Ce=se.props&&se.props.onVnodeBeforeUpdate)&&Ut(Ce,le,se,ve),Hr(A,!0);const Ne=Ma(A),Ye=A.subTree;A.subTree=Ne,_(Ye,Ne,p(Ye.el),hr(Ye),A,B,q),se.el=Ne.el,Ee===null&&Zf(A,Ne.el),ne&&ut(ne,B),(Ce=se.props&&se.props.onVnodeUpdated)&&ut(()=>Ut(Ce,le,se,ve),B)}else{let se;const{el:te,props:ne}=k,{bm:le,m:ve,parent:Ee}=A,Ce=ns(k);if(Hr(A,!1),le&&rs(le),!Ce&&(se=ne&&ne.onVnodeBeforeMount)&&Ut(se,Ee,k),Hr(A,!0),te&&qe){const Ne=()=>{A.subTree=Ma(A),qe(te,A.subTree,A,B,null)};Ce?k.type.__asyncLoader().then(()=>!A.isUnmounted&&Ne()):Ne()}else{const Ne=A.subTree=Ma(A);_(null,Ne,D,H,A,B,q),k.el=Ne.el}if(ve&&ut(ve,B),!Ce&&(se=ne&&ne.onVnodeMounted)){const Ne=k;ut(()=>Ut(se,Ee,Ne),B)}(k.shapeFlag&256||Ee&&ns(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&A.a&&ut(A.a,B),A.isMounted=!0,k=D=H=null}},Q=A.effect=new nl(Y,()=>cl(W),A.scope),W=A.update=()=>Q.run();W.id=A.uid,Hr(A,!0),W()},ue=(A,k,D)=>{k.component=A;const H=A.vnode.props;A.vnode=k,A.next=null,xd(A,k.props,H,D),Ad(A,k.children,D),An(),Fl(),kn()},fe=(A,k,D,H,B,q,J,Y,Q=!1)=>{const W=A&&A.children,se=A?A.shapeFlag:0,te=k.children,{patchFlag:ne,shapeFlag:le}=k;if(ne>0){if(ne&128){pe(W,te,D,H,B,q,J,Y,Q);return}else if(ne&256){Ge(W,te,D,H,B,q,J,Y,Q);return}}le&8?(se&16&&ct(W,B,q),te!==W&&u(D,te)):se&16?le&16?pe(W,te,D,H,B,q,J,Y,Q):ct(W,B,q,!0):(se&8&&u(D,""),le&16&&T(te,D,H,B,q,J,Y,Q))},Ge=(A,k,D,H,B,q,J,Y,Q)=>{A=A||vn,k=k||vn;const W=A.length,se=k.length,te=Math.min(W,se);let ne;for(ne=0;ne<te;ne++){const le=k[ne]=Q?mr(k[ne]):zt(k[ne]);_(A[ne],le,D,null,B,q,J,Y,Q)}W>se?ct(A,B,q,!0,!1,te):T(k,D,H,B,q,J,Y,Q,te)},pe=(A,k,D,H,B,q,J,Y,Q)=>{let W=0;const se=k.length;let te=A.length-1,ne=se-1;for(;W<=te&&W<=ne;){const le=A[W],ve=k[W]=Q?mr(k[W]):zt(k[W]);if(Yr(le,ve))_(le,ve,D,null,B,q,J,Y,Q);else break;W++}for(;W<=te&&W<=ne;){const le=A[te],ve=k[ne]=Q?mr(k[ne]):zt(k[ne]);if(Yr(le,ve))_(le,ve,D,null,B,q,J,Y,Q);else break;te--,ne--}if(W>te){if(W<=ne){const le=ne+1,ve=le<se?k[le].el:H;for(;W<=ne;)_(null,k[W]=Q?mr(k[W]):zt(k[W]),D,ve,B,q,J,Y,Q),W++}}else if(W>ne)for(;W<=te;)ke(A[W],B,q,!0),W++;else{const le=W,ve=W,Ee=new Map;for(W=ve;W<=ne;W++){const Le=k[W]=Q?mr(k[W]):zt(k[W]);Le.key!=null&&Ee.set(Le.key,W)}let Ce,Ne=0;const Ye=ne-ve+1;let lt=!1,ur=0;const At=new Array(Ye);for(W=0;W<Ye;W++)At[W]=0;for(W=le;W<=te;W++){const Le=A[W];if(Ne>=Ye){ke(Le,B,q,!0);continue}let ht;if(Le.key!=null)ht=Ee.get(Le.key);else for(Ce=ve;Ce<=ne;Ce++)if(At[Ce-ve]===0&&Yr(Le,k[Ce])){ht=Ce;break}ht===void 0?ke(Le,B,q,!0):(At[ht-ve]=W+1,ht>=ur?ur=ht:lt=!0,_(Le,k[ht],D,null,B,q,J,Y,Q),Ne++)}const Fe=lt?Ld(At):vn;for(Ce=Fe.length-1,W=Ye-1;W>=0;W--){const Le=ve+W,ht=k[Le],cr=Le+1<se?k[Le+1].el:H;At[W]===0?_(null,ht,D,cr,B,q,J,Y,Q):lt&&(Ce<0||W!==Fe[Ce]?Se(ht,D,cr,2):Ce--)}}},Se=(A,k,D,H,B=null)=>{const{el:q,type:J,transition:Y,children:Q,shapeFlag:W}=A;if(W&6){Se(A.component.subTree,k,D,H);return}if(W&128){A.suspense.move(k,D,H);return}if(W&64){J.move(A,k,D,mt);return}if(J===Wt){n(q,k,D);for(let te=0;te<Q.length;te++)Se(Q[te],k,D,H);n(A.anchor,k,D);return}if(J===Ia){w(A,k,D);return}if(H!==2&&W&1&&Y)if(H===0)Y.beforeEnter(q),n(q,k,D),ut(()=>Y.enter(q),B);else{const{leave:te,delayLeave:ne,afterLeave:le}=Y,ve=()=>n(q,k,D),Ee=()=>{te(q,()=>{ve(),le&&le()})};ne?ne(q,ve,Ee):Ee()}else n(q,k,D)},ke=(A,k,D,H=!1,B=!1)=>{const{type:q,props:J,ref:Y,children:Q,dynamicChildren:W,shapeFlag:se,patchFlag:te,dirs:ne}=A;if(Y!=null&&fo(Y,null,D,A,!0),se&256){k.ctx.deactivate(A);return}const le=se&1&&ne,ve=!ns(A);let Ee;if(ve&&(Ee=J&&J.onVnodeBeforeUnmount)&&Ut(Ee,k,A),se&6)Ln(A.component,D,H);else{if(se&128){A.suspense.unmount(D,H);return}le&&Br(A,null,k,"beforeUnmount"),se&64?A.type.remove(A,k,D,B,mt,H):W&&(q!==Wt||te>0&&te&64)?ct(W,k,D,!1,!0):(q===Wt&&te&384||!B&&se&16)&&ct(Q,k,D),H&&it(A)}(ve&&(Ee=J&&J.onVnodeUnmounted)||le)&&ut(()=>{Ee&&Ut(Ee,k,A),le&&Br(A,null,k,"unmounted")},D)},it=A=>{const{type:k,el:D,anchor:H,transition:B}=A;if(k===Wt){ot(D,H);return}if(k===Ia){y(A);return}const q=()=>{i(D),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(A.shapeFlag&1&&B&&!B.persisted){const{leave:J,delayLeave:Y}=B,Q=()=>J(D,q);Y?Y(A.el,q,Q):Q()}else q()},ot=(A,k)=>{let D;for(;A!==k;)D=c(A),i(A),A=D;i(k)},Ln=(A,k,D)=>{const{bum:H,scope:B,update:q,subTree:J,um:Y}=A;H&&rs(H),B.stop(),q&&(q.active=!1,ke(J,A,k,D)),Y&&ut(Y,k),ut(()=>{A.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ct=(A,k,D,H=!1,B=!1,q=0)=>{for(let J=q;J<A.length;J++)ke(A[J],k,D,H,B)},hr=A=>A.shapeFlag&6?hr(A.component.subTree):A.shapeFlag&128?A.suspense.next():c(A.anchor||A.el),ae=(A,k,D)=>{A==null?k._vnode&&ke(k._vnode,null,null,!0):_(k._vnode||null,A,k,null,null,null,D),Fl(),Eu(),k._vnode=A},mt={p:_,um:ke,m:Se,r:it,mt:ge,mc:T,pc:fe,pbc:N,n:hr,o:t};let Or,qe;return e&&([Or,qe]=e(mt)),{render:ae,hydrate:Or,createApp:Od(ae,Or)}}function Hr({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function qu(t,e,r=!1){const n=t.children,i=e.children;if(de(n)&&de(i))for(let s=0;s<n.length;s++){const a=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=mr(i[s]),o.el=a.el),r||qu(a,o)),o.type===Ms&&(o.el=a.el)}}function Ld(t){const e=t.slice(),r=[0];let n,i,s,a,o;const l=t.length;for(n=0;n<l;n++){const h=t[n];if(h!==0){if(i=r[r.length-1],t[i]<h){e[n]=i,r.push(n);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,t[r[o]]<h?s=o+1:a=o;h<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}const Rd=t=>t.__isTeleport,Wt=Symbol(void 0),Ms=Symbol(void 0),It=Symbol(void 0),Ia=Symbol(void 0),ri=[];let Lt=null;function Id(t=!1){ri.push(Lt=t?null:[])}function Dd(){ri.pop(),Lt=ri[ri.length-1]||null}let fi=1;function Xl(t){fi+=t}function Yu(t){return t.dynamicChildren=fi>0?Lt||vn:null,Dd(),fi>0&&Lt&&Lt.push(t),t}function z_(t,e,r,n,i,s){return Yu(Xu(t,e,r,n,i,s,!0))}function Nd(t,e,r,n,i){return Yu(nr(t,e,r,n,i,!0))}function Gd(t){return t?t.__v_isVNode===!0:!1}function Yr(t,e){return t.type===e.type&&t.key===e.key}const Ls="__vInternal",Ku=({key:t})=>t!=null?t:null,is=({ref:t,ref_key:e,ref_for:r})=>t!=null?Je(t)||Xe(t)||_e(t)?{i:wt,r:t,k:e,f:!!r}:t:null;function Xu(t,e=null,r=null,n=0,i=null,s=t===Wt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ku(e),ref:e&&is(e),scopeId:Ou,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wt};return o?(gl(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=Je(r)?8:16),fi>0&&!a&&Lt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Lt.push(l),l}const nr=Fd;function Fd(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===vd)&&(t=It),Gd(t)){const o=xr(t,e,!0);return r&&gl(o,r),fi>0&&!s&&Lt&&(o.shapeFlag&6?Lt[Lt.indexOf(t)]=o:Lt.push(o)),o.patchFlag|=-2,o}if(jd(t)&&(t=t.__vccOpts),e){e=Bd(e);let{class:o,style:l}=e;o&&!Je(o)&&(e.class=Jo(o)),Ue(l)&&(mu(l)&&!de(l)&&(l=nt({},l)),e.style=Qo(l))}const a=Je(t)?1:$f(t)?128:Rd(t)?64:Ue(t)?4:_e(t)?2:0;return Xu(t,e,r,n,i,a,s,!0)}function Bd(t){return t?mu(t)||Ls in t?nt({},t):t:null}function xr(t,e,r=!1){const{props:n,ref:i,patchFlag:s,children:a}=t,o=e?Ud(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&Ku(o),ref:e&&e.ref?r&&i?de(i)?i.concat(is(e)):[i,is(e)]:is(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Wt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xr(t.ssContent),ssFallback:t.ssFallback&&xr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Hd(t=" ",e=0){return nr(Ms,null,t,e)}function q_(t="",e=!1){return e?(Id(),Nd(It,null,t)):nr(It,null,t)}function zt(t){return t==null||typeof t=="boolean"?nr(It):de(t)?nr(Wt,null,t.slice()):typeof t=="object"?mr(t):nr(Ms,null,String(t))}function mr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xr(t)}function gl(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(de(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),gl(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(Ls in e)?e._ctx=wt:i===3&&wt&&(wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _e(e)?(e={default:e,_ctx:wt},r=32):(e=String(e),n&64?(r=16,e=[Hd(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ud(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Jo([e.class,n.class]));else if(i==="style")e.style=Qo([e.style,n.style]);else if(Cs(i)){const s=e[i],a=n[i];a&&s!==a&&!(de(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=n[i])}return e}function Ut(t,e,r,n=null){xt(t,e,7,[r,n])}const Wd=zu();let zd=0;function qd(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||Wd,s={uid:zd++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new nu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bu(n,i),emitsOptions:ku(n,i),emit:null,emitted:null,propsDefaults:De,inheritAttrs:n.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Xf.bind(null,s),t.ce&&t.ce(s),s}let tt=null;const vl=()=>tt||wt,xn=t=>{tt=t,t.scope.on()},Qr=()=>{tt&&tt.scope.off(),tt=null};function Vu(t){return t.vnode.shapeFlag&4}let di=!1;function Yd(t,e=!1){di=e;const{props:r,children:n}=t.vnode,i=Vu(t);wd(t,r,i,e),Ed(t,n);const s=i?Kd(t,e):void 0;return di=!1,s}function Kd(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=wn(new Proxy(t.ctx,_d));const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?Vd(t):null;xn(t),An();const s=Cr(n,t,0,[t.props,i]);if(kn(),Qr(),$h(s)){if(s.then(Qr,Qr),e)return s.then(a=>{Vl(t,a,e)}).catch(a=>{As(a,t,0)});t.asyncDep=s}else Vl(t,s,e)}else ju(t,e)}function Vl(t,e,r){_e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=Cu(e)),ju(t,r)}let jl;function ju(t,e,r){const n=t.type;if(!t.render){if(!e&&jl&&!n.render){const i=n.template||dl(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=n,h=nt(nt({isCustomElement:s,delimiters:o},a),l);n.render=jl(i,h)}}t.render=n.render||Rt}xn(t),An(),md(t),kn(),Qr()}function Xd(t){return new Proxy(t.attrs,{get(e,r){return vt(t,"get","$attrs"),e[r]}})}function Vd(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=Xd(t))},slots:t.slots,emit:t.emit,expose:e}}function Rs(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Cu(wn(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ti)return ti[r](t)},has(e,r){return r in e||r in ti}}))}function jd(t){return _e(t)&&"__vccOpts"in t}const _l=(t,e)=>Uf(t,e,di),Qd=Symbol(""),Jd=()=>ei(Qd),Zd="3.2.45",$d="http://www.w3.org/2000/svg",Kr=typeof document<"u"?document:null,Ql=Kr&&Kr.createElement("template"),ep={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e?Kr.createElementNS($d,t):Kr.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Kr.createTextNode(t),createComment:t=>Kr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const a=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{Ql.innerHTML=n?`<svg>${t}</svg>`:t;const o=Ql.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function tp(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function rp(t,e,r){const n=t.style,i=Je(r);if(r&&!i){for(const s in r)po(n,s,r[s]);if(e&&!Je(e))for(const s in e)r[s]==null&&po(n,s,"")}else{const s=n.display;i?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const Jl=/\s*!important$/;function po(t,e,r){if(de(r))r.forEach(n=>po(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=np(t,e);Jl.test(r)?t.setProperty(En(n),r.replace(Jl,""),"important"):t[n]=r}}const Zl=["Webkit","Moz","ms"],Da={};function np(t,e){const r=Da[e];if(r)return r;let n=bn(e);if(n!=="filter"&&n in t)return Da[e]=n;n=ru(n);for(let i=0;i<Zl.length;i++){const s=Zl[i]+n;if(s in t)return Da[e]=s}return e}const $l="http://www.w3.org/1999/xlink";function ip(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS($l,e.slice(6,e.length)):t.setAttributeNS($l,e,r);else{const s=Zc(e);r==null||s&&!Qh(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function sp(t,e,r,n,i,s,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,i,s),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const l=r==null?"":r;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),r==null&&t.removeAttribute(e);return}let o=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=Qh(r):r==null&&l==="string"?(r="",o=!0):l==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(e)}function pn(t,e,r,n){t.addEventListener(e,r,n)}function ap(t,e,r,n){t.removeEventListener(e,r,n)}function op(t,e,r,n,i=null){const s=t._vei||(t._vei={}),a=s[e];if(n&&a)a.value=n;else{const[o,l]=lp(e);if(n){const h=s[e]=cp(n,i);pn(t,o,h,l)}else a&&(ap(t,o,a,l),s[e]=void 0)}}const eh=/(?:Once|Passive|Capture)$/;function lp(t){let e;if(eh.test(t)){e={};let n;for(;n=t.match(eh);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):En(t.slice(2)),e]}let Na=0;const hp=Promise.resolve(),up=()=>Na||(hp.then(()=>Na=0),Na=Date.now());function cp(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;xt(fp(n,r.value),e,5,[n])};return r.value=t,r.attached=up(),r}function fp(t,e){if(de(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const th=/^on[a-z]/,dp=(t,e,r,n,i=!1,s,a,o,l)=>{e==="class"?tp(t,n,i):e==="style"?rp(t,r,n):Cs(e)?Zo(e)||op(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pp(t,e,n,i))?sp(t,e,n,s,a,o,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ip(t,e,n,i))};function pp(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&th.test(e)&&_e(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||th.test(e)&&Je(r)?!1:e in t}const gp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};sd.props;const rh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return de(e)?r=>rs(e,r):e};function vp(t){t.target.composing=!0}function nh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Y_={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t._assign=rh(i);const s=n||i.props&&i.props.type==="number";pn(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),s&&(o=cs(o)),t._assign(o)}),r&&pn(t,"change",()=>{t.value=t.value.trim()}),e||(pn(t,"compositionstart",vp),pn(t,"compositionend",nh),pn(t,"change",nh))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:i}},s){if(t._assign=rh(s),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(i||t.type==="number")&&cs(t.value)===e))return;const a=e==null?"":e;t.value!==a&&(t.value=a)}},_p=["ctrl","shift","alt","meta"],mp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_p.some(r=>t[`${r}Key`]&&!e.includes(r))},K_=(t,e)=>(r,...n)=>{for(let i=0;i<e.length;i++){const s=mp[e[i]];if(s&&s(r,e))return}return t(r,...n)},yp=nt({patchProp:dp},ep);let ih;function Sp(){return ih||(ih=Td(yp))}const X_=(...t)=>{const e=Sp().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=bp(n);if(!i)return;const s=e._component;!_e(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function bp(t){return Je(t)?document.querySelector(t):t}var Cp=!1;/*!
  * pinia v2.0.27
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Qu;const Is=t=>Qu=t,Ju=Symbol();function go(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ni;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ni||(ni={}));function V_(){const t=iu(!0),e=t.run(()=>bt({}));let r=[],n=[];const i=wn({install(s){Is(i),i._a=s,s.provide(Ju,i),s.config.globalProperties.$pinia=i,n.forEach(a=>r.push(a)),n=[]},use(s){return!this._a&&!Cp?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const Zu=()=>{};function sh(t,e,r,n=Zu){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&su()&&au(i),i}function cn(t,...e){t.slice().forEach(r=>{r(...e)})}function vo(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];go(i)&&go(n)&&t.hasOwnProperty(r)&&!Xe(n)&&!br(n)?t[r]=vo(i,n):t[r]=n}return t}const wp=Symbol();function xp(t){return!go(t)||!t.hasOwnProperty(wp)}const{assign:yr}=Object;function Pp(t){return!!(Xe(t)&&t.effect)}function Ep(t,e,r,n){const{state:i,actions:s,getters:a}=e,o=r.state.value[t];let l;function h(){o||(r.state.value[t]=i?i():{});const u=Gf(r.state.value[t]);return yr(u,s,Object.keys(a||{}).reduce((p,c)=>(p[c]=wn(_l(()=>{Is(r);const d=r._s.get(t);return a[c].call(d,d)})),p),{}))}return l=$u(t,h,e,r,n,!0),l.$reset=function(){const p=i?i():{};this.$patch(c=>{yr(c,p)})},l}function $u(t,e,r={},n,i,s){let a;const o=yr({actions:{}},r),l={deep:!0};let h,u,p=wn([]),c=wn([]),d;const f=n.state.value[t];!s&&!f&&(n.state.value[t]={}),bt({});let _;function v(O){let T;h=u=!1,typeof O=="function"?(O(n.state.value[t]),T={type:ni.patchFunction,storeId:t,events:d}):(vo(n.state.value[t],O),T={type:ni.patchObject,payload:O,storeId:t,events:d});const G=_=Symbol();ul().then(()=>{_===G&&(h=!0)}),u=!0,cn(p,T,n.state.value[t])}const C=Zu;function S(){a.stop(),p=[],c=[],n._s.delete(t)}function w(O,T){return function(){Is(n);const G=Array.from(arguments),N=[],U=[];function re(ye){N.push(ye)}function Z(ye){U.push(ye)}cn(c,{args:G,name:O,store:x,after:re,onError:Z});let ge;try{ge=T.apply(this&&this.$id===t?this:x,G)}catch(ye){throw cn(U,ye),ye}return ge instanceof Promise?ge.then(ye=>(cn(N,ye),ye)).catch(ye=>(cn(U,ye),Promise.reject(ye))):(cn(N,ge),ge)}}const y={_p:n,$id:t,$onAction:sh.bind(null,c),$patch:v,$reset:C,$subscribe(O,T={}){const G=sh(p,O,T.detached,()=>N()),N=a.run(()=>jr(()=>n.state.value[t],U=>{(T.flush==="sync"?u:h)&&O({storeId:t,type:ni.direct,events:d},U)},yr({},l,T)));return G},$dispose:S},x=Es(y);n._s.set(t,x);const R=n._e.run(()=>(a=iu(),a.run(()=>e())));for(const O in R){const T=R[O];if(Xe(T)&&!Pp(T)||br(T))s||(f&&xp(T)&&(Xe(T)?T.value=f[O]:vo(T,f[O])),n.state.value[t][O]=T);else if(typeof T=="function"){const G=w(O,T);R[O]=G,o.actions[O]=T}}return yr(x,R),yr(Pe(x),R),Object.defineProperty(x,"$state",{get:()=>n.state.value[t],set:O=>{v(T=>{yr(T,O)})}}),n._p.forEach(O=>{yr(x,a.run(()=>O({store:x,app:n._a,pinia:n,options:o})))}),f&&s&&r.hydrate&&r.hydrate(x.$state,f),h=!0,u=!0,x}function j_(t,e,r){let n,i;const s=typeof e=="function";typeof t=="string"?(n=t,i=s?r:e):(i=t,n=t.id);function a(o,l){const h=vl();return o=o||h&&ei(Ju),o&&Is(o),o=Qu,o._s.has(n)||(s?$u(n,e,i,o):Ep(n,i,o)),o._s.get(n)}return a.$id=n,a}var pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _o={exports:{}};(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",s=1,a=2,o=1/0,l=9007199254740991,h="[object Arguments]",u="[object Array]",p="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Function]",_="[object GeneratorFunction]",v="[object Map]",C="[object Number]",S="[object Object]",w="[object Promise]",y="[object RegExp]",x="[object Set]",R="[object String]",O="[object Symbol]",T="[object WeakMap]",G="[object ArrayBuffer]",N="[object DataView]",U="[object Float32Array]",re="[object Float64Array]",Z="[object Int8Array]",ge="[object Int16Array]",ye="[object Int32Array]",he="[object Uint8Array]",ue="[object Uint8ClampedArray]",fe="[object Uint16Array]",Ge="[object Uint32Array]",pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,ke=/^\./,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,Ln=/\\(\\)?/g,ct=/^\[object .+?Constructor\]$/,hr=/^(?:0|[1-9]\d*)$/,ae={};ae[U]=ae[re]=ae[Z]=ae[ge]=ae[ye]=ae[he]=ae[ue]=ae[fe]=ae[Ge]=!0,ae[h]=ae[u]=ae[G]=ae[p]=ae[N]=ae[c]=ae[d]=ae[f]=ae[v]=ae[C]=ae[S]=ae[y]=ae[x]=ae[R]=ae[T]=!1;var mt=typeof pt=="object"&&pt&&pt.Object===Object&&pt,Or=typeof self=="object"&&self&&self.Object===Object&&self,qe=mt||Or||Function("return this")(),A=e&&!e.nodeType&&e,k=A&&!0&&t&&!t.nodeType&&t,D=k&&k.exports===A,H=D&&mt.process,B=function(){try{return H&&H.binding("util")}catch{}}(),q=B&&B.isTypedArray;function J(m,E){for(var I=-1,V=m?m.length:0;++I<V;)if(E(m[I],I,m))return!0;return!1}function Y(m){return function(E){return E==null?void 0:E[m]}}function Q(m,E){for(var I,V=-1,ce=m.length;++V<ce;){var ie=E(m[V]);ie!==void 0&&(I=I===void 0?ie:I+ie)}return I}function W(m,E){for(var I=-1,V=Array(m);++I<m;)V[I]=E(I);return V}function se(m){return function(E){return m(E)}}function te(m,E){return m==null?void 0:m[E]}function ne(m){var E=!1;if(m!=null&&typeof m.toString!="function")try{E=!!(m+"")}catch{}return E}function le(m){var E=-1,I=Array(m.size);return m.forEach(function(V,ce){I[++E]=[ce,V]}),I}function ve(m,E){return function(I){return m(E(I))}}function Ee(m){var E=-1,I=Array(m.size);return m.forEach(function(V){I[++E]=V}),I}var Ce=Array.prototype,Ne=Function.prototype,Ye=Object.prototype,lt=qe["__core-js_shared__"],ur=function(){var m=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),At=Ne.toString,Fe=Ye.hasOwnProperty,Le=Ye.toString,ht=RegExp("^"+At.call(Fe).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cr=qe.Symbol,Rn=qe.Uint8Array,Fs=Ye.propertyIsEnumerable,Bs=Ce.splice,Hs=ve(Object.keys,Object),Tr=fr(qe,"DataView"),kt=fr(qe,"Map"),Mr=fr(qe,"Promise"),Lr=fr(qe,"Set"),Rr=fr(qe,"WeakMap"),Ot=fr(Object,"create"),Us=Qt(Tr),Ws=Qt(kt),zs=Qt(Mr),qs=Qt(Lr),Ys=Qt(Rr),Kt=cr?cr.prototype:void 0,Ir=Kt?Kt.valueOf:void 0,In=Kt?Kt.toString:void 0;function st(m){var E=-1,I=m?m.length:0;for(this.clear();++E<I;){var V=m[E];this.set(V[0],V[1])}}function Ks(){this.__data__=Ot?Ot(null):{}}function Xs(m){return this.has(m)&&delete this.__data__[m]}function Vs(m){var E=this.__data__;if(Ot){var I=E[m];return I===i?void 0:I}return Fe.call(E,m)?E[m]:void 0}function js(m){var E=this.__data__;return Ot?E[m]!==void 0:Fe.call(E,m)}function Qs(m,E){var I=this.__data__;return I[m]=Ot&&E===void 0?i:E,this}st.prototype.clear=Ks,st.prototype.delete=Xs,st.prototype.get=Vs,st.prototype.has=js,st.prototype.set=Qs;function Ve(m){var E=-1,I=m?m.length:0;for(this.clear();++E<I;){var V=m[E];this.set(V[0],V[1])}}function Js(){this.__data__=[]}function Zs(m){var E=this.__data__,I=Vt(E,m);if(I<0)return!1;var V=E.length-1;return I==V?E.pop():Bs.call(E,I,1),!0}function $s(m){var E=this.__data__,I=Vt(E,m);return I<0?void 0:E[I][1]}function ea(m){return Vt(this.__data__,m)>-1}function ta(m,E){var I=this.__data__,V=Vt(I,m);return V<0?I.push([m,E]):I[V][1]=E,this}Ve.prototype.clear=Js,Ve.prototype.delete=Zs,Ve.prototype.get=$s,Ve.prototype.has=ea,Ve.prototype.set=ta;function je(m){var E=-1,I=m?m.length:0;for(this.clear();++E<I;){var V=m[E];this.set(V[0],V[1])}}function ra(){this.__data__={hash:new st,map:new(kt||Ve),string:new st}}function na(m){return Dr(this,m).delete(m)}function ia(m){return Dr(this,m).get(m)}function sa(m){return Dr(this,m).has(m)}function aa(m,E){return Dr(this,m).set(m,E),this}je.prototype.clear=ra,je.prototype.delete=na,je.prototype.get=ia,je.prototype.has=sa,je.prototype.set=aa;function Xt(m){var E=-1,I=m?m.length:0;for(this.__data__=new je;++E<I;)this.add(m[E])}function oa(m){return this.__data__.set(m,i),this}function la(m){return this.__data__.has(m)}Xt.prototype.add=Xt.prototype.push=oa,Xt.prototype.has=la;function Qe(m){this.__data__=new Ve(m)}function ha(){this.__data__=new Ve}function ua(m){return this.__data__.delete(m)}function ca(m){return this.__data__.get(m)}function fa(m){return this.__data__.has(m)}function da(m,E){var I=this.__data__;if(I instanceof Ve){var V=I.__data__;if(!kt||V.length<r-1)return V.push([m,E]),this;I=this.__data__=new je(V)}return I.set(m,E),this}Qe.prototype.clear=ha,Qe.prototype.delete=ua,Qe.prototype.get=ca,Qe.prototype.has=fa,Qe.prototype.set=da;function pa(m,E){var I=Ft(m)||Fn(m)?W(m.length,String):[],V=I.length,ce=!!V;for(var ie in m)(E||Fe.call(m,ie))&&!(ce&&(ie=="length"||ki(ie,V)))&&I.push(ie);return I}function Vt(m,E){for(var I=m.length;I--;)if(Mi(m[I][0],E))return I;return-1}function wi(m,E){E=sn(E,m)?[E]:Pi(E);for(var I=0,V=E.length;m!=null&&I<V;)m=m[jt(E[I++])];return I&&I==V?m:void 0}function ga(m){return Le.call(m)}function va(m,E){return m!=null&&E in Object(m)}function Dn(m,E,I,V,ce){return m===E?!0:m==null||E==null||!pr(m)&&!Nr(E)?m!==m&&E!==E:xi(m,E,Dn,I,V,ce)}function xi(m,E,I,V,ce,ie){var Oe=Ft(m),g=Ft(E),b=u,L=u;Oe||(b=Gt(m),b=b==h?S:b),g||(L=Gt(E),L=L==h?S:L);var F=b==S&&!ne(m),$=L==S&&!ne(E),j=b==L;if(j&&!F)return ie||(ie=new Qe),Oe||Ht(m)?Ei(m,E,I,V,ce,ie):Pa(m,E,b,I,V,ce,ie);if(!(ce&a)){var oe=F&&Fe.call(m,"__wrapped__"),me=$&&Fe.call(E,"__wrapped__");if(oe||me){var we=oe?m.value():m,Te=me?E.value():E;return ie||(ie=new Qe),I(we,Te,V,ce,ie)}}return j?(ie||(ie=new Qe),Ea(m,E,I,V,ce,ie)):!1}function _a(m,E,I,V){var ce=I.length,ie=ce,Oe=!V;if(m==null)return!ie;for(m=Object(m);ce--;){var g=I[ce];if(Oe&&g[2]?g[1]!==m[g[0]]:!(g[0]in m))return!1}for(;++ce<ie;){g=I[ce];var b=g[0],L=m[b],F=g[1];if(Oe&&g[2]){if(L===void 0&&!(b in m))return!1}else{var $=new Qe;if(V)var j=V(L,F,b,m,E,$);if(!(j===void 0?Dn(F,L,V,s|a,$):j))return!1}}return!0}function ma(m){if(!pr(m)||ka(m))return!1;var E=Bt(m)||ne(m)?ht:ct;return E.test(Qt(m))}function Nn(m){return Nr(m)&&Bn(m.length)&&!!ae[Le.call(m)]}function ya(m){return typeof m=="function"?m:m==null?hn:typeof m=="object"?Ft(m)?Ca(m[0],m[1]):ba(m):un(m)}function Sa(m){if(!dr(m))return Hs(m);var E=[];for(var I in Object(m))Fe.call(m,I)&&I!="constructor"&&E.push(I);return E}function ba(m){var E=Aa(m);return E.length==1&&E[0][2]?Oi(E[0][0],E[0][1]):function(I){return I===m||_a(I,m,E)}}function Ca(m,E){return sn(m)&&Tt(E)?Oi(jt(m),E):function(I){var V=Oa(I,m);return V===void 0&&V===E?Ri(I,m):Dn(E,V,void 0,s|a)}}function wa(m){return function(E){return wi(E,m)}}function xa(m){if(typeof m=="string")return m;if(ln(m))return In?In.call(m):"";var E=m+"";return E=="0"&&1/m==-o?"-0":E}function Pi(m){return Ft(m)?m:Ti(m)}function Ei(m,E,I,V,ce,ie){var Oe=ce&a,g=m.length,b=E.length;if(g!=b&&!(Oe&&b>g))return!1;var L=ie.get(m);if(L&&ie.get(E))return L==E;var F=-1,$=!0,j=ce&s?new Xt:void 0;for(ie.set(m,E),ie.set(E,m);++F<g;){var oe=m[F],me=E[F];if(V)var we=Oe?V(me,oe,F,E,m,ie):V(oe,me,F,m,E,ie);if(we!==void 0){if(we)continue;$=!1;break}if(j){if(!J(E,function(Te,Be){if(!j.has(Be)&&(oe===Te||I(oe,Te,V,ce,ie)))return j.add(Be)})){$=!1;break}}else if(!(oe===me||I(oe,me,V,ce,ie))){$=!1;break}}return ie.delete(m),ie.delete(E),$}function Pa(m,E,I,V,ce,ie,Oe){switch(I){case N:if(m.byteLength!=E.byteLength||m.byteOffset!=E.byteOffset)return!1;m=m.buffer,E=E.buffer;case G:return!(m.byteLength!=E.byteLength||!V(new Rn(m),new Rn(E)));case p:case c:case C:return Mi(+m,+E);case d:return m.name==E.name&&m.message==E.message;case y:case R:return m==E+"";case v:var g=le;case x:var b=ie&a;if(g||(g=Ee),m.size!=E.size&&!b)return!1;var L=Oe.get(m);if(L)return L==E;ie|=s,Oe.set(m,E);var F=Ei(g(m),g(E),V,ce,ie,Oe);return Oe.delete(m),F;case O:if(Ir)return Ir.call(m)==Ir.call(E)}return!1}function Ea(m,E,I,V,ce,ie){var Oe=ce&a,g=Gr(m),b=g.length,L=Gr(E),F=L.length;if(b!=F&&!Oe)return!1;for(var $=b;$--;){var j=g[$];if(!(Oe?j in E:Fe.call(E,j)))return!1}var oe=ie.get(m);if(oe&&ie.get(E))return oe==E;var me=!0;ie.set(m,E),ie.set(E,m);for(var we=Oe;++$<b;){j=g[$];var Te=m[j],Be=E[j];if(V)var $e=Oe?V(Be,Te,j,E,m,ie):V(Te,Be,j,m,E,ie);if(!($e===void 0?Te===Be||I(Te,Be,V,ce,ie):$e)){me=!1;break}we||(we=j=="constructor")}if(me&&!we){var He=m.constructor,et=E.constructor;He!=et&&"constructor"in m&&"constructor"in E&&!(typeof He=="function"&&He instanceof He&&typeof et=="function"&&et instanceof et)&&(me=!1)}return ie.delete(m),ie.delete(E),me}function Dr(m,E){var I=m.__data__;return an(E)?I[typeof E=="string"?"string":"hash"]:I.map}function Aa(m){for(var E=Gr(m),I=E.length;I--;){var V=E[I],ce=m[V];E[I]=[V,ce,Tt(ce)]}return E}function fr(m,E){var I=te(m,E);return ma(I)?I:void 0}var Gt=ga;(Tr&&Gt(new Tr(new ArrayBuffer(1)))!=N||kt&&Gt(new kt)!=v||Mr&&Gt(Mr.resolve())!=w||Lr&&Gt(new Lr)!=x||Rr&&Gt(new Rr)!=T)&&(Gt=function(m){var E=Le.call(m),I=E==S?m.constructor:void 0,V=I?Qt(I):void 0;if(V)switch(V){case Us:return N;case Ws:return v;case zs:return w;case qs:return x;case Ys:return T}return E});function Ai(m,E,I){E=sn(E,m)?[E]:Pi(E);for(var V,ce=-1,Oe=E.length;++ce<Oe;){var ie=jt(E[ce]);if(!(V=m!=null&&I(m,ie)))break;m=m[ie]}if(V)return V;var Oe=m?m.length:0;return!!Oe&&Bn(Oe)&&ki(ie,Oe)&&(Ft(m)||Fn(m))}function ki(m,E){return E=E==null?l:E,!!E&&(typeof m=="number"||hr.test(m))&&m>-1&&m%1==0&&m<E}function sn(m,E){if(Ft(m))return!1;var I=typeof m;return I=="number"||I=="symbol"||I=="boolean"||m==null||ln(m)?!0:Se.test(m)||!pe.test(m)||E!=null&&m in Object(E)}function an(m){var E=typeof m;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?m!=="__proto__":m===null}function ka(m){return!!ur&&ur in m}function dr(m){var E=m&&m.constructor,I=typeof E=="function"&&E.prototype||Ye;return m===I}function Tt(m){return m===m&&!pr(m)}function Oi(m,E){return function(I){return I==null?!1:I[m]===E&&(E!==void 0||m in Object(I))}}var Ti=Gn(function(m){m=Hn(m);var E=[];return ke.test(m)&&E.push(""),m.replace(it,function(I,V,ce,ie){E.push(ce?ie.replace(Ln,"$1"):V||I)}),E});function jt(m){if(typeof m=="string"||ln(m))return m;var E=m+"";return E=="0"&&1/m==-o?"-0":E}function Qt(m){if(m!=null){try{return At.call(m)}catch{}try{return m+""}catch{}}return""}function Gn(m,E){if(typeof m!="function"||E&&typeof E!="function")throw new TypeError(n);var I=function(){var V=arguments,ce=E?E.apply(this,V):V[0],ie=I.cache;if(ie.has(ce))return ie.get(ce);var Oe=m.apply(this,V);return I.cache=ie.set(ce,Oe),Oe};return I.cache=new(Gn.Cache||je),I}Gn.Cache=je;function Mi(m,E){return m===E||m!==m&&E!==E}function Fn(m){return on(m)&&Fe.call(m,"callee")&&(!Fs.call(m,"callee")||Le.call(m)==h)}var Ft=Array.isArray;function Li(m){return m!=null&&Bn(m.length)&&!Bt(m)}function on(m){return Nr(m)&&Li(m)}function Bt(m){var E=pr(m)?Le.call(m):"";return E==f||E==_}function Bn(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=l}function pr(m){var E=typeof m;return!!m&&(E=="object"||E=="function")}function Nr(m){return!!m&&typeof m=="object"}function ln(m){return typeof m=="symbol"||Nr(m)&&Le.call(m)==O}var Ht=q?se(q):Nn;function Hn(m){return m==null?"":xa(m)}function Oa(m,E,I){var V=m==null?void 0:wi(m,E);return V===void 0?I:V}function Ri(m,E){return m!=null&&Ai(m,E,va)}function Gr(m){return Li(m)?pa(m):Sa(m)}function hn(m){return m}function un(m){return sn(m)?Y(jt(m)):wa(m)}function Un(m,E){return m&&m.length?Q(m,ya(E)):0}t.exports=Un})(_o,_o.exports);const Q_=_o.exports;var mo={exports:{}},yo={exports:{}},Pt={},Ie={};Ie.__esModule=!0;Ie.extend=ec;Ie.indexOf=Lp;Ie.escapeExpression=Rp;Ie.isEmpty=Ip;Ie.createFrame=Dp;Ie.blockParams=Np;Ie.appendContextPath=Gp;var kp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},Op=/[&<>"'`=]/g,Tp=/[&<>"'`=]/;function Mp(t){return kp[t]}function ec(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var ml=Object.prototype.toString;Ie.toString=ml;var So=function(e){return typeof e=="function"};So(/x/)&&(Ie.isFunction=So=function(t){return typeof t=="function"&&ml.call(t)==="[object Function]"});Ie.isFunction=So;var tc=Array.isArray||function(t){return t&&typeof t=="object"?ml.call(t)==="[object Array]":!1};Ie.isArray=tc;function Lp(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Rp(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return Tp.test(t)?t.replace(Op,Mp):t}function Ip(t){return!t&&t!==0?!0:!!(tc(t)&&t.length===0)}function Dp(t){var e=ec({},t);return e._parent=t,e}function Np(t,e){return t.path=e,t}function Gp(t,e){return(t?t+".":"")+e}var _t={exports:{}};(function(t,e){e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(i,s){var a=s&&s.loc,o=void 0,l=void 0,h=void 0,u=void 0;a&&(o=a.start.line,l=a.end.line,h=a.start.column,u=a.end.column,i+=" - "+o+":"+h);for(var p=Error.prototype.constructor.call(this,i),c=0;c<r.length;c++)this[r[c]]=p[r[c]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{a&&(this.lineNumber=o,this.endLineNumber=l,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=h,this.endColumn=u))}catch{}}n.prototype=new Error,e.default=n,t.exports=e.default})(_t,_t.exports);var _i={},bo={exports:{}};(function(t,e){e.__esModule=!0;var r=Ie;e.default=function(n){n.registerHelper("blockHelperMissing",function(i,s){var a=s.inverse,o=s.fn;if(i===!0)return o(this);if(i===!1||i==null)return a(this);if(r.isArray(i))return i.length>0?(s.ids&&(s.ids=[s.name]),n.helpers.each(i,s)):a(this);if(s.data&&s.ids){var l=r.createFrame(s.data);l.contextPath=r.appendContextPath(s.data.contextPath,s.name),s={data:l}}return o(i,s)})},t.exports=e.default})(bo,bo.exports);var Co={exports:{}};(function(t,e){e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}var n=Ie,i=_t.exports,s=r(i);e.default=function(a){a.registerHelper("each",function(o,l){if(!l)throw new s.default("Must pass iterator to #each");var h=l.fn,u=l.inverse,p=0,c="",d=void 0,f=void 0;l.data&&l.ids&&(f=n.appendContextPath(l.data.contextPath,l.ids[0])+"."),n.isFunction(o)&&(o=o.call(this)),l.data&&(d=n.createFrame(l.data));function _(y,x,R){d&&(d.key=y,d.index=x,d.first=x===0,d.last=!!R,f&&(d.contextPath=f+y)),c=c+h(o[y],{data:d,blockParams:n.blockParams([o[y],y],[f+y,null])})}if(o&&typeof o=="object")if(n.isArray(o))for(var v=o.length;p<v;p++)p in o&&_(p,p,p===o.length-1);else if(pt.Symbol&&o[pt.Symbol.iterator]){for(var C=[],S=o[pt.Symbol.iterator](),w=S.next();!w.done;w=S.next())C.push(w.value);o=C;for(var v=o.length;p<v;p++)_(p,p,p===o.length-1)}else(function(){var y=void 0;Object.keys(o).forEach(function(x){y!==void 0&&_(y,p-1),y=x,p++}),y!==void 0&&_(y,p-1,!0)})();return p===0&&(c=u(this)),c})},t.exports=e.default})(Co,Co.exports);var wo={exports:{}};(function(t,e){e.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}var n=_t.exports,i=r(n);e.default=function(s){s.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default})(wo,wo.exports);var xo={exports:{}};(function(t,e){e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}var n=Ie,i=_t.exports,s=r(i);e.default=function(a){a.registerHelper("if",function(o,l){if(arguments.length!=2)throw new s.default("#if requires exactly one argument");return n.isFunction(o)&&(o=o.call(this)),!l.hash.includeZero&&!o||n.isEmpty(o)?l.inverse(this):l.fn(this)}),a.registerHelper("unless",function(o,l){if(arguments.length!=2)throw new s.default("#unless requires exactly one argument");return a.helpers.if.call(this,o,{fn:l.inverse,inverse:l.fn,hash:l.hash})})},t.exports=e.default})(xo,xo.exports);var Po={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],i=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)n.push(arguments[s]);var a=1;i.hash.level!=null?a=i.hash.level:i.data&&i.data.level!=null&&(a=i.data.level),n[0]=a,r.log.apply(r,n)})},t.exports=e.default})(Po,Po.exports);var Eo={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(n,i,s){return n&&s.lookupProperty(n,i)})},t.exports=e.default})(Eo,Eo.exports);var Ao={exports:{}};(function(t,e){e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}var n=Ie,i=_t.exports,s=r(i);e.default=function(a){a.registerHelper("with",function(o,l){if(arguments.length!=2)throw new s.default("#with requires exactly one argument");n.isFunction(o)&&(o=o.call(this));var h=l.fn;if(n.isEmpty(o))return l.inverse(this);var u=l.data;return l.data&&l.ids&&(u=n.createFrame(l.data),u.contextPath=n.appendContextPath(l.data.contextPath,l.ids[0])),h(o,{data:u,blockParams:n.blockParams([o],[u&&u.contextPath])})})},t.exports=e.default})(Ao,Ao.exports);_i.__esModule=!0;_i.registerDefaultHelpers=Zp;_i.moveHelperToHooks=$p;function Zr(t){return t&&t.__esModule?t:{default:t}}var Fp=bo.exports,Bp=Zr(Fp),Hp=Co.exports,Up=Zr(Hp),Wp=wo.exports,zp=Zr(Wp),qp=xo.exports,Yp=Zr(qp),Kp=Po.exports,Xp=Zr(Kp),Vp=Eo.exports,jp=Zr(Vp),Qp=Ao.exports,Jp=Zr(Qp);function Zp(t){Bp.default(t),Up.default(t),zp.default(t),Yp.default(t),Xp.default(t),jp.default(t),Jp.default(t)}function $p(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}var yl={},ko={exports:{}};(function(t,e){e.__esModule=!0;var r=Ie;e.default=function(n){n.registerDecorator("inline",function(i,s,a,o){var l=i;return s.partials||(s.partials={},l=function(h,u){var p=a.partials;a.partials=r.extend({},p,s.partials);var c=i(h,u);return a.partials=p,c}),s.partials[o.args[0]]=o.fn,l})},t.exports=e.default})(ko,ko.exports);yl.__esModule=!0;yl.registerDefaultDecorators=ng;function eg(t){return t&&t.__esModule?t:{default:t}}var tg=ko.exports,rg=eg(tg);function ng(t){rg.default(t)}var gs={exports:{}};(function(t,e){e.__esModule=!0;var r=Ie,n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(s){if(typeof s=="string"){var a=r.indexOf(n.methodMap,s.toLowerCase());a>=0?s=a:s=parseInt(s,10)}return s},log:function(s){if(s=n.lookupLevel(s),typeof console<"u"&&n.lookupLevel(n.level)<=s){var a=n.methodMap[s];console[a]||(a="log");for(var o=arguments.length,l=Array(o>1?o-1:0),h=1;h<o;h++)l[h-1]=arguments[h];console[a].apply(console,l)}}};e.default=n,t.exports=e.default})(gs,gs.exports);var On={},Sl={};Sl.__esModule=!0;Sl.createNewLookupObject=sg;var ig=Ie;function sg(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return ig.extend.apply(void 0,[Object.create(null)].concat(e))}On.__esModule=!0;On.createProtoAccessControl=hg;On.resultIsAllowed=ug;On.resetLoggedProperties=fg;function ag(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var ah=Sl,og=gs.exports,lg=ag(og),vs=Object.create(null);function hg(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:ah.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:ah.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function ug(t,e,r){return oh(typeof t=="function"?e.methods:e.properties,r)}function oh(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(cg(e),!1)}function cg(t){vs[t]!==!0&&(vs[t]=!0,lg.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function fg(){Object.keys(vs).forEach(function(t){delete vs[t]})}Pt.__esModule=!0;Pt.HandlebarsEnvironment=Oo;function rc(t){return t&&t.__esModule?t:{default:t}}var zr=Ie,dg=_t.exports,Ga=rc(dg),pg=_i,gg=yl,vg=gs.exports,_s=rc(vg),_g=On,mg="4.7.7";Pt.VERSION=mg;var yg=8;Pt.COMPILER_REVISION=yg;var Sg=7;Pt.LAST_COMPATIBLE_COMPILER_REVISION=Sg;var bg={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};Pt.REVISION_CHANGES=bg;var Fa="[object Object]";function Oo(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},pg.registerDefaultHelpers(this),gg.registerDefaultDecorators(this)}Oo.prototype={constructor:Oo,logger:_s.default,log:_s.default.log,registerHelper:function(e,r){if(zr.toString.call(e)===Fa){if(r)throw new Ga.default("Arg not supported with multiple helpers");zr.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(zr.toString.call(e)===Fa)zr.extend(this.partials,e);else{if(typeof r>"u")throw new Ga.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(zr.toString.call(e)===Fa){if(r)throw new Ga.default("Arg not supported with multiple decorators");zr.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){_g.resetLoggedProperties()}};var Cg=_s.default.log;Pt.log=Cg;Pt.createFrame=zr.createFrame;Pt.logger=_s.default;var To={exports:{}};(function(t,e){e.__esModule=!0;function r(n){this.string=n}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default})(To,To.exports);var Pr={},bl={};bl.__esModule=!0;bl.wrapHelper=wg;function wg(t,e){if(typeof t!="function")return t;var r=function(){var i=arguments[arguments.length-1];return arguments[arguments.length-1]=e(i),t.apply(this,arguments)};return r}Pr.__esModule=!0;Pr.checkRevision=Og;Pr.template=Tg;Pr.wrapProgram=ss;Pr.resolvePartial=Mg;Pr.invokePartial=Lg;Pr.noop=nc;function xg(t){return t&&t.__esModule?t:{default:t}}function Pg(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var Eg=Ie,er=Pg(Eg),Ag=_t.exports,tr=xg(Ag),rr=Pt,lh=_i,kg=bl,hh=On;function Og(t){var e=t&&t[0]||1,r=rr.COMPILER_REVISION;if(!(e>=rr.LAST_COMPATIBLE_COMPILER_REVISION&&e<=rr.COMPILER_REVISION))if(e<rr.LAST_COMPATIBLE_COMPILER_REVISION){var n=rr.REVISION_CHANGES[r],i=rr.REVISION_CHANGES[e];throw new tr.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}else throw new tr.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function Tg(t,e){if(!e)throw new tr.default("No environment passed to template");if(!t||!t.main)throw new tr.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function n(a,o,l){l.hash&&(o=er.extend({},o,l.hash),l.ids&&(l.ids[0]=!0)),a=e.VM.resolvePartial.call(this,a,o,l);var h=er.extend({},l,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=e.VM.invokePartial.call(this,a,o,h);if(u==null&&e.compile&&(l.partials[l.name]=e.compile(a,t.compilerOptions,e),u=l.partials[l.name](o,h)),u!=null){if(l.indent){for(var p=u.split(`
`),c=0,d=p.length;c<d&&!(!p[c]&&c+1===d);c++)p[c]=l.indent+p[c];u=p.join(`
`)}return u}else throw new tr.default("The partial "+l.name+" could not be compiled when running in runtime-only mode")}var i={strict:function(o,l,h){if(!o||!(l in o))throw new tr.default('"'+l+'" not defined in '+o,{loc:h});return i.lookupProperty(o,l)},lookupProperty:function(o,l){var h=o[l];if(h==null||Object.prototype.hasOwnProperty.call(o,l)||hh.resultIsAllowed(h,i.protoAccessControl,l))return h},lookup:function(o,l){for(var h=o.length,u=0;u<h;u++){var p=o[u]&&i.lookupProperty(o[u],l);if(p!=null)return o[u][l]}},lambda:function(o,l){return typeof o=="function"?o.call(l):o},escapeExpression:er.escapeExpression,invokePartial:n,fn:function(o){var l=t[o];return l.decorator=t[o+"_d"],l},programs:[],program:function(o,l,h,u,p){var c=this.programs[o],d=this.fn(o);return l||p||u||h?c=ss(this,o,d,l,h,u,p):c||(c=this.programs[o]=ss(this,o,d)),c},data:function(o,l){for(;o&&l--;)o=o._parent;return o},mergeIfNeeded:function(o,l){var h=o||l;return o&&l&&o!==l&&(h=er.extend({},l,o)),h},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function s(a){var o=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],l=o.data;s._setup(o),!o.partial&&t.useData&&(l=Rg(a,l));var h=void 0,u=t.useBlockParams?[]:void 0;t.useDepths&&(o.depths?h=a!=o.depths[0]?[a].concat(o.depths):o.depths:h=[a]);function p(c){return""+t.main(i,c,i.helpers,i.partials,l,u,h)}return p=ic(t.main,p,i,o.depths||[],l,u),p(a,o)}return s.isTop=!0,s._setup=function(a){if(a.partial)i.protoAccessControl=a.protoAccessControl,i.helpers=a.helpers,i.partials=a.partials,i.decorators=a.decorators,i.hooks=a.hooks;else{var o=er.extend({},e.helpers,a.helpers);Ig(o,i),i.helpers=o,t.usePartial&&(i.partials=i.mergeIfNeeded(a.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=er.extend({},e.decorators,a.decorators)),i.hooks={},i.protoAccessControl=hh.createProtoAccessControl(a);var l=a.allowCallsToHelperMissing||r;lh.moveHelperToHooks(i,"helperMissing",l),lh.moveHelperToHooks(i,"blockHelperMissing",l)}},s._child=function(a,o,l,h){if(t.useBlockParams&&!l)throw new tr.default("must pass block params");if(t.useDepths&&!h)throw new tr.default("must pass parent depths");return ss(i,a,t[a],o,0,l,h)},s}function ss(t,e,r,n,i,s,a){function o(l){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=a;return a&&l!=a[0]&&!(l===t.nullContext&&a[0]===null)&&(u=[l].concat(a)),r(t,l,t.helpers,t.partials,h.data||n,s&&[h.blockParams].concat(s),u)}return o=ic(r,o,t,a,n,s),o.program=e,o.depth=a?a.length:0,o.blockParams=i||0,o}function Mg(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function Lg(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var i=void 0;if(r.fn&&r.fn!==nc&&function(){r.data=rr.createFrame(r.data);var s=r.fn;i=r.data["partial-block"]=function(o){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return l.data=rr.createFrame(l.data),l.data["partial-block"]=n,s(o,l)},s.partials&&(r.partials=er.extend({},r.partials,s.partials))}(),t===void 0&&i&&(t=i),t===void 0)throw new tr.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function nc(){return""}function Rg(t,e){return(!e||!("root"in e))&&(e=e?rr.createFrame(e):{},e.root=t),e}function ic(t,e,r,n,i,s){if(t.decorator){var a={};e=t.decorator(e,a,r,n&&n[0],i,s,n),er.extend(e,a)}return e}function Ig(t,e){Object.keys(t).forEach(function(r){var n=t[r];t[r]=Dg(n,e)})}function Dg(t,e){var r=e.lookupProperty;return kg.wrapHelper(t,function(n){return er.extend({lookupProperty:r},n)})}var ms={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){var n=typeof pt<"u"?pt:window,i=n.Handlebars;r.noConflict=function(){return n.Handlebars===r&&(n.Handlebars=i),r}},t.exports=e.default})(ms,ms.exports);(function(t,e){e.__esModule=!0;function r(S){return S&&S.__esModule?S:{default:S}}function n(S){if(S&&S.__esModule)return S;var w={};if(S!=null)for(var y in S)Object.prototype.hasOwnProperty.call(S,y)&&(w[y]=S[y]);return w.default=S,w}var i=Pt,s=n(i),a=To.exports,o=r(a),l=_t.exports,h=r(l),u=Ie,p=n(u),c=Pr,d=n(c),f=ms.exports,_=r(f);function v(){var S=new s.HandlebarsEnvironment;return p.extend(S,s),S.SafeString=o.default,S.Exception=h.default,S.Utils=p,S.escapeExpression=p.escapeExpression,S.VM=d,S.template=function(w){return d.template(w,S)},S}var C=v();C.create=v,_.default(C),C.default=C,e.default=C,t.exports=e.default})(yo,yo.exports);var ys={exports:{}};(function(t,e){e.__esModule=!0;var r={helpers:{helperExpression:function(i){return i.type==="SubExpression"||(i.type==="MustacheStatement"||i.type==="BlockStatement")&&!!(i.params&&i.params.length||i.hash)},scopedId:function(i){return/^\.|this\b/.test(i.original)},simpleId:function(i){return i.parts.length===1&&!r.helpers.scopedId(i)&&!i.depth}}};e.default=r,t.exports=e.default})(ys,ys.exports);var mi={},Mo={exports:{}};(function(t,e){e.__esModule=!0;var r=function(){var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(o,l,h,u,p,c,d){var f=c.length-1;switch(p){case 1:return c[f-1];case 2:this.$=u.prepareProgram(c[f]);break;case 3:this.$=c[f];break;case 4:this.$=c[f];break;case 5:this.$=c[f];break;case 6:this.$=c[f];break;case 7:this.$=c[f];break;case 8:this.$=c[f];break;case 9:this.$={type:"CommentStatement",value:u.stripComment(c[f]),strip:u.stripFlags(c[f],c[f]),loc:u.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:c[f],value:c[f],loc:u.locInfo(this._$)};break;case 11:this.$=u.prepareRawBlock(c[f-2],c[f-1],c[f],this._$);break;case 12:this.$={path:c[f-3],params:c[f-2],hash:c[f-1]};break;case 13:this.$=u.prepareBlock(c[f-3],c[f-2],c[f-1],c[f],!1,this._$);break;case 14:this.$=u.prepareBlock(c[f-3],c[f-2],c[f-1],c[f],!0,this._$);break;case 15:this.$={open:c[f-5],path:c[f-4],params:c[f-3],hash:c[f-2],blockParams:c[f-1],strip:u.stripFlags(c[f-5],c[f])};break;case 16:this.$={path:c[f-4],params:c[f-3],hash:c[f-2],blockParams:c[f-1],strip:u.stripFlags(c[f-5],c[f])};break;case 17:this.$={path:c[f-4],params:c[f-3],hash:c[f-2],blockParams:c[f-1],strip:u.stripFlags(c[f-5],c[f])};break;case 18:this.$={strip:u.stripFlags(c[f-1],c[f-1]),program:c[f]};break;case 19:var _=u.prepareBlock(c[f-2],c[f-1],c[f],c[f],!1,this._$),v=u.prepareProgram([_],c[f-1].loc);v.chained=!0,this.$={strip:c[f-2].strip,program:v,chain:!0};break;case 20:this.$=c[f];break;case 21:this.$={path:c[f-1],strip:u.stripFlags(c[f-2],c[f])};break;case 22:this.$=u.prepareMustache(c[f-3],c[f-2],c[f-1],c[f-4],u.stripFlags(c[f-4],c[f]),this._$);break;case 23:this.$=u.prepareMustache(c[f-3],c[f-2],c[f-1],c[f-4],u.stripFlags(c[f-4],c[f]),this._$);break;case 24:this.$={type:"PartialStatement",name:c[f-3],params:c[f-2],hash:c[f-1],indent:"",strip:u.stripFlags(c[f-4],c[f]),loc:u.locInfo(this._$)};break;case 25:this.$=u.preparePartialBlock(c[f-2],c[f-1],c[f],this._$);break;case 26:this.$={path:c[f-3],params:c[f-2],hash:c[f-1],strip:u.stripFlags(c[f-4],c[f])};break;case 27:this.$=c[f];break;case 28:this.$=c[f];break;case 29:this.$={type:"SubExpression",path:c[f-3],params:c[f-2],hash:c[f-1],loc:u.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:c[f],loc:u.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:u.id(c[f-2]),value:c[f],loc:u.locInfo(this._$)};break;case 32:this.$=u.id(c[f-1]);break;case 33:this.$=c[f];break;case 34:this.$=c[f];break;case 35:this.$={type:"StringLiteral",value:c[f],original:c[f],loc:u.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(c[f]),original:Number(c[f]),loc:u.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:c[f]==="true",original:c[f]==="true",loc:u.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:u.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:u.locInfo(this._$)};break;case 40:this.$=c[f];break;case 41:this.$=c[f];break;case 42:this.$=u.preparePath(!0,c[f],this._$);break;case 43:this.$=u.preparePath(!1,c[f],this._$);break;case 44:c[f-2].push({part:u.id(c[f]),original:c[f],separator:c[f-1]}),this.$=c[f-2];break;case 45:this.$=[{part:u.id(c[f]),original:c[f]}];break;case 46:this.$=[];break;case 47:c[f-1].push(c[f]);break;case 48:this.$=[];break;case 49:c[f-1].push(c[f]);break;case 50:this.$=[];break;case 51:c[f-1].push(c[f]);break;case 58:this.$=[];break;case 59:c[f-1].push(c[f]);break;case 64:this.$=[];break;case 65:c[f-1].push(c[f]);break;case 70:this.$=[];break;case 71:c[f-1].push(c[f]);break;case 78:this.$=[];break;case 79:c[f-1].push(c[f]);break;case 82:this.$=[];break;case 83:c[f-1].push(c[f]);break;case 86:this.$=[];break;case 87:c[f-1].push(c[f]);break;case 90:this.$=[];break;case 91:c[f-1].push(c[f]);break;case 94:this.$=[];break;case 95:c[f-1].push(c[f]);break;case 98:this.$=[c[f]];break;case 99:c[f-1].push(c[f]);break;case 100:this.$=[c[f]];break;case 101:c[f-1].push(c[f]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(o,l){throw new Error(o)},parse:function(o){var l=this,h=[0],u=[null],p=[],c=this.table,d="",f=0,_=0;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;p.push(v);var C=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function S(){var Z;return Z=l.lexer.lex()||1,typeof Z!="number"&&(Z=l.symbols_[Z]||Z),Z}for(var w,y,x,R,O={},T,G,N,U;;){if(y=h[h.length-1],this.defaultActions[y]?x=this.defaultActions[y]:((w===null||typeof w>"u")&&(w=S()),x=c[y]&&c[y][w]),typeof x>"u"||!x.length||!x[0]){var re="";{U=[];for(T in c[y])this.terminals_[T]&&T>2&&U.push("'"+this.terminals_[T]+"'");this.lexer.showPosition?re="Parse error on line "+(f+1)+`:
`+this.lexer.showPosition()+`
Expecting `+U.join(", ")+", got '"+(this.terminals_[w]||w)+"'":re="Parse error on line "+(f+1)+": Unexpected "+(w==1?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(re,{text:this.lexer.match,token:this.terminals_[w]||w,line:this.lexer.yylineno,loc:v,expected:U})}}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+w);switch(x[0]){case 1:h.push(w),u.push(this.lexer.yytext),p.push(this.lexer.yylloc),h.push(x[1]),w=null,_=this.lexer.yyleng,d=this.lexer.yytext,f=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if(G=this.productions_[x[1]][1],O.$=u[u.length-G],O._$={first_line:p[p.length-(G||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(G||1)].first_column,last_column:p[p.length-1].last_column},C&&(O._$.range=[p[p.length-(G||1)].range[0],p[p.length-1].range[1]]),R=this.performAction.call(O,d,_,f,this.yy,x[1],u,p),typeof R<"u")return R;G&&(h=h.slice(0,-1*G*2),u=u.slice(0,-1*G),p=p.slice(0,-1*G)),h.push(this.productions_[x[1]][0]),u.push(O.$),p.push(O._$),N=c[h[h.length-2]][h[h.length-1]],h.push(N);break;case 3:return!0}}return!0}},i=function(){var a={EOF:1,parseError:function(l,h){if(this.yy.parser)this.yy.parser.parseError(l,h);else throw new Error(l)},setInput:function(l){return this._input=l,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var h=l.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},unput:function(l){var h=l.length,u=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h-1),this.offset-=h;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),u.length-1&&(this.yylineno-=u.length-1);var c=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:u?(u.length===p.length?this.yylloc.first_column:0)+p[p.length-u.length].length-u[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-h]),this},more:function(){return this._more=!0,this},less:function(l){this.unput(this.match.slice(l))},pastInput:function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var l=this.pastInput(),h=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+h+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,h,u,p,c;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),f=0;f<d.length&&(u=this._input.match(this.rules[d[f]]),!(u&&(!h||u[0].length>h[0].length)&&(h=u,p=f,!this.options.flex)));f++);return h?(c=h[0].match(/(?:\r\n?|\n).*/g),c&&(this.yylineno+=c.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],l=this.performAction.call(this,this.yy,this,d[p],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var l=this.next();return typeof l<"u"?l:this.lex()},begin:function(l){this.conditionStack.push(l)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(l){this.begin(l)}};return a.options={},a.performAction=function(l,h,u,p){function c(d,f){return h.yytext=h.yytext.substring(d,h.yyleng-f+d)}switch(u){case 0:if(h.yytext.slice(-2)==="\\\\"?(c(0,1),this.begin("mu")):h.yytext.slice(-1)==="\\"?(c(0,1),this.begin("emu")):this.begin("mu"),h.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(c(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(h.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return h.yytext=c(1,2).replace(/\\"/g,'"'),80;case 32:return h.yytext=c(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return h.yytext=h.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();n.lexer=i;function s(){this.yy={}}return s.prototype=n,n.Parser=s,new s}();e.default=r,t.exports=e.default})(Mo,Mo.exports);var Lo={exports:{}},Ss={exports:{}};(function(t,e){e.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}var n=_t.exports,i=r(n);function s(){this.parents=[]}s.prototype={constructor:s,mutating:!1,acceptKey:function(u,p){var c=this.accept(u[p]);if(this.mutating){if(c&&!s.prototype[c.type])throw new i.default('Unexpected node type "'+c.type+'" found when accepting '+p+" on "+u.type);u[p]=c}},acceptRequired:function(u,p){if(this.acceptKey(u,p),!u[p])throw new i.default(u.type+" requires "+p)},acceptArray:function(u){for(var p=0,c=u.length;p<c;p++)this.acceptKey(u,p),u[p]||(u.splice(p,1),p--,c--)},accept:function(u){if(!!u){if(!this[u.type])throw new i.default("Unknown type: "+u.type,u);this.current&&this.parents.unshift(this.current),this.current=u;var p=this[u.type](u);if(this.current=this.parents.shift(),!this.mutating||p)return p;if(p!==!1)return u}},Program:function(u){this.acceptArray(u.body)},MustacheStatement:a,Decorator:a,BlockStatement:o,DecoratorBlock:o,PartialStatement:l,PartialBlockStatement:function(u){l.call(this,u),this.acceptKey(u,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(u){this.acceptArray(u.pairs)},HashPair:function(u){this.acceptRequired(u,"value")}};function a(h){this.acceptRequired(h,"path"),this.acceptArray(h.params),this.acceptKey(h,"hash")}function o(h){a.call(this,h),this.acceptKey(h,"program"),this.acceptKey(h,"inverse")}function l(h){this.acceptRequired(h,"name"),this.acceptArray(h.params),this.acceptKey(h,"hash")}e.default=s,t.exports=e.default})(Ss,Ss.exports);(function(t,e){e.__esModule=!0;function r(u){return u&&u.__esModule?u:{default:u}}var n=Ss.exports,i=r(n);function s(){var u=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=u}s.prototype=new i.default,s.prototype.Program=function(u){var p=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=u.body,f=0,_=d.length;f<_;f++){var v=d[f],C=this.accept(v);if(!!C){var S=a(d,f,c),w=o(d,f,c),y=C.openStandalone&&S,x=C.closeStandalone&&w,R=C.inlineStandalone&&S&&w;C.close&&l(d,f,!0),C.open&&h(d,f,!0),p&&R&&(l(d,f),h(d,f)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(d[f-1].original)[1])),p&&y&&(l((v.program||v.inverse).body),h(d,f)),p&&x&&(l(d,f),h((v.inverse||v.program).body))}}return u},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(u){this.accept(u.program),this.accept(u.inverse);var p=u.program||u.inverse,c=u.program&&u.inverse,d=c,f=c;if(c&&c.chained)for(d=c.body[0].program;f.chained;)f=f.body[f.body.length-1].program;var _={open:u.openStrip.open,close:u.closeStrip.close,openStandalone:o(p.body),closeStandalone:a((d||p).body)};if(u.openStrip.close&&l(p.body,null,!0),c){var v=u.inverseStrip;v.open&&h(p.body,null,!0),v.close&&l(d.body,null,!0),u.closeStrip.open&&h(f.body,null,!0),!this.options.ignoreStandalone&&a(p.body)&&o(d.body)&&(h(p.body),l(d.body))}else u.closeStrip.open&&h(p.body,null,!0);return _},s.prototype.Decorator=s.prototype.MustacheStatement=function(u){return u.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(u){var p=u.strip||{};return{inlineStandalone:!0,open:p.open,close:p.close}};function a(u,p,c){p===void 0&&(p=u.length);var d=u[p-1],f=u[p-2];if(!d)return c;if(d.type==="ContentStatement")return(f||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original)}function o(u,p,c){p===void 0&&(p=-1);var d=u[p+1],f=u[p+2];if(!d)return c;if(d.type==="ContentStatement")return(f||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original)}function l(u,p,c){var d=u[p==null?0:p+1];if(!(!d||d.type!=="ContentStatement"||!c&&d.rightStripped)){var f=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==f}}function h(u,p,c){var d=u[p==null?u.length-1:p-1];if(!(!d||d.type!=="ContentStatement"||!c&&d.leftStripped)){var f=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==f,d.leftStripped}}e.default=s,t.exports=e.default})(Lo,Lo.exports);var Et={};Et.__esModule=!0;Et.SourceLocation=Fg;Et.id=Bg;Et.stripFlags=Hg;Et.stripComment=Ug;Et.preparePath=Wg;Et.prepareMustache=zg;Et.prepareRawBlock=qg;Et.prepareBlock=Yg;Et.prepareProgram=Kg;Et.preparePartialBlock=Xg;function Ng(t){return t&&t.__esModule?t:{default:t}}var Gg=_t.exports,Cl=Ng(Gg);function wl(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new Cl.default(t.path.original+" doesn't match "+e,r)}}function Fg(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function Bg(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function Hg(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function Ug(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Wg(t,e,r){r=this.locInfo(r);for(var n=t?"@":"",i=[],s=0,a=0,o=e.length;a<o;a++){var l=e[a].part,h=e[a].original!==l;if(n+=(e[a].separator||"")+l,!h&&(l===".."||l==="."||l==="this")){if(i.length>0)throw new Cl.default("Invalid path: "+n,{loc:r});l===".."&&s++}else i.push(l)}return{type:"PathExpression",data:t,depth:s,parts:i,original:n,loc:r}}function zg(t,e,r,n,i,s){var a=n.charAt(3)||n.charAt(2),o=a!=="{"&&a!=="&",l=/\*/.test(n);return{type:l?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:o,strip:i,loc:this.locInfo(s)}}function qg(t,e,r,n){wl(t,r),n=this.locInfo(n);var i={type:"Program",body:e,strip:{},loc:n};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function Yg(t,e,r,n,i,s){n&&n.path&&wl(t,n);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var o=void 0,l=void 0;if(r){if(a)throw new Cl.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=n.strip),l=r.strip,o=r.program}return i&&(i=o,o=e,e=i),{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:o,openStrip:t.strip,inverseStrip:l,closeStrip:n&&n.strip,loc:this.locInfo(s)}}function Kg(t,e){if(!e&&t.length){var r=t[0].loc,n=t[t.length-1].loc;r&&n&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function Xg(t,e,r,n){return wl(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}}mi.__esModule=!0;mi.parseWithoutProcessing=ac;mi.parse=t2;function Vg(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function sc(t){return t&&t.__esModule?t:{default:t}}var jg=Mo.exports,Ro=sc(jg),Qg=Lo.exports,Jg=sc(Qg),Zg=Et,$g=Vg(Zg),e2=Ie;mi.parser=Ro.default;var as={};e2.extend(as,$g);function ac(t,e){if(t.type==="Program")return t;Ro.default.yy=as,as.locInfo=function(n){return new as.SourceLocation(e&&e.srcName,n)};var r=Ro.default.parse(t);return r}function t2(t,e){var r=ac(t,e),n=new Jg.default(e);return n.accept(r)}var yi={};yi.__esModule=!0;yi.Compiler=Io;yi.precompile=s2;yi.compile=a2;function oc(t){return t&&t.__esModule?t:{default:t}}var r2=_t.exports,ii=oc(r2),pi=Ie,n2=ys.exports,Wn=oc(n2),i2=[].slice;function Io(){}Io.prototype={compiler:Io,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var n=0;n<r;n++){var i=this.opcodes[n],s=e.opcodes[n];if(i.opcode!==s.opcode||!lc(i.args,s.args))return!1}r=this.children.length;for(var n=0;n<r;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=pi.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,n=r.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new ii.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,n=r.length,i=0;i<n;i++)this.accept(r[i]);return this.options.blockParams.shift(),this.isSimple=n===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){uh(e);var r=e.program,n=e.inverse;r=r&&this.compileProgram(r),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);i==="helper"?this.helperSexpr(e,r,n):i==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,n),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,r,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new ii.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,s=e.name.type==="SubExpression";s&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",s,i,a),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){uh(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,n){var i=e.path,s=i.parts[0],a=r!=null||n!=null;this.opcode("getContext",i.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",s,a)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,n){var i=this.setupFullMustacheParams(e,r,n),s=e.path,a=s.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new ii.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",i.length,s.original,Wn.default.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],n=Wn.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(r);i?this.opcode("lookupBlockParam",i,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,n=0,i=r.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(r[n].value);for(;n--;)this.opcode("assignToHash",r[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:i2.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){!e||(this.useDepths=!0)},classifySexpr:function(e){var r=Wn.default.helpers.simpleId(e.path),n=r&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&Wn.default.helpers.helperExpression(e),s=!n&&(i||r);if(s&&!i){var a=e.path.parts[0],o=this.options;o.knownHelpers[a]?i=!0:o.knownHelpersOnly&&(s=!1)}return i?"helper":s?"ambiguous":"simple"},pushParams:function(e){for(var r=0,n=e.length;r<n;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var n=void 0;if(e.parts&&!Wn.default.helpers.scopedId(e)&&!e.depth&&(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,n,i){var s=e.params;return this.pushParams(s),this.opcode("pushProgram",r),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),s},blockParamIndex:function(e){for(var r=0,n=this.options.blockParams.length;r<n;r++){var i=this.options.blockParams[r],s=i&&pi.indexOf(i,e);if(i&&s>=0)return[r,s]}}};function s2(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new ii.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=r.parse(t,e),i=new r.Compiler().compile(n,e);return new r.JavaScriptCompiler().compile(i,e)}function a2(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new ii.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=pi.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=void 0;function i(){var a=r.parse(t,e),o=new r.Compiler().compile(a,e),l=new r.JavaScriptCompiler().compile(o,e,void 0,!0);return r.template(l)}function s(a,o){return n||(n=i()),n.call(this,a,o)}return s._setup=function(a){return n||(n=i()),n._setup(a)},s._child=function(a,o,l,h){return n||(n=i()),n._child(a,o,l,h)},s}function lc(t,e){if(t===e)return!0;if(pi.isArray(t)&&pi.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!lc(t[r],e[r]))return!1;return!0}}function uh(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var Do={exports:{}},No={exports:{}},zn={},Ba={},Wi={},zi={},ch;function o2(){if(ch)return zi;ch=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return zi.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},zi.decode=function(e){var r=65,n=90,i=97,s=122,a=48,o=57,l=43,h=47,u=26,p=52;return r<=e&&e<=n?e-r:i<=e&&e<=s?e-i+u:a<=e&&e<=o?e-a+p:e==l?62:e==h?63:-1},zi}var fh;function hc(){if(fh)return Wi;fh=1;var t=o2(),e=5,r=1<<e,n=r-1,i=r;function s(o){return o<0?(-o<<1)+1:(o<<1)+0}function a(o){var l=(o&1)===1,h=o>>1;return l?-h:h}return Wi.encode=function(l){var h="",u,p=s(l);do u=p&n,p>>>=e,p>0&&(u|=i),h+=t.encode(u);while(p>0);return h},Wi.decode=function(l,h,u){var p=l.length,c=0,d=0,f,_;do{if(h>=p)throw new Error("Expected more digits in base 64 VLQ value.");if(_=t.decode(l.charCodeAt(h++)),_===-1)throw new Error("Invalid base64 digit: "+l.charAt(h-1));f=!!(_&i),_&=n,c=c+(_<<d),d+=e}while(f);u.value=a(c),u.rest=h},Wi}var Ha={},dh;function Si(){return dh||(dh=1,function(t){function e(y,x,R){if(x in y)return y[x];if(arguments.length===3)return R;throw new Error('"'+x+'" is a required argument.')}t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(y){var x=y.match(r);return x?{scheme:x[1],auth:x[2],host:x[3],port:x[4],path:x[5]}:null}t.urlParse=i;function s(y){var x="";return y.scheme&&(x+=y.scheme+":"),x+="//",y.auth&&(x+=y.auth+"@"),y.host&&(x+=y.host),y.port&&(x+=":"+y.port),y.path&&(x+=y.path),x}t.urlGenerate=s;function a(y){var x=y,R=i(y);if(R){if(!R.path)return y;x=R.path}for(var O=t.isAbsolute(x),T=x.split(/\/+/),G,N=0,U=T.length-1;U>=0;U--)G=T[U],G==="."?T.splice(U,1):G===".."?N++:N>0&&(G===""?(T.splice(U+1,N),N=0):(T.splice(U,2),N--));return x=T.join("/"),x===""&&(x=O?"/":"."),R?(R.path=x,s(R)):x}t.normalize=a;function o(y,x){y===""&&(y="."),x===""&&(x=".");var R=i(x),O=i(y);if(O&&(y=O.path||"/"),R&&!R.scheme)return O&&(R.scheme=O.scheme),s(R);if(R||x.match(n))return x;if(O&&!O.host&&!O.path)return O.host=x,s(O);var T=x.charAt(0)==="/"?x:a(y.replace(/\/+$/,"")+"/"+x);return O?(O.path=T,s(O)):T}t.join=o,t.isAbsolute=function(y){return y.charAt(0)==="/"||r.test(y)};function l(y,x){y===""&&(y="."),y=y.replace(/\/$/,"");for(var R=0;x.indexOf(y+"/")!==0;){var O=y.lastIndexOf("/");if(O<0||(y=y.slice(0,O),y.match(/^([^\/]+:\/)?\/*$/)))return x;++R}return Array(R+1).join("../")+x.substr(y.length+1)}t.relative=l;var h=function(){var y=Object.create(null);return!("__proto__"in y)}();function u(y){return y}function p(y){return d(y)?"$"+y:y}t.toSetString=h?u:p;function c(y){return d(y)?y.slice(1):y}t.fromSetString=h?u:c;function d(y){if(!y)return!1;var x=y.length;if(x<9||y.charCodeAt(x-1)!==95||y.charCodeAt(x-2)!==95||y.charCodeAt(x-3)!==111||y.charCodeAt(x-4)!==116||y.charCodeAt(x-5)!==111||y.charCodeAt(x-6)!==114||y.charCodeAt(x-7)!==112||y.charCodeAt(x-8)!==95||y.charCodeAt(x-9)!==95)return!1;for(var R=x-10;R>=0;R--)if(y.charCodeAt(R)!==36)return!1;return!0}function f(y,x,R){var O=v(y.source,x.source);return O!==0||(O=y.originalLine-x.originalLine,O!==0)||(O=y.originalColumn-x.originalColumn,O!==0||R)||(O=y.generatedColumn-x.generatedColumn,O!==0)||(O=y.generatedLine-x.generatedLine,O!==0)?O:v(y.name,x.name)}t.compareByOriginalPositions=f;function _(y,x,R){var O=y.generatedLine-x.generatedLine;return O!==0||(O=y.generatedColumn-x.generatedColumn,O!==0||R)||(O=v(y.source,x.source),O!==0)||(O=y.originalLine-x.originalLine,O!==0)||(O=y.originalColumn-x.originalColumn,O!==0)?O:v(y.name,x.name)}t.compareByGeneratedPositionsDeflated=_;function v(y,x){return y===x?0:y===null?1:x===null?-1:y>x?1:-1}function C(y,x){var R=y.generatedLine-x.generatedLine;return R!==0||(R=y.generatedColumn-x.generatedColumn,R!==0)||(R=v(y.source,x.source),R!==0)||(R=y.originalLine-x.originalLine,R!==0)||(R=y.originalColumn-x.originalColumn,R!==0)?R:v(y.name,x.name)}t.compareByGeneratedPositionsInflated=C;function S(y){return JSON.parse(y.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=S;function w(y,x,R){if(x=x||"",y&&(y[y.length-1]!=="/"&&x[0]!=="/"&&(y+="/"),x=y+x),R){var O=i(R);if(!O)throw new Error("sourceMapURL could not be parsed");if(O.path){var T=O.path.lastIndexOf("/");T>=0&&(O.path=O.path.substring(0,T+1))}x=o(s(O),x)}return a(x)}t.computeSourceURL=w}(Ha)),Ha}var Ua={},ph;function uc(){if(ph)return Ua;ph=1;var t=Si(),e=Object.prototype.hasOwnProperty,r=typeof Map<"u";function n(){this._array=[],this._set=r?new Map:Object.create(null)}return n.fromArray=function(s,a){for(var o=new n,l=0,h=s.length;l<h;l++)o.add(s[l],a);return o},n.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(s,a){var o=r?s:t.toSetString(s),l=r?this.has(s):e.call(this._set,o),h=this._array.length;(!l||a)&&this._array.push(s),l||(r?this._set.set(s,h):this._set[o]=h)},n.prototype.has=function(s){if(r)return this._set.has(s);var a=t.toSetString(s);return e.call(this._set,a)},n.prototype.indexOf=function(s){if(r){var a=this._set.get(s);if(a>=0)return a}else{var o=t.toSetString(s);if(e.call(this._set,o))return this._set[o]}throw new Error('"'+s+'" is not in the set.')},n.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)},n.prototype.toArray=function(){return this._array.slice()},Ua.ArraySet=n,Ua}var Wa={},gh;function l2(){if(gh)return Wa;gh=1;var t=Si();function e(n,i){var s=n.generatedLine,a=i.generatedLine,o=n.generatedColumn,l=i.generatedColumn;return a>s||a==s&&l>=o||t.compareByGeneratedPositionsInflated(n,i)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(i,s){this._array.forEach(i,s)},r.prototype.add=function(i){e(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Wa.MappingList=r,Wa}var vh;function cc(){if(vh)return Ba;vh=1;var t=hc(),e=Si(),r=uc().ArraySet,n=l2().MappingList;function i(s){s||(s={}),this._file=e.getArg(s,"file",null),this._sourceRoot=e.getArg(s,"sourceRoot",null),this._skipValidation=e.getArg(s,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new n,this._sourcesContents=null}return i.prototype._version=3,i.fromSourceMap=function(a){var o=a.sourceRoot,l=new i({file:a.file,sourceRoot:o});return a.eachMapping(function(h){var u={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(u.source=h.source,o!=null&&(u.source=e.relative(o,u.source)),u.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(u.name=h.name)),l.addMapping(u)}),a.sources.forEach(function(h){var u=h;o!==null&&(u=e.relative(o,h)),l._sources.has(u)||l._sources.add(u);var p=a.sourceContentFor(h);p!=null&&l.setSourceContent(h,p)}),l},i.prototype.addMapping=function(a){var o=e.getArg(a,"generated"),l=e.getArg(a,"original",null),h=e.getArg(a,"source",null),u=e.getArg(a,"name",null);this._skipValidation||this._validateMapping(o,l,h,u),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:l!=null&&l.line,originalColumn:l!=null&&l.column,source:h,name:u})},i.prototype.setSourceContent=function(a,o){var l=a;this._sourceRoot!=null&&(l=e.relative(this._sourceRoot,l)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(l)]=o):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(l)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(a,o,l){var h=o;if(o==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=a.file}var u=this._sourceRoot;u!=null&&(h=e.relative(u,h));var p=new r,c=new r;this._mappings.unsortedForEach(function(d){if(d.source===h&&d.originalLine!=null){var f=a.originalPositionFor({line:d.originalLine,column:d.originalColumn});f.source!=null&&(d.source=f.source,l!=null&&(d.source=e.join(l,d.source)),u!=null&&(d.source=e.relative(u,d.source)),d.originalLine=f.line,d.originalColumn=f.column,f.name!=null&&(d.name=f.name))}var _=d.source;_!=null&&!p.has(_)&&p.add(_);var v=d.name;v!=null&&!c.has(v)&&c.add(v)},this),this._sources=p,this._names=c,a.sources.forEach(function(d){var f=a.sourceContentFor(d);f!=null&&(l!=null&&(d=e.join(l,d)),u!=null&&(d=e.relative(u,d)),this.setSourceContent(d,f))},this)},i.prototype._validateMapping=function(a,o,l,h){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!o&&!l&&!h)){if(a&&"line"in a&&"column"in a&&o&&"line"in o&&"column"in o&&a.line>0&&a.column>=0&&o.line>0&&o.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:l,original:o,name:h}))}},i.prototype._serializeMappings=function(){for(var a=0,o=1,l=0,h=0,u=0,p=0,c="",d,f,_,v,C=this._mappings.toArray(),S=0,w=C.length;S<w;S++){if(f=C[S],d="",f.generatedLine!==o)for(a=0;f.generatedLine!==o;)d+=";",o++;else if(S>0){if(!e.compareByGeneratedPositionsInflated(f,C[S-1]))continue;d+=","}d+=t.encode(f.generatedColumn-a),a=f.generatedColumn,f.source!=null&&(v=this._sources.indexOf(f.source),d+=t.encode(v-p),p=v,d+=t.encode(f.originalLine-1-h),h=f.originalLine-1,d+=t.encode(f.originalColumn-l),l=f.originalColumn,f.name!=null&&(_=this._names.indexOf(f.name),d+=t.encode(_-u),u=_)),c+=d}return c},i.prototype._generateSourcesContent=function(a,o){return a.map(function(l){if(!this._sourcesContents)return null;o!=null&&(l=e.relative(o,l));var h=e.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},i.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ba.SourceMapGenerator=i,Ba}var qn={},za={},_h;function h2(){return _h||(_h=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,n,i,s,a,o){var l=Math.floor((n-r)/2)+r,h=a(i,s[l],!0);return h===0?l:h>0?n-l>1?e(l,n,i,s,a,o):o==t.LEAST_UPPER_BOUND?n<s.length?n:-1:l:l-r>1?e(r,l,i,s,a,o):o==t.LEAST_UPPER_BOUND?l:r<0?-1:r}t.search=function(n,i,s,a){if(i.length===0)return-1;var o=e(-1,i.length,n,i,s,a||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&s(i[o],i[o-1],!0)===0;)--o;return o}}(za)),za}var qa={},mh;function u2(){if(mh)return qa;mh=1;function t(n,i,s){var a=n[i];n[i]=n[s],n[s]=a}function e(n,i){return Math.round(n+Math.random()*(i-n))}function r(n,i,s,a){if(s<a){var o=e(s,a),l=s-1;t(n,o,a);for(var h=n[a],u=s;u<a;u++)i(n[u],h)<=0&&(l+=1,t(n,l,u));t(n,l+1,u);var p=l+1;r(n,i,s,p-1),r(n,i,p+1,a)}}return qa.quickSort=function(n,i){r(n,i,0,n.length-1)},qa}var yh;function c2(){if(yh)return qn;yh=1;var t=Si(),e=h2(),r=uc().ArraySet,n=hc(),i=u2().quickSort;function s(h,u){var p=h;return typeof h=="string"&&(p=t.parseSourceMapInput(h)),p.sections!=null?new l(p,u):new a(p,u)}s.fromSourceMap=function(h,u){return a.fromSourceMap(h,u)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(u,p){var c=u.charAt(p);return c===";"||c===","},s.prototype._parseMappings=function(u,p){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(u,p,c){var d=p||null,f=c||s.GENERATED_ORDER,_;switch(f){case s.GENERATED_ORDER:_=this._generatedMappings;break;case s.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;_.map(function(C){var S=C.source===null?null:this._sources.at(C.source);return S=t.computeSourceURL(v,S,this._sourceMapURL),{source:S,generatedLine:C.generatedLine,generatedColumn:C.generatedColumn,originalLine:C.originalLine,originalColumn:C.originalColumn,name:C.name===null?null:this._names.at(C.name)}},this).forEach(u,d)},s.prototype.allGeneratedPositionsFor=function(u){var p=t.getArg(u,"line"),c={source:t.getArg(u,"source"),originalLine:p,originalColumn:t.getArg(u,"column",0)};if(c.source=this._findSourceIndex(c.source),c.source<0)return[];var d=[],f=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(f>=0){var _=this._originalMappings[f];if(u.column===void 0)for(var v=_.originalLine;_&&_.originalLine===v;)d.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++f];else for(var C=_.originalColumn;_&&_.originalLine===p&&_.originalColumn==C;)d.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++f]}return d},qn.SourceMapConsumer=s;function a(h,u){var p=h;typeof h=="string"&&(p=t.parseSourceMapInput(h));var c=t.getArg(p,"version"),d=t.getArg(p,"sources"),f=t.getArg(p,"names",[]),_=t.getArg(p,"sourceRoot",null),v=t.getArg(p,"sourcesContent",null),C=t.getArg(p,"mappings"),S=t.getArg(p,"file",null);if(c!=this._version)throw new Error("Unsupported version: "+c);_&&(_=t.normalize(_)),d=d.map(String).map(t.normalize).map(function(w){return _&&t.isAbsolute(_)&&t.isAbsolute(w)?t.relative(_,w):w}),this._names=r.fromArray(f.map(String),!0),this._sources=r.fromArray(d,!0),this._absoluteSources=this._sources.toArray().map(function(w){return t.computeSourceURL(_,w,u)}),this.sourceRoot=_,this.sourcesContent=v,this._mappings=C,this._sourceMapURL=u,this.file=S}a.prototype=Object.create(s.prototype),a.prototype.consumer=s,a.prototype._findSourceIndex=function(h){var u=h;if(this.sourceRoot!=null&&(u=t.relative(this.sourceRoot,u)),this._sources.has(u))return this._sources.indexOf(u);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==h)return p;return-1},a.fromSourceMap=function(u,p){var c=Object.create(a.prototype),d=c._names=r.fromArray(u._names.toArray(),!0),f=c._sources=r.fromArray(u._sources.toArray(),!0);c.sourceRoot=u._sourceRoot,c.sourcesContent=u._generateSourcesContent(c._sources.toArray(),c.sourceRoot),c.file=u._file,c._sourceMapURL=p,c._absoluteSources=c._sources.toArray().map(function(R){return t.computeSourceURL(c.sourceRoot,R,p)});for(var _=u._mappings.toArray().slice(),v=c.__generatedMappings=[],C=c.__originalMappings=[],S=0,w=_.length;S<w;S++){var y=_[S],x=new o;x.generatedLine=y.generatedLine,x.generatedColumn=y.generatedColumn,y.source&&(x.source=f.indexOf(y.source),x.originalLine=y.originalLine,x.originalColumn=y.originalColumn,y.name&&(x.name=d.indexOf(y.name)),C.push(x)),v.push(x)}return i(c.__originalMappings,t.compareByOriginalPositions),c},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a.prototype._parseMappings=function(u,p){for(var c=1,d=0,f=0,_=0,v=0,C=0,S=u.length,w=0,y={},x={},R=[],O=[],T,G,N,U,re;w<S;)if(u.charAt(w)===";")c++,w++,d=0;else if(u.charAt(w)===",")w++;else{for(T=new o,T.generatedLine=c,U=w;U<S&&!this._charIsMappingSeparator(u,U);U++);if(G=u.slice(w,U),N=y[G],N)w+=G.length;else{for(N=[];w<U;)n.decode(u,w,x),re=x.value,w=x.rest,N.push(re);if(N.length===2)throw new Error("Found a source, but no line and column");if(N.length===3)throw new Error("Found a source and line, but no column");y[G]=N}T.generatedColumn=d+N[0],d=T.generatedColumn,N.length>1&&(T.source=v+N[1],v+=N[1],T.originalLine=f+N[2],f=T.originalLine,T.originalLine+=1,T.originalColumn=_+N[3],_=T.originalColumn,N.length>4&&(T.name=C+N[4],C+=N[4])),O.push(T),typeof T.originalLine=="number"&&R.push(T)}i(O,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=O,i(R,t.compareByOriginalPositions),this.__originalMappings=R},a.prototype._findMapping=function(u,p,c,d,f,_){if(u[c]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+u[c]);if(u[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+u[d]);return e.search(u,p,f,_)},a.prototype.computeColumnSpans=function(){for(var u=0;u<this._generatedMappings.length;++u){var p=this._generatedMappings[u];if(u+1<this._generatedMappings.length){var c=this._generatedMappings[u+1];if(p.generatedLine===c.generatedLine){p.lastGeneratedColumn=c.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(u){var p={generatedLine:t.getArg(u,"line"),generatedColumn:t.getArg(u,"column")},c=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(u,"bias",s.GREATEST_LOWER_BOUND));if(c>=0){var d=this._generatedMappings[c];if(d.generatedLine===p.generatedLine){var f=t.getArg(d,"source",null);f!==null&&(f=this._sources.at(f),f=t.computeSourceURL(this.sourceRoot,f,this._sourceMapURL));var _=t.getArg(d,"name",null);return _!==null&&(_=this._names.at(_)),{source:f,line:t.getArg(d,"originalLine",null),column:t.getArg(d,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(u){return u==null}):!1},a.prototype.sourceContentFor=function(u,p){if(!this.sourcesContent)return null;var c=this._findSourceIndex(u);if(c>=0)return this.sourcesContent[c];var d=u;this.sourceRoot!=null&&(d=t.relative(this.sourceRoot,d));var f;if(this.sourceRoot!=null&&(f=t.urlParse(this.sourceRoot))){var _=d.replace(/^file:\/\//,"");if(f.scheme=="file"&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!f.path||f.path=="/")&&this._sources.has("/"+d))return this.sourcesContent[this._sources.indexOf("/"+d)]}if(p)return null;throw new Error('"'+d+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(u){var p=t.getArg(u,"source");if(p=this._findSourceIndex(p),p<0)return{line:null,column:null,lastColumn:null};var c={source:p,originalLine:t.getArg(u,"line"),originalColumn:t.getArg(u,"column")},d=this._findMapping(c,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(u,"bias",s.GREATEST_LOWER_BOUND));if(d>=0){var f=this._originalMappings[d];if(f.source===c.source)return{line:t.getArg(f,"generatedLine",null),column:t.getArg(f,"generatedColumn",null),lastColumn:t.getArg(f,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},qn.BasicSourceMapConsumer=a;function l(h,u){var p=h;typeof h=="string"&&(p=t.parseSourceMapInput(h));var c=t.getArg(p,"version"),d=t.getArg(p,"sections");if(c!=this._version)throw new Error("Unsupported version: "+c);this._sources=new r,this._names=new r;var f={line:-1,column:0};this._sections=d.map(function(_){if(_.url)throw new Error("Support for url field in sections not implemented.");var v=t.getArg(_,"offset"),C=t.getArg(v,"line"),S=t.getArg(v,"column");if(C<f.line||C===f.line&&S<f.column)throw new Error("Section offsets must be ordered and non-overlapping.");return f=v,{generatedOffset:{generatedLine:C+1,generatedColumn:S+1},consumer:new s(t.getArg(_,"map"),u)}})}return l.prototype=Object.create(s.prototype),l.prototype.constructor=s,l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){for(var h=[],u=0;u<this._sections.length;u++)for(var p=0;p<this._sections[u].consumer.sources.length;p++)h.push(this._sections[u].consumer.sources[p]);return h}}),l.prototype.originalPositionFor=function(u){var p={generatedLine:t.getArg(u,"line"),generatedColumn:t.getArg(u,"column")},c=e.search(p,this._sections,function(f,_){var v=f.generatedLine-_.generatedOffset.generatedLine;return v||f.generatedColumn-_.generatedOffset.generatedColumn}),d=this._sections[c];return d?d.consumer.originalPositionFor({line:p.generatedLine-(d.generatedOffset.generatedLine-1),column:p.generatedColumn-(d.generatedOffset.generatedLine===p.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:u.bias}):{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(u){return u.consumer.hasContentsOfAllSources()})},l.prototype.sourceContentFor=function(u,p){for(var c=0;c<this._sections.length;c++){var d=this._sections[c],f=d.consumer.sourceContentFor(u,!0);if(f)return f}if(p)return null;throw new Error('"'+u+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(u){for(var p=0;p<this._sections.length;p++){var c=this._sections[p];if(c.consumer._findSourceIndex(t.getArg(u,"source"))!==-1){var d=c.consumer.generatedPositionFor(u);if(d){var f={line:d.line+(c.generatedOffset.generatedLine-1),column:d.column+(c.generatedOffset.generatedLine===d.line?c.generatedOffset.generatedColumn-1:0)};return f}}}return{line:null,column:null}},l.prototype._parseMappings=function(u,p){this.__generatedMappings=[],this.__originalMappings=[];for(var c=0;c<this._sections.length;c++)for(var d=this._sections[c],f=d.consumer._generatedMappings,_=0;_<f.length;_++){var v=f[_],C=d.consumer._sources.at(v.source);C=t.computeSourceURL(d.consumer.sourceRoot,C,this._sourceMapURL),this._sources.add(C),C=this._sources.indexOf(C);var S=null;v.name&&(S=d.consumer._names.at(v.name),this._names.add(S),S=this._names.indexOf(S));var w={source:C,generatedLine:v.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(d.generatedOffset.generatedLine===v.generatedLine?d.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:S};this.__generatedMappings.push(w),typeof w.originalLine=="number"&&this.__originalMappings.push(w)}i(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),i(this.__originalMappings,t.compareByOriginalPositions)},qn.IndexedSourceMapConsumer=l,qn}var Ya={},Sh;function f2(){if(Sh)return Ya;Sh=1;var t=cc().SourceMapGenerator,e=Si(),r=/(\r?\n)/,n=10,i="$$$isSourceNode$$$";function s(a,o,l,h,u){this.children=[],this.sourceContents={},this.line=a==null?null:a,this.column=o==null?null:o,this.source=l==null?null:l,this.name=u==null?null:u,this[i]=!0,h!=null&&this.add(h)}return s.fromStringWithSourceMap=function(o,l,h){var u=new s,p=o.split(r),c=0,d=function(){var S=y(),w=y()||"";return S+w;function y(){return c<p.length?p[c++]:void 0}},f=1,_=0,v=null;return l.eachMapping(function(S){if(v!==null)if(f<S.generatedLine)C(v,d()),f++,_=0;else{var w=p[c]||"",y=w.substr(0,S.generatedColumn-_);p[c]=w.substr(S.generatedColumn-_),_=S.generatedColumn,C(v,y),v=S;return}for(;f<S.generatedLine;)u.add(d()),f++;if(_<S.generatedColumn){var w=p[c]||"";u.add(w.substr(0,S.generatedColumn)),p[c]=w.substr(S.generatedColumn),_=S.generatedColumn}v=S},this),c<p.length&&(v&&C(v,d()),u.add(p.splice(c).join(""))),l.sources.forEach(function(S){var w=l.sourceContentFor(S);w!=null&&(h!=null&&(S=e.join(h,S)),u.setSourceContent(S,w))}),u;function C(S,w){if(S===null||S.source===void 0)u.add(w);else{var y=h?e.join(h,S.source):S.source;u.add(new s(S.originalLine,S.originalColumn,y,w,S.name))}}},s.prototype.add=function(o){if(Array.isArray(o))o.forEach(function(l){this.add(l)},this);else if(o[i]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},s.prototype.prepend=function(o){if(Array.isArray(o))for(var l=o.length-1;l>=0;l--)this.prepend(o[l]);else if(o[i]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},s.prototype.walk=function(o){for(var l,h=0,u=this.children.length;h<u;h++)l=this.children[h],l[i]?l.walk(o):l!==""&&o(l,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(o){var l,h,u=this.children.length;if(u>0){for(l=[],h=0;h<u-1;h++)l.push(this.children[h]),l.push(o);l.push(this.children[h]),this.children=l}return this},s.prototype.replaceRight=function(o,l){var h=this.children[this.children.length-1];return h[i]?h.replaceRight(o,l):typeof h=="string"?this.children[this.children.length-1]=h.replace(o,l):this.children.push("".replace(o,l)),this},s.prototype.setSourceContent=function(o,l){this.sourceContents[e.toSetString(o)]=l},s.prototype.walkSourceContents=function(o){for(var l=0,h=this.children.length;l<h;l++)this.children[l][i]&&this.children[l].walkSourceContents(o);for(var u=Object.keys(this.sourceContents),l=0,h=u.length;l<h;l++)o(e.fromSetString(u[l]),this.sourceContents[u[l]])},s.prototype.toString=function(){var o="";return this.walk(function(l){o+=l}),o},s.prototype.toStringWithSourceMap=function(o){var l={code:"",line:1,column:0},h=new t(o),u=!1,p=null,c=null,d=null,f=null;return this.walk(function(_,v){l.code+=_,v.source!==null&&v.line!==null&&v.column!==null?((p!==v.source||c!==v.line||d!==v.column||f!==v.name)&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:l.line,column:l.column},name:v.name}),p=v.source,c=v.line,d=v.column,f=v.name,u=!0):u&&(h.addMapping({generated:{line:l.line,column:l.column}}),p=null,u=!1);for(var C=0,S=_.length;C<S;C++)_.charCodeAt(C)===n?(l.line++,l.column=0,C+1===S?(p=null,u=!1):u&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:l.line,column:l.column},name:v.name})):l.column++}),this.walkSourceContents(function(_,v){h.setSourceContent(_,v)}),{code:l.code,map:h}},Ya.SourceNode=s,Ya}var bh;function d2(){return bh||(bh=1,zn.SourceMapGenerator=cc().SourceMapGenerator,zn.SourceMapConsumer=c2().SourceMapConsumer,zn.SourceNode=f2().SourceNode),zn}(function(t,e){e.__esModule=!0;var r=Ie,n=void 0;try{var i=d2();n=i.SourceNode}catch{}n||(n=function(o,l,h,u){this.src="",u&&this.add(u)},n.prototype={add:function(l){r.isArray(l)&&(l=l.join("")),this.src+=l},prepend:function(l){r.isArray(l)&&(l=l.join("")),this.src=l+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function s(o,l,h){if(r.isArray(o)){for(var u=[],p=0,c=o.length;p<c;p++)u.push(l.wrap(o[p],h));return u}else if(typeof o=="boolean"||typeof o=="number")return o+"";return o}function a(o){this.srcFile=o,this.source=[]}a.prototype={isEmpty:function(){return!this.source.length},prepend:function(l,h){this.source.unshift(this.wrap(l,h))},push:function(l,h){this.source.push(this.wrap(l,h))},merge:function(){var l=this.empty();return this.each(function(h){l.add(["  ",h,`
`])}),l},each:function(l){for(var h=0,u=this.source.length;h<u;h++)l(this.source[h])},empty:function(){var l=this.currentLocation||{start:{}};return new n(l.start.line,l.start.column,this.srcFile)},wrap:function(l){var h=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return l instanceof n?l:(l=s(l,this,h),new n(h.start.line,h.start.column,this.srcFile,l))},functionCall:function(l,h,u){return u=this.generateList(u),this.wrap([l,h?"."+h+"(":"(",u,")"])},quotedString:function(l){return'"'+(l+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(l){var h=this,u=[];Object.keys(l).forEach(function(c){var d=s(l[c],h);d!=="undefined"&&u.push([h.quotedString(c),":",d])});var p=this.generateList(u);return p.prepend("{"),p.add("}"),p},generateList:function(l){for(var h=this.empty(),u=0,p=l.length;u<p;u++)u&&h.add(","),h.add(s(l[u],this));return h},generateArray:function(l){var h=this.generateList(l);return h.prepend("["),h.add("]"),h}},e.default=a,t.exports=e.default})(No,No.exports);(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var n=Pt,i=_t.exports,s=r(i),a=Ie,o=No.exports,l=r(o);function h(c){this.value=c}function u(){}u.prototype={nameLookup:function(d,f){return this.internalNameLookup(d,f)},depthedLookup:function(d){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(d),")"]},compilerInfo:function(){var d=n.COMPILER_REVISION,f=n.REVISION_CHANGES[d];return[d,f]},appendToBuffer:function(d,f,_){return a.isArray(d)||(d=[d]),d=this.source.wrap(d,f),this.environment.isSimple?["return ",d,";"]:_?["buffer += ",d,";"]:(d.appendToBuffer=!0,d)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(d,f){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",d,",",JSON.stringify(f),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(d,f,_,v){this.environment=d,this.options=f,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!_,this.context=_||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(d,f),this.useDepths=this.useDepths||d.useDepths||d.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||d.useBlockParams;var C=d.opcodes,S=void 0,w=void 0,y=void 0,x=void 0;for(y=0,x=C.length;y<x;y++)S=C[y],this.source.currentLocation=S.loc,w=w||S.loc,this[S.opcode].apply(this,S.args);if(this.source.currentLocation=w,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var R=this.createFunctionContext(v);if(this.isChild)return R;var O={compiler:this.compilerInfo(),main:R};this.decorators&&(O.main_d=this.decorators,O.useDecorators=!0);var T=this.context,G=T.programs,N=T.decorators;for(y=0,x=G.length;y<x;y++)G[y]&&(O[y]=G[y],N[y]&&(O[y+"_d"]=N[y],O.useDecorators=!0));return this.environment.usePartial&&(O.usePartial=!0),this.options.data&&(O.useData=!0),this.useDepths&&(O.useDepths=!0),this.useBlockParams&&(O.useBlockParams=!0),this.options.compat&&(O.compat=!0),v?O.compilerOptions=this.options:(O.compiler=JSON.stringify(O.compiler),this.source.currentLocation={start:{line:1,column:0}},O=this.objectLiteral(O),f.srcName?(O=O.toStringWithSourceMap({file:f.destName}),O.map=O.map&&O.map.toString()):O=O.toString()),O},preamble:function(){this.lastContext=0,this.source=new l.default(this.options.srcName),this.decorators=new l.default(this.options.srcName)},createFunctionContext:function(d){var f=this,_="",v=this.stackVars.concat(this.registers.list);v.length>0&&(_+=", "+v.join(", "));var C=0;Object.keys(this.aliases).forEach(function(y){var x=f.aliases[y];x.children&&x.referenceCount>1&&(_+=", alias"+ ++C+"="+y,x.children[0]="alias"+C)}),this.lookupPropertyFunctionIsUsed&&(_+=", "+this.lookupPropertyFunctionVarDeclaration());var S=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&S.push("blockParams"),this.useDepths&&S.push("depths");var w=this.mergeSource(_);return d?(S.push(w),Function.apply(this,S)):this.source.wrap(["function(",S.join(","),`) {
  `,w,"}"])},mergeSource:function(d){var f=this.environment.isSimple,_=!this.forceBuffer,v=void 0,C=void 0,S=void 0,w=void 0;return this.source.each(function(y){y.appendToBuffer?(S?y.prepend("  + "):S=y,w=y):(S&&(C?S.prepend("buffer += "):v=!0,w.add(";"),S=w=void 0),C=!0,f||(_=!1))}),_?S?(S.prepend("return "),w.add(";")):C||this.source.push('return "";'):(d+=", buffer = "+(v?"":this.initializeBuffer()),S?(S.prepend("return buffer + "),w.add(";")):this.source.push("return buffer;")),d&&this.source.prepend("var "+d.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(d){var f=this.aliasable("container.hooks.blockHelperMissing"),_=[this.contextName(0)];this.setupHelperArgs(d,0,_);var v=this.popStack();_.splice(1,0,v),this.push(this.source.functionCall(f,"call",_))},ambiguousBlockValue:function(){var d=this.aliasable("container.hooks.blockHelperMissing"),f=[this.contextName(0)];this.setupHelperArgs("",0,f,!0),this.flushInline();var _=this.topStack();f.splice(1,0,_),this.pushSource(["if (!",this.lastHelper,") { ",_," = ",this.source.functionCall(d,"call",f),"}"])},appendContent:function(d){this.pendingContent?d=this.pendingContent+d:this.pendingLocation=this.source.currentLocation,this.pendingContent=d},append:function(){if(this.isInline())this.replaceStack(function(f){return[" != null ? ",f,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var d=this.popStack();this.pushSource(["if (",d," != null) { ",this.appendToBuffer(d,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(d){this.lastContext=d},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(d,f,_,v){var C=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(d[C++])):this.pushContext(),this.resolvePath("context",d,C,f,_)},lookupBlockParam:function(d,f){this.useBlockParams=!0,this.push(["blockParams[",d[0],"][",d[1],"]"]),this.resolvePath("context",f,1)},lookupData:function(d,f,_){d?this.pushStackLiteral("container.data(data, "+d+")"):this.pushStackLiteral("data"),this.resolvePath("data",f,0,!0,_)},resolvePath:function(d,f,_,v,C){var S=this;if(this.options.strict||this.options.assumeObjects){this.push(p(this.options.strict&&C,this,f,d));return}for(var w=f.length;_<w;_++)this.replaceStack(function(y){var x=S.nameLookup(y,f[_],d);return v?[" && ",x]:[" != null ? ",x," : ",y]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(d,f){this.pushContext(),this.pushString(f),f!=="SubExpression"&&(typeof d=="string"?this.pushString(d):this.pushStackLiteral(d))},emptyHash:function(d){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(d?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var d=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(d.ids)),this.stringParams&&(this.push(this.objectLiteral(d.contexts)),this.push(this.objectLiteral(d.types))),this.push(this.objectLiteral(d.values))},pushString:function(d){this.pushStackLiteral(this.quotedString(d))},pushLiteral:function(d){this.pushStackLiteral(d)},pushProgram:function(d){d!=null?this.pushStackLiteral(this.programExpression(d)):this.pushStackLiteral(null)},registerDecorator:function(d,f){var _=this.nameLookup("decorators",f,"decorator"),v=this.setupHelperArgs(f,d);this.decorators.push(["fn = ",this.decorators.functionCall(_,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(d,f,_){var v=this.popStack(),C=this.setupHelper(d,f),S=[];_&&S.push(C.name),S.push(v),this.options.strict||S.push(this.aliasable("container.hooks.helperMissing"));var w=["(",this.itemsSeparatedBy(S,"||"),")"],y=this.source.functionCall(w,"call",C.callParams);this.push(y)},itemsSeparatedBy:function(d,f){var _=[];_.push(d[0]);for(var v=1;v<d.length;v++)_.push(f,d[v]);return _},invokeKnownHelper:function(d,f){var _=this.setupHelper(d,f);this.push(this.source.functionCall(_.name,"call",_.callParams))},invokeAmbiguous:function(d,f){this.useRegister("helper");var _=this.popStack();this.emptyHash();var v=this.setupHelper(0,d,f),C=this.lastHelper=this.nameLookup("helpers",d,"helper"),S=["(","(helper = ",C," || ",_,")"];this.options.strict||(S[0]="(helper = ",S.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",S,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(d,f,_){var v=[],C=this.setupParams(f,1,v);d&&(f=this.popStack(),delete C.name),_&&(C.indent=JSON.stringify(_)),C.helpers="helpers",C.partials="partials",C.decorators="container.decorators",d?v.unshift(f):v.unshift(this.nameLookup("partials",f,"partial")),this.options.compat&&(C.depths="depths"),C=this.objectLiteral(C),v.push(C),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(d){var f=this.popStack(),_=void 0,v=void 0,C=void 0;this.trackIds&&(C=this.popStack()),this.stringParams&&(v=this.popStack(),_=this.popStack());var S=this.hash;_&&(S.contexts[d]=_),v&&(S.types[d]=v),C&&(S.ids[d]=C),S.values[d]=f},pushId:function(d,f,_){d==="BlockParam"?this.pushStackLiteral("blockParams["+f[0]+"].path["+f[1]+"]"+(_?" + "+JSON.stringify("."+_):"")):d==="PathExpression"?this.pushString(f):d==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:u,compileChildren:function(d,f){for(var _=d.children,v=void 0,C=void 0,S=0,w=_.length;S<w;S++){v=_[S],C=new this.compiler;var y=this.matchExistingProgram(v);if(y==null){this.context.programs.push("");var x=this.context.programs.length;v.index=x,v.name="program"+x,this.context.programs[x]=C.compile(v,f,this.context,!this.precompile),this.context.decorators[x]=C.decorators,this.context.environments[x]=v,this.useDepths=this.useDepths||C.useDepths,this.useBlockParams=this.useBlockParams||C.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=y.index,v.name="program"+y.index,this.useDepths=this.useDepths||y.useDepths,this.useBlockParams=this.useBlockParams||y.useBlockParams}},matchExistingProgram:function(d){for(var f=0,_=this.context.environments.length;f<_;f++){var v=this.context.environments[f];if(v&&v.equals(d))return v}},programExpression:function(d){var f=this.environment.children[d],_=[f.index,"data",f.blockParams];return(this.useBlockParams||this.useDepths)&&_.push("blockParams"),this.useDepths&&_.push("depths"),"container.program("+_.join(", ")+")"},useRegister:function(d){this.registers[d]||(this.registers[d]=!0,this.registers.list.push(d))},push:function(d){return d instanceof h||(d=this.source.wrap(d)),this.inlineStack.push(d),d},pushStackLiteral:function(d){this.push(new h(d))},pushSource:function(d){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),d&&this.source.push(d)},replaceStack:function(d){var f=["("],_=void 0,v=void 0,C=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var S=this.popStack(!0);if(S instanceof h)_=[S.value],f=["(",_],C=!0;else{v=!0;var w=this.incrStack();f=["((",this.push(w)," = ",S,")"],_=this.topStack()}var y=d.call(this,_);C||this.popStack(),v&&this.stackSlot--,this.push(f.concat(y,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var d=this.inlineStack;this.inlineStack=[];for(var f=0,_=d.length;f<_;f++){var v=d[f];if(v instanceof h)this.compileStack.push(v);else{var C=this.incrStack();this.pushSource([C," = ",v,";"]),this.compileStack.push(C)}}},isInline:function(){return this.inlineStack.length},popStack:function(d){var f=this.isInline(),_=(f?this.inlineStack:this.compileStack).pop();if(!d&&_ instanceof h)return _.value;if(!f){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return _},topStack:function(){var d=this.isInline()?this.inlineStack:this.compileStack,f=d[d.length-1];return f instanceof h?f.value:f},contextName:function(d){return this.useDepths&&d?"depths["+d+"]":"depth"+d},quotedString:function(d){return this.source.quotedString(d)},objectLiteral:function(d){return this.source.objectLiteral(d)},aliasable:function(d){var f=this.aliases[d];return f?(f.referenceCount++,f):(f=this.aliases[d]=this.source.wrap(d),f.aliasable=!0,f.referenceCount=1,f)},setupHelper:function(d,f,_){var v=[],C=this.setupHelperArgs(f,d,v,_),S=this.nameLookup("helpers",f,"helper"),w=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:C,name:S,callParams:[w].concat(v)}},setupParams:function(d,f,_){var v={},C=[],S=[],w=[],y=!_,x=void 0;y&&(_=[]),v.name=this.quotedString(d),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var R=this.popStack(),O=this.popStack();(O||R)&&(v.fn=O||"container.noop",v.inverse=R||"container.noop");for(var T=f;T--;)x=this.popStack(),_[T]=x,this.trackIds&&(w[T]=this.popStack()),this.stringParams&&(S[T]=this.popStack(),C[T]=this.popStack());return y&&(v.args=this.source.generateArray(_)),this.trackIds&&(v.ids=this.source.generateArray(w)),this.stringParams&&(v.types=this.source.generateArray(S),v.contexts=this.source.generateArray(C)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(d,f,_,v){var C=this.setupParams(d,f,_);return C.loc=JSON.stringify(this.source.currentLocation),C=this.objectLiteral(C),v?(this.useRegister("options"),_.push("options"),["options=",C]):_?(_.push(C),""):C}},function(){for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),d=u.RESERVED_WORDS={},f=0,_=c.length;f<_;f++)d[c[f]]=!0}(),u.isValidJavaScriptVariableName=function(c){return!u.RESERVED_WORDS[c]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(c)};function p(c,d,f,_){var v=d.popStack(),C=0,S=f.length;for(c&&S--;C<S;C++)v=d.nameLookup(v,f[C],_);return c?[d.aliasable("container.strict"),"(",v,", ",d.quotedString(f[C]),", ",JSON.stringify(d.source.currentLocation)," )"]:v}e.default=u,t.exports=e.default})(Do,Do.exports);(function(t,e){e.__esModule=!0;function r(S){return S&&S.__esModule?S:{default:S}}var n=yo.exports,i=r(n),s=ys.exports,a=r(s),o=mi,l=yi,h=Do.exports,u=r(h),p=Ss.exports,c=r(p),d=ms.exports,f=r(d),_=i.default.create;function v(){var S=_();return S.compile=function(w,y){return l.compile(w,y,S)},S.precompile=function(w,y){return l.precompile(w,y,S)},S.AST=a.default,S.Compiler=l.Compiler,S.JavaScriptCompiler=u.default,S.Parser=o.parser,S.parse=o.parse,S.parseWithoutProcessing=o.parseWithoutProcessing,S}var C=v();C.create=v,f.default(C),C.Visitor=c.default,C.default=C,e.default=C,t.exports=e.default})(mo,mo.exports);const J_=Ap(mo.exports);var Ch;const bi=typeof window<"u",p2=t=>typeof t=="string",g2=()=>{};bi&&((Ch=window==null?void 0:window.navigator)==null?void 0:Ch.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function v2(t){return typeof t=="function"?t():bu(t)}function _2(t){return t}function fc(t){return su()?(au(t),!0):!1}function dc(t,e=!0){vl()?fl(t):e?t():ul(t)}function gi(t){var e;const r=v2(t);return(e=r==null?void 0:r.$el)!=null?e:r}const pc=bi?window:void 0;bi&&window.document;bi&&window.navigator;bi&&window.location;function Jr(...t){let e,r,n,i;if(p2(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=pc):[e,r,n,i]=t,!e)return g2;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const s=[],a=()=>{s.forEach(u=>u()),s.length=0},o=(u,p,c)=>(u.addEventListener(p,c,i),()=>u.removeEventListener(p,c,i)),l=jr(()=>gi(e),u=>{a(),u&&s.push(...r.flatMap(p=>n.map(c=>o(u,p,c))))},{immediate:!0,flush:"post"}),h=()=>{l(),a()};return fc(h),h}const m2=500;function Z_(t,e,r){var n,i;const s=_l(()=>gi(t));let a;function o(){a&&(clearTimeout(a),a=void 0)}function l(u){var p,c,d,f;((p=r==null?void 0:r.modifiers)==null?void 0:p.self)&&u.target!==s.value||(o(),(c=r==null?void 0:r.modifiers)!=null&&c.prevent&&u.preventDefault(),(d=r==null?void 0:r.modifiers)!=null&&d.stop&&u.stopPropagation(),a=setTimeout(()=>e(u),(f=r==null?void 0:r.delay)!=null?f:m2))}const h={capture:(n=r==null?void 0:r.modifiers)==null?void 0:n.capture,once:(i=r==null?void 0:r.modifiers)==null?void 0:i.once};Jr(s,"pointerdown",l,h),Jr(s,"pointerup",o,h),Jr(s,"pointerleave",o,h)}function y2(t,e=!1){const r=bt(),n=()=>r.value=Boolean(t());return n(),dc(n,e),r}const Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo="__vueuse_ssr_handlers__";Go[Fo]=Go[Fo]||{};Go[Fo];var wh=Object.getOwnPropertySymbols,S2=Object.prototype.hasOwnProperty,b2=Object.prototype.propertyIsEnumerable,C2=(t,e)=>{var r={};for(var n in t)S2.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&wh)for(var n of wh(t))e.indexOf(n)<0&&b2.call(t,n)&&(r[n]=t[n]);return r};function w2(t,e,r={}){const n=r,{window:i=pc}=n,s=C2(n,["window"]);let a;const o=y2(()=>i&&"ResizeObserver"in i),l=()=>{a&&(a.disconnect(),a=void 0)},h=jr(()=>gi(t),p=>{l(),o.value&&i&&p&&(a=new ResizeObserver(e),a.observe(p,s))},{immediate:!0,flush:"post"}),u=()=>{l(),h()};return fc(u),{isSupported:o,stop:u}}function $_(t,e={}){const{reset:r=!0,windowResize:n=!0,windowScroll:i=!0,immediate:s=!0}=e,a=bt(0),o=bt(0),l=bt(0),h=bt(0),u=bt(0),p=bt(0),c=bt(0),d=bt(0);function f(){const _=gi(t);if(!_){r&&(a.value=0,o.value=0,l.value=0,h.value=0,u.value=0,p.value=0,c.value=0,d.value=0);return}const v=_.getBoundingClientRect();a.value=v.height,o.value=v.bottom,l.value=v.left,h.value=v.right,u.value=v.top,p.value=v.width,c.value=v.x,d.value=v.y}return w2(t,f),jr(()=>gi(t),_=>!_&&f()),i&&Jr("scroll",f,{passive:!0}),n&&Jr("resize",f,{passive:!0}),dc(()=>{s&&f()}),{height:a,bottom:o,left:l,right:h,top:u,width:p,x:c,y:d,update:f}}function em(t){const e=bt(!1);return Jr(t,"mouseenter",()=>e.value=!0),Jr(t,"mouseleave",()=>e.value=!1),e}var xh;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(xh||(xh={}));var x2=Object.defineProperty,Ph=Object.getOwnPropertySymbols,P2=Object.prototype.hasOwnProperty,E2=Object.prototype.propertyIsEnumerable,Eh=(t,e,r)=>e in t?x2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A2=(t,e)=>{for(var r in e||(e={}))P2.call(e,r)&&Eh(t,r,e[r]);if(Ph)for(var r of Ph(e))E2.call(e,r)&&Eh(t,r,e[r]);return t};const k2={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};A2({linear:_2},k2);var Bo={exports:{}};(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",s=1,a=2,o=1/0,l=9007199254740991,h="[object Arguments]",u="[object Array]",p="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Function]",_="[object GeneratorFunction]",v="[object Map]",C="[object Number]",S="[object Object]",w="[object Promise]",y="[object RegExp]",x="[object Set]",R="[object String]",O="[object Symbol]",T="[object WeakMap]",G="[object ArrayBuffer]",N="[object DataView]",U="[object Float32Array]",re="[object Float64Array]",Z="[object Int8Array]",ge="[object Int16Array]",ye="[object Int32Array]",he="[object Uint8Array]",ue="[object Uint8ClampedArray]",fe="[object Uint16Array]",Ge="[object Uint32Array]",pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,ke=/^\./,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,Ln=/\\(\\)?/g,ct=/^\[object .+?Constructor\]$/,hr=/^(?:0|[1-9]\d*)$/,ae={};ae[U]=ae[re]=ae[Z]=ae[ge]=ae[ye]=ae[he]=ae[ue]=ae[fe]=ae[Ge]=!0,ae[h]=ae[u]=ae[G]=ae[p]=ae[N]=ae[c]=ae[d]=ae[f]=ae[v]=ae[C]=ae[S]=ae[y]=ae[x]=ae[R]=ae[T]=!1;var mt=typeof pt=="object"&&pt&&pt.Object===Object&&pt,Or=typeof self=="object"&&self&&self.Object===Object&&self,qe=mt||Or||Function("return this")(),A=e&&!e.nodeType&&e,k=A&&!0&&t&&!t.nodeType&&t,D=k&&k.exports===A,H=D&&mt.process,B=function(){try{return H&&H.binding("util")}catch{}}(),q=B&&B.isTypedArray;function J(g,b,L,F){for(var $=-1,j=g?g.length:0;++$<j;){var oe=g[$];b(F,oe,L(oe),g)}return F}function Y(g,b){for(var L=-1,F=g?g.length:0;++L<F;)if(b(g[L],L,g))return!0;return!1}function Q(g){return function(b){return b==null?void 0:b[g]}}function W(g,b){for(var L=-1,F=Array(g);++L<g;)F[L]=b(L);return F}function se(g){return function(b){return g(b)}}function te(g,b){return g==null?void 0:g[b]}function ne(g){var b=!1;if(g!=null&&typeof g.toString!="function")try{b=!!(g+"")}catch{}return b}function le(g){var b=-1,L=Array(g.size);return g.forEach(function(F,$){L[++b]=[$,F]}),L}function ve(g,b){return function(L){return g(b(L))}}function Ee(g){var b=-1,L=Array(g.size);return g.forEach(function(F){L[++b]=F}),L}var Ce=Array.prototype,Ne=Function.prototype,Ye=Object.prototype,lt=qe["__core-js_shared__"],ur=function(){var g=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),At=Ne.toString,Fe=Ye.hasOwnProperty,Le=Ye.toString,ht=RegExp("^"+At.call(Fe).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cr=qe.Symbol,Rn=qe.Uint8Array,Fs=Ye.propertyIsEnumerable,Bs=Ce.splice,Hs=ve(Object.keys,Object),Tr=dr(qe,"DataView"),kt=dr(qe,"Map"),Mr=dr(qe,"Promise"),Lr=dr(qe,"Set"),Rr=dr(qe,"WeakMap"),Ot=dr(Object,"create"),Us=Bt(Tr),Ws=Bt(kt),zs=Bt(Mr),qs=Bt(Lr),Ys=Bt(Rr),Kt=cr?cr.prototype:void 0,Ir=Kt?Kt.valueOf:void 0,In=Kt?Kt.toString:void 0;function st(g){var b=-1,L=g?g.length:0;for(this.clear();++b<L;){var F=g[b];this.set(F[0],F[1])}}function Ks(){this.__data__=Ot?Ot(null):{}}function Xs(g){return this.has(g)&&delete this.__data__[g]}function Vs(g){var b=this.__data__;if(Ot){var L=b[g];return L===i?void 0:L}return Fe.call(b,g)?b[g]:void 0}function js(g){var b=this.__data__;return Ot?b[g]!==void 0:Fe.call(b,g)}function Qs(g,b){var L=this.__data__;return L[g]=Ot&&b===void 0?i:b,this}st.prototype.clear=Ks,st.prototype.delete=Xs,st.prototype.get=Vs,st.prototype.has=js,st.prototype.set=Qs;function Ve(g){var b=-1,L=g?g.length:0;for(this.clear();++b<L;){var F=g[b];this.set(F[0],F[1])}}function Js(){this.__data__=[]}function Zs(g){var b=this.__data__,L=Vt(b,g);if(L<0)return!1;var F=b.length-1;return L==F?b.pop():Bs.call(b,L,1),!0}function $s(g){var b=this.__data__,L=Vt(b,g);return L<0?void 0:b[L][1]}function ea(g){return Vt(this.__data__,g)>-1}function ta(g,b){var L=this.__data__,F=Vt(L,g);return F<0?L.push([g,b]):L[F][1]=b,this}Ve.prototype.clear=Js,Ve.prototype.delete=Zs,Ve.prototype.get=$s,Ve.prototype.has=ea,Ve.prototype.set=ta;function je(g){var b=-1,L=g?g.length:0;for(this.clear();++b<L;){var F=g[b];this.set(F[0],F[1])}}function ra(){this.__data__={hash:new st,map:new(kt||Ve),string:new st}}function na(g){return an(this,g).delete(g)}function ia(g){return an(this,g).get(g)}function sa(g){return an(this,g).has(g)}function aa(g,b){return an(this,g).set(g,b),this}je.prototype.clear=ra,je.prototype.delete=na,je.prototype.get=ia,je.prototype.has=sa,je.prototype.set=aa;function Xt(g){var b=-1,L=g?g.length:0;for(this.__data__=new je;++b<L;)this.add(g[b])}function oa(g){return this.__data__.set(g,i),this}function la(g){return this.__data__.has(g)}Xt.prototype.add=Xt.prototype.push=oa,Xt.prototype.has=la;function Qe(g){this.__data__=new Ve(g)}function ha(){this.__data__=new Ve}function ua(g){return this.__data__.delete(g)}function ca(g){return this.__data__.get(g)}function fa(g){return this.__data__.has(g)}function da(g,b){var L=this.__data__;if(L instanceof Ve){var F=L.__data__;if(!kt||F.length<r-1)return F.push([g,b]),this;L=this.__data__=new je(F)}return L.set(g,b),this}Qe.prototype.clear=ha,Qe.prototype.delete=ua,Qe.prototype.get=ca,Qe.prototype.has=fa,Qe.prototype.set=da;function pa(g,b){var L=Ht(g)||ln(g)?W(g.length,String):[],F=L.length,$=!!F;for(var j in g)(b||Fe.call(g,j))&&!($&&(j=="length"||Ti(j,F)))&&L.push(j);return L}function Vt(g,b){for(var L=g.length;L--;)if(Nr(g[L][0],b))return L;return-1}function wi(g,b,L,F){return ga(g,function($,j,oe){b(F,$,L($),oe)}),F}var ga=fr(Dn),va=Gt();function Dn(g,b){return g&&va(g,b,ce)}function xi(g,b){b=jt(b,g)?[b]:Dr(b);for(var L=0,F=b.length;g!=null&&L<F;)g=g[on(b[L++])];return L&&L==F?g:void 0}function _a(g){return Le.call(g)}function ma(g,b){return g!=null&&b in Object(g)}function Nn(g,b,L,F,$){return g===b?!0:g==null||b==null||!hn(g)&&!un(b)?g!==g&&b!==b:ya(g,b,Nn,L,F,$)}function ya(g,b,L,F,$,j){var oe=Ht(g),me=Ht(b),we=u,Te=u;oe||(we=Tt(g),we=we==h?S:we),me||(Te=Tt(b),Te=Te==h?S:Te);var Be=we==S&&!ne(g),$e=Te==S&&!ne(b),He=we==Te;if(He&&!Be)return j||(j=new Qe),oe||m(g)?Ai(g,b,L,F,$,j):ki(g,b,we,L,F,$,j);if(!($&a)){var et=Be&&Fe.call(g,"__wrapped__"),yt=$e&&Fe.call(b,"__wrapped__");if(et||yt){var gr=et?g.value():g,Jt=yt?b.value():b;return j||(j=new Qe),L(gr,Jt,F,$,j)}}return He?(j||(j=new Qe),sn(g,b,L,F,$,j)):!1}function Sa(g,b,L,F){var $=L.length,j=$,oe=!F;if(g==null)return!j;for(g=Object(g);$--;){var me=L[$];if(oe&&me[2]?me[1]!==g[me[0]]:!(me[0]in g))return!1}for(;++$<j;){me=L[$];var we=me[0],Te=g[we],Be=me[1];if(oe&&me[2]){if(Te===void 0&&!(we in g))return!1}else{var $e=new Qe;if(F)var He=F(Te,Be,we,g,b,$e);if(!(He===void 0?Nn(Be,Te,F,s|a,$e):He))return!1}}return!0}function ba(g){if(!hn(g)||Gn(g))return!1;var b=Ri(g)||ne(g)?ht:ct;return b.test(Bt(g))}function Ca(g){return un(g)&&Gr(g.length)&&!!ae[Le.call(g)]}function wa(g){return typeof g=="function"?g:g==null?ie:typeof g=="object"?Ht(g)?Ei(g[0],g[1]):Pi(g):Oe(g)}function xa(g){if(!Mi(g))return Hs(g);var b=[];for(var L in Object(g))Fe.call(g,L)&&L!="constructor"&&b.push(L);return b}function Pi(g){var b=ka(g);return b.length==1&&b[0][2]?Ft(b[0][0],b[0][1]):function(L){return L===g||Sa(L,g,b)}}function Ei(g,b){return jt(g)&&Fn(b)?Ft(on(g),b):function(L){var F=I(L,g);return F===void 0&&F===b?V(L,g):Nn(b,F,void 0,s|a)}}function Pa(g){return function(b){return xi(b,g)}}function Ea(g){if(typeof g=="string")return g;if(Un(g))return In?In.call(g):"";var b=g+"";return b=="0"&&1/g==-o?"-0":b}function Dr(g){return Ht(g)?g:Li(g)}function Aa(g,b){return function(L,F){var $=Ht(L)?J:wi,j=b?b():{};return $(L,g,wa(F),j)}}function fr(g,b){return function(L,F){if(L==null)return L;if(!Hn(L))return g(L,F);for(var $=L.length,j=b?$:-1,oe=Object(L);(b?j--:++j<$)&&F(oe[j],j,oe)!==!1;);return L}}function Gt(g){return function(b,L,F){for(var $=-1,j=Object(b),oe=F(b),me=oe.length;me--;){var we=oe[g?me:++$];if(L(j[we],we,j)===!1)break}return b}}function Ai(g,b,L,F,$,j){var oe=$&a,me=g.length,we=b.length;if(me!=we&&!(oe&&we>me))return!1;var Te=j.get(g);if(Te&&j.get(b))return Te==b;var Be=-1,$e=!0,He=$&s?new Xt:void 0;for(j.set(g,b),j.set(b,g);++Be<me;){var et=g[Be],yt=b[Be];if(F)var gr=oe?F(yt,et,Be,b,g,j):F(et,yt,Be,g,b,j);if(gr!==void 0){if(gr)continue;$e=!1;break}if(He){if(!Y(b,function(Jt,Fr){if(!He.has(Fr)&&(et===Jt||L(et,Jt,F,$,j)))return He.add(Fr)})){$e=!1;break}}else if(!(et===yt||L(et,yt,F,$,j))){$e=!1;break}}return j.delete(g),j.delete(b),$e}function ki(g,b,L,F,$,j,oe){switch(L){case N:if(g.byteLength!=b.byteLength||g.byteOffset!=b.byteOffset)return!1;g=g.buffer,b=b.buffer;case G:return!(g.byteLength!=b.byteLength||!F(new Rn(g),new Rn(b)));case p:case c:case C:return Nr(+g,+b);case d:return g.name==b.name&&g.message==b.message;case y:case R:return g==b+"";case v:var me=le;case x:var we=j&a;if(me||(me=Ee),g.size!=b.size&&!we)return!1;var Te=oe.get(g);if(Te)return Te==b;j|=s,oe.set(g,b);var Be=Ai(me(g),me(b),F,$,j,oe);return oe.delete(g),Be;case O:if(Ir)return Ir.call(g)==Ir.call(b)}return!1}function sn(g,b,L,F,$,j){var oe=$&a,me=ce(g),we=me.length,Te=ce(b),Be=Te.length;if(we!=Be&&!oe)return!1;for(var $e=we;$e--;){var He=me[$e];if(!(oe?He in b:Fe.call(b,He)))return!1}var et=j.get(g);if(et&&j.get(b))return et==b;var yt=!0;j.set(g,b),j.set(b,g);for(var gr=oe;++$e<we;){He=me[$e];var Jt=g[He],Fr=b[He];if(F)var Ol=oe?F(Fr,Jt,He,b,g,j):F(Jt,Fr,He,g,b,j);if(!(Ol===void 0?Jt===Fr||L(Jt,Fr,F,$,j):Ol)){yt=!1;break}gr||(gr=He=="constructor")}if(yt&&!gr){var Ii=g.constructor,Di=b.constructor;Ii!=Di&&"constructor"in g&&"constructor"in b&&!(typeof Ii=="function"&&Ii instanceof Ii&&typeof Di=="function"&&Di instanceof Di)&&(yt=!1)}return j.delete(g),j.delete(b),yt}function an(g,b){var L=g.__data__;return Qt(b)?L[typeof b=="string"?"string":"hash"]:L.map}function ka(g){for(var b=ce(g),L=b.length;L--;){var F=b[L],$=g[F];b[L]=[F,$,Fn($)]}return b}function dr(g,b){var L=te(g,b);return ba(L)?L:void 0}var Tt=_a;(Tr&&Tt(new Tr(new ArrayBuffer(1)))!=N||kt&&Tt(new kt)!=v||Mr&&Tt(Mr.resolve())!=w||Lr&&Tt(new Lr)!=x||Rr&&Tt(new Rr)!=T)&&(Tt=function(g){var b=Le.call(g),L=b==S?g.constructor:void 0,F=L?Bt(L):void 0;if(F)switch(F){case Us:return N;case Ws:return v;case zs:return w;case qs:return x;case Ys:return T}return b});function Oi(g,b,L){b=jt(b,g)?[b]:Dr(b);for(var F,$=-1,oe=b.length;++$<oe;){var j=on(b[$]);if(!(F=g!=null&&L(g,j)))break;g=g[j]}if(F)return F;var oe=g?g.length:0;return!!oe&&Gr(oe)&&Ti(j,oe)&&(Ht(g)||ln(g))}function Ti(g,b){return b=b==null?l:b,!!b&&(typeof g=="number"||hr.test(g))&&g>-1&&g%1==0&&g<b}function jt(g,b){if(Ht(g))return!1;var L=typeof g;return L=="number"||L=="symbol"||L=="boolean"||g==null||Un(g)?!0:Se.test(g)||!pe.test(g)||b!=null&&g in Object(b)}function Qt(g){var b=typeof g;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?g!=="__proto__":g===null}function Gn(g){return!!ur&&ur in g}function Mi(g){var b=g&&g.constructor,L=typeof b=="function"&&b.prototype||Ye;return g===L}function Fn(g){return g===g&&!hn(g)}function Ft(g,b){return function(L){return L==null?!1:L[g]===b&&(b!==void 0||g in Object(L))}}var Li=pr(function(g){g=E(g);var b=[];return ke.test(g)&&b.push(""),g.replace(it,function(L,F,$,j){b.push($?j.replace(Ln,"$1"):F||L)}),b});function on(g){if(typeof g=="string"||Un(g))return g;var b=g+"";return b=="0"&&1/g==-o?"-0":b}function Bt(g){if(g!=null){try{return At.call(g)}catch{}try{return g+""}catch{}}return""}var Bn=Aa(function(g,b,L){Fe.call(g,L)?++g[L]:g[L]=1});function pr(g,b){if(typeof g!="function"||b&&typeof b!="function")throw new TypeError(n);var L=function(){var F=arguments,$=b?b.apply(this,F):F[0],j=L.cache;if(j.has($))return j.get($);var oe=g.apply(this,F);return L.cache=j.set($,oe),oe};return L.cache=new(pr.Cache||je),L}pr.Cache=je;function Nr(g,b){return g===b||g!==g&&b!==b}function ln(g){return Oa(g)&&Fe.call(g,"callee")&&(!Fs.call(g,"callee")||Le.call(g)==h)}var Ht=Array.isArray;function Hn(g){return g!=null&&Gr(g.length)&&!Ri(g)}function Oa(g){return un(g)&&Hn(g)}function Ri(g){var b=hn(g)?Le.call(g):"";return b==f||b==_}function Gr(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=l}function hn(g){var b=typeof g;return!!g&&(b=="object"||b=="function")}function un(g){return!!g&&typeof g=="object"}function Un(g){return typeof g=="symbol"||un(g)&&Le.call(g)==O}var m=q?se(q):Ca;function E(g){return g==null?"":Ea(g)}function I(g,b,L){var F=g==null?void 0:xi(g,b);return F===void 0?L:F}function V(g,b){return g!=null&&Oi(g,b,ma)}function ce(g){return Hn(g)?pa(g):xa(g)}function ie(g){return g}function Oe(g){return jt(g)?Q(on(g)):Pa(g)}t.exports=Bn})(Bo,Bo.exports);const tm=Bo.exports;var O2=Math.PI/180;function T2(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const yn=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},ee={_global:yn,version:"8.3.14",isBrowser:T2(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle(t){return ee.angleDeg?t*O2:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ee.DD.isDragging},isDragReady(){return!!ee.DD.node},releaseCanvasOnDestroy:!0,document:yn.document,_injectGlobal(t){yn.Konva=t}},ze=t=>{ee[t.prototype.getClassName()]=t};ee._injectGlobal(ee);class dt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new dt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var r=this.m;return{x:r[0]*e.x+r[2]*e.y+r[4],y:r[1]*e.x+r[3]*e.y+r[5]}}translate(e,r){return this.m[4]+=this.m[0]*e+this.m[2]*r,this.m[5]+=this.m[1]*e+this.m[3]*r,this}scale(e,r){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=r,this.m[3]*=r,this}rotate(e){var r=Math.cos(e),n=Math.sin(e),i=this.m[0]*r+this.m[2]*n,s=this.m[1]*r+this.m[3]*n,a=this.m[0]*-n+this.m[2]*r,o=this.m[1]*-n+this.m[3]*r;return this.m[0]=i,this.m[1]=s,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,r){var n=this.m[0]+this.m[2]*r,i=this.m[1]+this.m[3]*r,s=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=s,this.m[3]=a,this}multiply(e){var r=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=o,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),r=this.m[3]*e,n=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=r,this.m[1]=n,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var e=this.m[0],r=this.m[1],n=this.m[2],i=this.m[3],s=this.m[4],a=this.m[5],o=e*i-r*n;let l={x:s,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||r!=0){var h=Math.sqrt(e*e+r*r);l.rotation=r>0?Math.acos(e/h):-Math.acos(e/h),l.scaleX=h,l.scaleY=o/h,l.skewX=(e*n+r*i)/o,l.skewY=0}else if(n!=0||i!=0){var u=Math.sqrt(n*n+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-n/u):-Math.acos(n/u)),l.scaleX=o/u,l.scaleY=u,l.skewX=0,l.skewY=(e*n+r*i)/o}return l.rotation=M._getRotation(l.rotation),l}}var M2="[object Array]",L2="[object Number]",R2="[object String]",I2="[object Boolean]",D2=Math.PI/180,N2=180/Math.PI,Ka="#",G2="",F2="0",B2="Konva warning: ",Ah="Konva error: ",H2="rgb(",Xa={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},U2=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,qi=[];const W2=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},M={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===M2},_isNumber(t){return Object.prototype.toString.call(t)===L2&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===R2},_isBoolean(t){return Object.prototype.toString.call(t)===I2},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){qi.push(t),qi.length===1&&W2(function(){const e=qi;qi=[],e.forEach(function(r){r()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var r=M.createImageElement();r.onload=function(){e(r)},r.src=t},_rgbToHex(t,e,r){return((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Ka,G2);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=F2+t;return Ka+t},getRGB(t){var e;return t in Xa?(e=Xa[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Ka?this._hexToRgb(t.substring(1)):t.substr(0,4)===H2?(e=U2.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",M._namedColorToRBA(t)||M._hex3ColorToRGBA(t)||M._hex6ColorToRGBA(t)||M._rgbColorToRGBA(t)||M._rgbaColorToRGBA(t)||M._hslColorToRGBA(t)},_namedColorToRBA(t){var e=Xa[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((r,n)=>r.slice(-1)==="%"?n===3?parseInt(r)/100:parseInt(r)/100*255:Number(r));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...r]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=Number(r[0])/360,i=Number(r[1])/100,s=Number(r[2])/100;let a,o,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?a=s*(1+i):a=s+i-s*i;const h=2*s-a,u=[0,0,0];for(let p=0;p<3;p++)o=n+1/3*-(p-1),o<0&&o++,o>1&&o--,6*o<1?l=h+(a-h)*6*o:2*o<1?l=a:3*o<2?l=h+(a-h)*(2/3-o)*6:l=h,u[p]=l*255;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*D2},radToDeg(t){return t*N2},_degToRad(t){return M.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),M.degToRad(t)},_radToDeg(t){return M.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),M.radToDeg(t)},_getRotation(t){return ee.angleDeg?M.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Ah+t)},error(t){console.error(Ah+t)},warn(t){!ee.showWarnings||console.warn(B2+t)},each(t,e){for(var r in t)e(r,t[r])},_inRange(t,e,r){return e<=t&&t<r},_getProjectionToSegment(t,e,r,n,i,s){var a,o,l,h=(t-r)*(t-r)+(e-n)*(e-n);if(h==0)a=t,o=e,l=(i-r)*(i-r)+(s-n)*(s-n);else{var u=((i-t)*(r-t)+(s-e)*(n-e))/h;u<0?(a=t,o=e,l=(t-i)*(t-i)+(e-s)*(e-s)):u>1?(a=r,o=n,l=(r-i)*(r-i)+(n-s)*(n-s)):(a=t+u*(r-t),o=e+u*(n-e),l=(a-i)*(a-i)+(o-s)*(o-s))}return[a,o,l]},_getProjectionToLine(t,e,r){var n=M.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(s,a){if(!(!r&&a===e.length-1)){var o=e[(a+1)%e.length],l=M._getProjectionToSegment(s.x,s.y,o.x,o.y,t.x,t.y),h=l[0],u=l[1],p=l[2];p<i&&(n.x=h,n.y=u,i=p)}}),n},_prepareArrayForTween(t,e,r){var n,i=[],s=[];if(t.length>e.length){var a=e;e=t,t=a}for(n=0;n<t.length;n+=2)i.push({x:t[n],y:t[n+1]});for(n=0;n<e.length;n+=2)s.push({x:e[n],y:e[n+1]});var o=[];return s.forEach(function(l){var h=M._getProjectionToLine(l,i,r);o.push(h.x),o.push(h.y)}),o},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var r in t)if(!!(t.hasOwnProperty(r)&&t[r]&&typeof t[r]=="object")){if(e=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||M._isElement(t[r]))if(e.configurable)delete t[r];else return null;else if(M._prepareToStringify(t[r])===null)if(e.configurable)delete t[r];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var r in e)t[r]=e[r];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){!ee.releaseCanvasOnDestroy||t.forEach(e=>{e.width=0,e.height=0})}};function Er(t){return M._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||M._isBoolean(t)?t:Object.prototype.toString.call(t)}function gc(t){return t>255?255:t<0?0:Math.round(t)}function K(){if(ee.isUnminified)return function(t,e){return M._isNumber(t)||M.warn(Er(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function vc(t){if(ee.isUnminified)return function(e,r){let n=M._isNumber(e),i=M._isArray(e)&&e.length==t;return!n&&!i&&M.warn(Er(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function xl(){if(ee.isUnminified)return function(t,e){var r=M._isNumber(t),n=t==="auto";return r||n||M.warn(Er(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Tn(){if(ee.isUnminified)return function(t,e){return M._isString(t)||M.warn(Er(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function _c(){if(ee.isUnminified)return function(t,e){const r=M._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return r||n||M.warn(Er(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function z2(){if(ee.isUnminified)return function(t,e){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(M._isArray(t)?t.forEach(function(n){M._isNumber(n)||M.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):M.warn(Er(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Dt(){if(ee.isUnminified)return function(t,e){var r=t===!0||t===!1;return r||M.warn(Er(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function q2(t){if(ee.isUnminified)return function(e,r){return e==null||M.isObject(e)||M.warn(Er(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}var Yn="get",Kn="set";const P={addGetterSetter(t,e,r,n,i){P.addGetter(t,e,r),P.addSetter(t,e,n,i),P.addOverloadedGetterSetter(t,e)},addGetter(t,e,r){var n=Yn+M._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var i=this.attrs[e];return i===void 0?r:i}},addSetter(t,e,r,n){var i=Kn+M._capitalize(e);t.prototype[i]||P.overWriteSetter(t,e,r,n)},overWriteSetter(t,e,r,n){var i=Kn+M._capitalize(e);t.prototype[i]=function(s){return r&&s!==void 0&&s!==null&&(s=r.call(this,s,e)),this._setAttr(e,s),n&&n.call(this),this}},addComponentsGetterSetter(t,e,r,n,i){var s=r.length,a=M._capitalize,o=Yn+a(e),l=Kn+a(e),h,u;t.prototype[o]=function(){var c={};for(h=0;h<s;h++)u=r[h],c[u]=this.getAttr(e+a(u));return c};var p=q2(r);t.prototype[l]=function(c){var d=this.attrs[e],f;n&&(c=n.call(this,c)),p&&p.call(this,c,e);for(f in c)!c.hasOwnProperty(f)||this._setAttr(e+a(f),c[f]);return c||r.forEach(_=>{this._setAttr(e+a(_),void 0)}),this._fireChangeEvent(e,d,c),i&&i.call(this),this},P.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var r=M._capitalize(e),n=Kn+r,i=Yn+r;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,r,n){M.error("Adding deprecated "+e);var i=Yn+M._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){M.error(s);var a=this.attrs[e];return a===void 0?r:a},P.addSetter(t,e,n,function(){M.error(s)}),P.addOverloadedGetterSetter(t,e)},backCompat(t,e){M.each(e,function(r,n){var i=t.prototype[n],s=Yn+M._capitalize(r),a=Kn+M._capitalize(r);function o(){i.apply(this,arguments),M.error('"'+r+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[r]=o,t.prototype[s]=o,t.prototype[a]=o})},afterSetFilter(){this._filterUpToDate=!1}};function Y2(t){var e=[],r=t.length,n=M,i,s;for(i=0;i<r;i++)s=t[i],n._isNumber(s)?s=Math.round(s*1e3)/1e3:n._isString(s)||(s=s+""),e.push(s);return e}var kh=",",K2="(",X2=")",V2="([",j2="])",Q2=";",J2="()",Z2="=",Oh=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],$2=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const ev=100;class Ds{constructor(e){this.canvas=e,ee.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){var n=this.traceArr,i=n.length,s="",a,o,l,h;for(a=0;a<i;a++)o=n[a],l=o.method,l?(h=o.args,s+=l,e?s+=J2:M._isArray(h[0])?s+=V2+h.join(kh)+j2:(r&&(h=h.map(u=>typeof u=="number"?Math.floor(u):u)),s+=K2+h.join(kh)+X2)):(s+=o.property,e||(s+=Z2+o.val)),s+=Q2;return s}clearTrace(){this.traceArr=[]}_trace(e){var r=this.traceArr,n;r.push(e),n=r.length,n>=ev&&r.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){var r=e.getLineCap();r&&this.setAttr("lineCap",r)}_applyOpacity(e){var r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){var r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(e,r){this._context[e]=r}arc(e,r,n,i,s,a){this._context.arc(e,r,n,i,s,a)}arcTo(e,r,n,i,s){this._context.arcTo(e,r,n,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,n,i,s,a){this._context.bezierCurveTo(e,r,n,i,s,a)}clearRect(e,r,n,i){this._context.clearRect(e,r,n,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,r){var n=arguments;if(n.length===2)return this._context.createImageData(e,r);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,n,i){return this._context.createLinearGradient(e,r,n,i)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,n,i,s,a){return this._context.createRadialGradient(e,r,n,i,s,a)}drawImage(e,r,n,i,s,a,o,l,h){var u=arguments,p=this._context;u.length===3?p.drawImage(e,r,n):u.length===5?p.drawImage(e,r,n,i,s):u.length===9&&p.drawImage(e,r,n,i,s,a,o,l,h)}ellipse(e,r,n,i,s,a,o,l){this._context.ellipse(e,r,n,i,s,a,o,l)}isPointInPath(e,r){return this._context.isPointInPath(e,r)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,r,n,i){this._context.fillRect(e,r,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e,r,n,i)}fillText(e,r,n,i){i?this._context.fillText(e,r,n,i):this._context.fillText(e,r,n)}measureText(e){return this._context.measureText(e)}getImageData(e,r,n,i){return this._context.getImageData(e,r,n,i)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,n,i){this._context.rect(e,r,n,i)}putImageData(e,r,n){this._context.putImageData(e,r,n)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,n,i,s,a){this._context.setTransform(e,r,n,i,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,n,i){this._context.strokeText(e,r,n,i)}transform(e,r,n,i,s,a){this._context.transform(e,r,n,i,s,a)}translate(e,r){this._context.translate(e,r)}_enableTrace(){var e=this,r=Oh.length,n=this.setAttr,i,s,a=function(o){var l=e[o],h;e[o]=function(){return s=Y2(Array.prototype.slice.call(arguments,0)),h=l.apply(e,arguments),e._trace({method:o,args:s}),h}};for(i=0;i<r;i++)a(Oh[i]);e.setAttr=function(){n.apply(e,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const r=e.attrs.globalCompositeOperation;var n=!r||r==="source-over";n||this.setAttr("globalCompositeOperation",r)}}$2.forEach(function(t){Object.defineProperty(Ds.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class tv extends Ds{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){var r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){var r=e.fill(),n=e.getFillPriority();if(r&&n==="color"){this._fillColor(e);return}var i=e.getFillPatternImage();if(i&&n==="pattern"){this._fillPattern(e);return}var s=e.getFillLinearGradientColorStops();if(s&&n==="linear-gradient"){this._fillLinearGradient(e);return}var a=e.getFillRadialGradientColorStops();if(a&&n==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var r=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(r.x,r.y,n.x,n.y);if(i){for(var a=0;a<i.length;a+=2)s.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){var r=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var s=e.getStrokeLinearGradientColorStops();s?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var r,n,i,s=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",a=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,o=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),h=this.canvas.getPixelRatio(),u=l.x*h,p=l.y*h;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(u),Math.abs(p))),this.setAttr("shadowOffsetX",o.x*u),this.setAttr("shadowOffsetY",o.y*p)}}class rv extends Ds{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var r=e.getStrokeScaleEnabled();if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),s=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),r||this.restore()}}}var Yi;function nv(){if(Yi)return Yi;var t=M.createCanvasElement(),e=t.getContext("2d");return Yi=function(){var r=ee._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}(),M.releaseCanvas(t),Yi}class Ns{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=e||{},n=r.pixelRatio||ee.pixelRatio||nv();this.pixelRatio=n,this._canvas=M.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(i){return M.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}P.addGetterSetter(Ns,"pixelRatio",void 0,K());class Sn extends Ns{constructor(e={width:0,height:0}){super(e),this.context=new tv(this),this.setSize(e.width,e.height)}}class Pl extends Ns{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new rv(this),this.setSize(e.width,e.height)}}const xe={get isDragging(){var t=!1;return xe._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return xe._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];xe._dragElements.forEach((r,n)=>{const{node:i}=r,s=i.getStage();s.setPointersPositions(t),r.pointerId===void 0&&(r.pointerId=M._getFirstPointerId(t));const a=s._changedPointerPositions.find(h=>h.id===r.pointerId);if(!!a){if(r.dragStatus!=="dragging"){var o=i.dragDistance(),l=Math.max(Math.abs(a.x-r.startPointerPos.x),Math.abs(a.y-r.startPointerPos.y));if(l<o||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,r),e.push(i)}}),e.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)})},_endDragBefore(t){const e=[];xe._dragElements.forEach(r=>{const{node:n}=r,i=n.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(o=>o.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(xe.justDragged=!0,ee._mouseListenClick=!1,ee._touchListenClick=!1,ee._pointerListenClick=!1,r.dragStatus="stopped");const a=r.node.getLayer()||r.node instanceof ee.Stage&&r.node;a&&e.indexOf(a)===-1&&e.push(a)}),e.forEach(r=>{r.draw()})},_endDragAfter(t){xe._dragElements.forEach((e,r)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&xe._dragElements.delete(r)})}};ee.isBrowser&&(window.addEventListener("mouseup",xe._endDragBefore,!0),window.addEventListener("touchend",xe._endDragBefore,!0),window.addEventListener("mousemove",xe._drag),window.addEventListener("touchmove",xe._drag),window.addEventListener("mouseup",xe._endDragAfter,!1),window.addEventListener("touchend",xe._endDragAfter,!1));var os="absoluteOpacity",Ki="allEventListeners",Zt="absoluteTransform",Th="absoluteScale",Ur="canvas",iv="Change",sv="children",av="konva",Ho="listening",Mh="mouseenter",Lh="mouseleave",Rh="set",Ih="Shape",ls=" ",Dh="stage",_r="transform",ov="Stage",Uo="visible",lv=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ls);let hv=1;class X{constructor(e){this._id=hv++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===_r||e===Zt)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){var n=this._cache.get(e),i=e===_r||e===Zt,s=n===void 0||i&&n.dirty===!0;return s&&(n=r.call(this),this._cache.set(e,n)),n}_calculate(e,r,n){if(!this._attachedDepsListeners.get(e)){const i=r.map(s=>s+"Change.konva").join(ls);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Ur)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Zt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ur)){const{scene:e,filter:r,hit:n}=this._cache.get(Ur);M.releaseCanvas(e,r,n),this._cache.delete(Ur)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var r=e||{},n={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(r.width||n.width),s=Math.ceil(r.height||n.height),a=r.pixelRatio,o=r.x===void 0?Math.floor(n.x):r.x,l=r.y===void 0?Math.floor(n.y):r.y,h=r.offset||0,u=r.drawBorder||!1,p=r.hitCanvasPixelRatio||1;if(!i||!s){M.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=h*2+1,s+=h*2+1,o-=h,l-=h;var c=new Sn({pixelRatio:a,width:i,height:s}),d=new Sn({pixelRatio:a,width:0,height:0}),f=new Pl({pixelRatio:p,width:i,height:s}),_=c.getContext(),v=f.getContext();return f.isCache=!0,c.isCache=!0,this._cache.delete(Ur),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(c.getContext()._context.imageSmoothingEnabled=!1,d.getContext()._context.imageSmoothingEnabled=!1),_.save(),v.save(),_.translate(-o,-l),v.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(os),this._clearSelfAndDescendantCache(Th),this.drawScene(c,this),this.drawHit(f,this),this._isUnderCache=!1,_.restore(),v.restore(),u&&(_.save(),_.beginPath(),_.rect(0,0,i,s),_.closePath(),_.setAttr("strokeStyle","red"),_.setAttr("lineWidth",5),_.stroke(),_.restore()),this._cache.set(Ur,{scene:c,filter:d,hit:f,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Ur)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){var n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i,s,a,o,l=this.getAbsoluteTransform(r);return n.forEach(function(h){var u=l.point(h);i===void 0&&(i=a=u.x,s=o=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}),{x:i,y:s,width:a-i,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();e.translate(r.x,r.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){var r=this._getCanvasCache(),n=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),r=this._getCanvasCache(),n=r.scene,i=r.filter,s=i.getContext(),a,o,l,h;if(e){if(!this._filterUpToDate){var u=n.pixelRatio;i.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(n._canvas,0,0,n.getWidth()/u,n.getHeight()/u),o=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<a;l++){if(h=e[l],typeof h!="function"){M.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,o),s.putImageData(o,0,0)}}catch(p){M.error("Unable to apply filter. "+p.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return n}on(e,r){if(this._cache&&this._cache.delete(Ki),arguments.length===3)return this._delegate.apply(this,arguments);var n=e.split(ls),i=n.length,s,a,o,l,h;for(s=0;s<i;s++)a=n[s],o=a.split("."),l=o[0],h=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:h,handler:r});return this}off(e,r){var n=(e||"").split(ls),i=n.length,s,a,o,l,h,u;if(this._cache&&this._cache.delete(Ki),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<i;s++)if(o=n[s],l=o.split("."),h=l[0],u=l[1],h)this.eventListeners[h]&&this._off(h,u,r);else for(a in this.eventListeners)this._off(a,u,r);return this}dispatchEvent(e){var r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(n){r.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,n){var i=this;this.on(e,function(s){for(var a=s.target.findAncestors(r,!0,i),o=0;o<a.length;o++)s=M.cloneObject(s),s.currentTarget=a[o],n.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),xe._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Zt),this._clearSelfAndDescendantCache(os),this._clearSelfAndDescendantCache(Th),this._clearSelfAndDescendantCache(Dh),this._clearSelfAndDescendantCache(Uo),this._clearSelfAndDescendantCache(Ho)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var r="get"+M._capitalize(e);return M._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),r=[];e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var r,n;if(!e)return this;for(r in e)r!==sv&&(n=Rh+M._capitalize(r),M._isFunction(this[n])?this[n](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(Ho,this._isListening)}_isListening(e){if(!this.listening())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(Uo,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),i=!1;xe._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===n)&&(i=!0)});var s=!r&&!ee.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),r=this,n=0,i,s,a,o;function l(h){for(i=[],s=h.length,a=0;a<s;a++)o=h[a],n++,o.nodeType!==Ih&&(i=i.concat(o.getChildren().slice())),o._id===r._id&&(a=s);i.length>0&&i[0].getDepth()<=e&&l(i)}return r.nodeType!==ov&&l(r.getStage().getChildren()),n}getDepth(){for(var e=0,r=this.parent;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(_r),this._clearSelfAndDescendantCache(Zt)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(e)}getAbsolutePosition(e){let r=!1,n=this.parent;for(;n;){if(n.isCached()){r=!0;break}n=n.parent}r&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new dt,a=this.offset();return s.m=i.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){var r=this._clearTransform();this.attrs.x=r.x,this.attrs.y=r.y,delete r.x,delete r.y,this._clearCache(_r);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(_r),this._clearSelfAndDescendantCache(Zt),this}_setTransform(e){var r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var r=e.x,n=e.y,i=this.x(),s=this.y();return r!==void 0&&(i+=r),n!==void 0&&(s+=n),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,r){var n=[],i=this.getParent(),s,a;if(!(r&&r._id===this._id)){for(n.unshift(this);i&&(!r||i._id!==r._id);)n.unshift(i),i=i.parent;for(s=n.length,a=0;a<s;a++)e(n[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return M.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return M.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return M.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return M.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return M.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&M.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(os,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},r=this.getAttrs(),n,i,s,a,o;e.attrs={};for(n in r)i=r[n],o=M.isObject(i)&&!M._isPlainObject(i)&&!M._isArray(i),!o&&(s=typeof this[n]=="function"&&this[n],delete r[n],a=s?s.call(this):null,r[n]=i,a!==i&&(e.attrs[n]=i));return e.className=this.getClassName(),M._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,n){var i=[];r&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===n)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,r,n){return this.findAncestors(e,r,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var r=e.replace(/ /g,"").split(","),n=r.length,i,s;for(i=0;i<n;i++)if(s=r[i],M.isValidSelector(s)||(M.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),M.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),M.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Dh,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,r={},n){return r.target=r.target||this,n?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Zt,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var r;if(e)return r=new dt,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?r.multiply(i.getTransform()):s==="position"&&r.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),r;r=this._cache.get(Zt)||new dt,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var n=this.transformsEnabled();if(n==="all")r.multiply(this.getTransform());else if(n==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;r.translate(i-a,s-o)}return r.dirty=!1,r}getAbsoluteScale(e){for(var r=this;r;)r._isUnderCache&&(e=r),r=r.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(_r,this._getTransform)}_getTransform(){var e,r,n=this._cache.get(_r)||new dt;n.reset();var i=this.x(),s=this.y(),a=ee.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,h=this.attrs.skewX||0,u=this.attrs.skewY||0,p=this.attrs.offsetX||0,c=this.attrs.offsetY||0;return(i!==0||s!==0)&&n.translate(i,s),a!==0&&n.rotate(a),(h!==0||u!==0)&&n.skew(h,u),(o!==1||l!==1)&&n.scale(o,l),(p!==0||c!==0)&&n.translate(-1*p,-1*c),n.dirty=!1,n}clone(e){var r=M.cloneObject(this.attrs),n,i,s,a,o;for(n in e)r[n]=e[n];var l=new this.constructor(r);for(n in this.eventListeners)for(i=this.eventListeners[n],s=i.length,a=0;a<s;a++)o=i[a],o.name.indexOf(av)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(o));return l}_toKonvaCanvas(e){e=e||{};var r=this.getClientRect(),n=this.getStage(),i=e.x!==void 0?e.x:Math.floor(r.x),s=e.y!==void 0?e.y:Math.floor(r.y),a=e.pixelRatio||1,o=new Sn({width:e.width||Math.ceil(r.width)||(n?n.width():0),height:e.height||Math.ceil(r.height)||(n?n.height():0),pixelRatio:a}),l=o.getContext();return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(o),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var r=e.mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(r,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise((r,n)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,M._urlToImage(this.toDataURL(e),function(s){r(s),i==null||i(s)})}catch(i){n(i)}})}toBlob(e){return new Promise((r,n)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{r(s),i==null||i(s)})}catch(i){n(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ee.dragDistance}_off(e,r,n){var i=this.eventListeners[e],s,a,o;for(s=0;s<i.length;s++)if(a=i[s].name,o=i[s].handler,(a!=="konva"||r==="konva")&&(!r||a===r)&&(!n||n===o)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,r,n){this._fire(e+iv,{oldVal:r,newVal:n})}addName(e){if(!this.hasName(e)){var r=this.name(),n=r?r+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const r=this.name();if(!r)return!1;var n=(r||"").split(/\s/g);return n.indexOf(e)!==-1}removeName(e){var r=(this.name()||"").split(/\s/g),n=r.indexOf(e);return n!==-1&&(r.splice(n,1),this.name(r.join(" "))),this}setAttr(e,r){var n=this[Rh+M._capitalize(e)];return M._isFunction(n)?n.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(ee.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,r){var n=this.attrs[e];n===r&&!M.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,r),this._requestDraw())}_setComponentAttr(e,r,n){var i;n!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,r,n){r&&this.nodeType===Ih&&(r.target=this);var i=(e===Mh||e===Lh)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n);if(!i){this._fire(e,r);var s=(e===Mh||e===Lh)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!s&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,r,n):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){let r=this._cache.get(Ki);if(!r){r={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var n in i.eventListeners){const s=i.eventListeners[n],a=r[n]||[];r[n]=s.concat(a)}i=Object.getPrototypeOf(i)}this._cache.set(Ki,r)}return r[e]}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;const n=this._getProtoListeners(e);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,r);const s=this.eventListeners[e];if(s)for(var i=0;i<s.length;i++)s[i].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var r=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition(),s=n._getPointerById(r)||n._changedPointerPositions[0]||i;xe._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:r})}startDrag(e,r=!0){xe._dragElements.has(this._id)||this._createDragElement(e);const n=xe._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){const n=this.getStage()._getPointerById(r.pointerId);if(!!n){var i={x:n.x-r.offset.x,y:n.y-r.offset.y},s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,i,e);a?i=a:M.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const r=xe._dragElements.get(this._id);r&&(r.dragStatus="stopped"),xe._endDragBefore(e),xe._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=xe._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var r=e.evt.button!==void 0,n=!r||ee.dragButtons.indexOf(e.evt.button)>=0;if(!!n&&!this.isDragging()){var i=!1;xe._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const r=xe._dragElements.get(this._id),n=r&&r.dragStatus==="dragging",i=r&&r.dragStatus==="ready";n?this.stopDrag():i&&xe._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const r=this.getStage();if(!r)return!1;const n={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return M.haveIntersection(n,this.getClientRect())}static create(e,r){return M._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){var n=X.prototype.getClassName.call(e),i=e.children,s,a,o;r&&(e.attrs.container=r),ee[n]||(M.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");const l=ee[n];if(s=new l(e.attrs),i)for(a=i.length,o=0;o<a;o++)s.add(X._createNode(i[o]));return s}}X.prototype.nodeType="Node";X.prototype._attrsAffectingSize=[];X.prototype.eventListeners={};X.prototype.on.call(X.prototype,lv,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(_r),this._clearSelfAndDescendantCache(Zt)});X.prototype.on.call(X.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Uo)});X.prototype.on.call(X.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Ho)});X.prototype.on.call(X.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(os)});const Re=P.addGetterSetter;Re(X,"zIndex");Re(X,"absolutePosition");Re(X,"position");Re(X,"x",0,K());Re(X,"y",0,K());Re(X,"globalCompositeOperation","source-over",Tn());Re(X,"opacity",1,K());Re(X,"name","",Tn());Re(X,"id","",Tn());Re(X,"rotation",0,K());P.addComponentsGetterSetter(X,"scale",["x","y"]);Re(X,"scaleX",1,K());Re(X,"scaleY",1,K());P.addComponentsGetterSetter(X,"skew",["x","y"]);Re(X,"skewX",0,K());Re(X,"skewY",0,K());P.addComponentsGetterSetter(X,"offset",["x","y"]);Re(X,"offsetX",0,K());Re(X,"offsetY",0,K());Re(X,"dragDistance",null,K());Re(X,"width",0,K());Re(X,"height",0,K());Re(X,"listening",!0,Dt());Re(X,"preventDefault",!0,Dt());Re(X,"filters",null,function(t){return this._filterUpToDate=!1,t});Re(X,"visible",!0,Dt());Re(X,"transformsEnabled","all",Tn());Re(X,"size");Re(X,"dragBoundFunc");Re(X,"draggable",!1,Dt());P.backCompat(X,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class gt extends X{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const r=this.children||[];var n=[];return r.forEach(function(i){e(i)&&n.push(i)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){var n=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&n.push(i),!!(s&&r)}),n}_descendants(e){let r=!1;const n=this.getChildren();for(const i of n){if(r=e(i),r)return!0;if(!!i.hasChildren()&&(r=i._descendants(e),r))return!0}return!1}toObject(){var e=X.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){for(var r=e.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){var r=X.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){r.add(n.clone())}),r}getAllIntersections(e){var r=[];return this.find("Shape").forEach(function(n){n.isVisible()&&n.intersects(e)&&r.push(n)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,n){r.index=n}),this._requestDraw()}drawScene(e,r){var n=this.getLayer(),i=e||n&&n.getCanvas(),s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(o){s.save();var h=this.getAbsoluteTransform(r).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,r);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;var n=this.getLayer(),i=e||n&&n.hitCanvas,s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.hit;if(o){s.save();var l=this.getAbsoluteTransform(r).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,r);return this}_drawChildren(e,r,n){var i,s=r&&r.getContext(),a=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),h=a&&o||l;const u=n===this;if(h){s.save();var p=this.getAbsoluteTransform(n),c=p.getMatrix();if(s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),s.beginPath(),l)l.call(this,s,this);else{var d=this.clipX(),f=this.clipY();s.rect(d,f,a,o)}s.clip(),c=p.copy().invert().getMatrix(),s.transform(c[0],c[1],c[2],c[3],c[4],c[5])}var _=!u&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";_&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(v){v[e](r,n)}),_&&s.restore(),h&&s.restore()}getClientRect(e){var r;e=e||{};var n=e.skipTransform,i=e.relativeTo,s,a,o,l,h={x:1/0,y:1/0,width:0,height:0},u=this;(r=this.children)===null||r===void 0||r.forEach(function(_){if(!!_.visible()){var v=_.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});v.width===0&&v.height===0||(s===void 0?(s=v.x,a=v.y,o=v.x+v.width,l=v.y+v.height):(s=Math.min(s,v.x),a=Math.min(a,v.y),o=Math.max(o,v.x+v.width),l=Math.max(l,v.y+v.height)))}});for(var p=this.find("Shape"),c=!1,d=0;d<p.length;d++){var f=p[d];if(f._isVisible(this)){c=!0;break}}return c&&s!==void 0?h={x:s,y:a,width:o-s,height:l-a}:h={x:0,y:0,width:0,height:0},n?h:this._transformedRect(h,i)}}P.addComponentsGetterSetter(gt,"clip",["x","y","width","height"]);P.addGetterSetter(gt,"clipX",void 0,K());P.addGetterSetter(gt,"clipY",void 0,K());P.addGetterSetter(gt,"clipWidth",void 0,K());P.addGetterSetter(gt,"clipHeight",void 0,K());P.addGetterSetter(gt,"clipFunc");const vi=new Map,mc=ee._global.PointerEvent!==void 0;function Va(t){return vi.get(t)}function El(t){return{evt:t,pointerId:t.pointerId}}function yc(t,e){return vi.get(t)===e}function Sc(t,e){si(t),e.getStage()&&(vi.set(t,e),mc&&e._fire("gotpointercapture",El(new PointerEvent("gotpointercapture"))))}function si(t,e){const r=vi.get(t);if(!r)return;const n=r.getStage();n&&n.content,vi.delete(t),mc&&r._fire("lostpointercapture",El(new PointerEvent("lostpointercapture")))}var uv="Stage",cv="string",Nh="px",fv="mouseout",bc="mouseleave",Cc="mouseover",wc="mouseenter",xc="mousemove",Pc="mousedown",Ec="mouseup",Qn="pointermove",Jn="pointerdown",gn="pointerup",Zn="pointercancel",dv="lostpointercapture",Xi="pointerout",Vi="pointerleave",ji="pointerover",Qi="pointerenter",Wo="contextmenu",Ac="touchstart",kc="touchend",Oc="touchmove",Tc="touchcancel",zo="wheel",pv=5,gv=[[wc,"_pointerenter"],[Pc,"_pointerdown"],[xc,"_pointermove"],[Ec,"_pointerup"],[bc,"_pointerleave"],[Ac,"_pointerdown"],[Oc,"_pointermove"],[kc,"_pointerup"],[Tc,"_pointercancel"],[Cc,"_pointerover"],[zo,"_wheel"],[Wo,"_contextmenu"],[Jn,"_pointerdown"],[Qn,"_pointermove"],[gn,"_pointerup"],[Zn,"_pointercancel"],[dv,"_lostpointercapture"]];const ja={mouse:{[Xi]:fv,[Vi]:bc,[ji]:Cc,[Qi]:wc,[Qn]:xc,[Jn]:Pc,[gn]:Ec,[Zn]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Xi]:"touchout",[Vi]:"touchleave",[ji]:"touchover",[Qi]:"touchenter",[Qn]:Oc,[Jn]:Ac,[gn]:kc,[Zn]:Tc,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Xi]:Xi,[Vi]:Vi,[ji]:ji,[Qi]:Qi,[Qn]:Qn,[Jn]:Jn,[gn]:gn,[Zn]:Zn,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$n=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",fn=t=>{const e=$n(t);if(e==="pointer")return ee.pointerEventsEnabled&&ja.pointer;if(e==="touch")return ja.touch;if(e==="mouse")return ja.mouse};function Gh(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&M.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const vv="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",hs=[];class Gs extends gt{constructor(e){super(Gh(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),hs.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Gh(this.attrs)}),this._checkVisibility()}_validateAdd(e){const r=e.getType()==="Layer",n=e.getType()==="FastLayer";r||n||M.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===cv){if(e.charAt(0)==="."){var r=e.slice(1);e=document.getElementsByClassName(r)[0]}else{var n;e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,r=e.length,n;for(n=0;n<r;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),gt.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&M._isInDocument(e)&&this.container().removeChild(e);var r=hs.indexOf(this);return r>-1&&hs.splice(r,1),M.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(M.warn(vv),null)}_getPointerById(e){return this._pointerPositions.find(r=>r.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var r=new Sn({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=r.getContext()._context,i=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!!s.isVisible()){var a=s._toKonvaCanvas(e);n.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}}),r}getIntersection(e){if(!e)return null;var r=this.children,n=r.length,i=n-1,s;for(s=i;s>=0;s--){const a=r[s].getIntersection(e);if(a)return a}return null}_resizeDOM(){var e=this.width(),r=this.height();this.content&&(this.content.style.width=e+Nh,this.content.style.height=r+Nh),this.bufferCanvas.setSize(e,r),this.bufferHitCanvas.setSize(e,r),this.children.forEach(n=>{n.setSize({width:e,height:r}),n.draw()})}add(e,...r){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(e);var i=this.children.length;return i>pv&&M.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ee.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return yc(e,this)}setPointerCapture(e){Sc(e,this)}releaseCapture(e){si(e)}getLayers(){return this.children}_bindContentEvents(){!ee.isBrowser||gv.forEach(([e,r])=>{this.content.addEventListener(e,n=>{this[r](n)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const r=fn(e.type);this._fire(r.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const r=fn(e.type);this._fire(r.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let r=this[e+"targetShape"];return r&&!r.getStage()&&(r=null),r}_pointerleave(e){const r=fn(e.type),n=$n(e.type);if(!!r){this.setPointersPositions(e);var i=this._getTargetShape(n),s=!xe.isDragging||ee.hitOnDragEnabled;i&&s?(i._fireAndBubble(r.pointerout,{evt:e}),i._fireAndBubble(r.pointerleave,{evt:e}),this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):s&&(this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(r.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const r=fn(e.type),n=$n(e.type);if(!!r){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(s=>{var a=this.getIntersection(s);if(xe.justDragged=!1,ee["_"+n+"ListenClick"]=!0,!(a&&a.isListening()))return;ee.capturePointerEventsEnabled&&a.setPointerCapture(s.id),this[n+"ClickStartShape"]=a,a._fireAndBubble(r.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(r.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const r=fn(e.type),n=$n(e.type);if(!r)return;xe.isDragging&&xe.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!xe.isDragging||ee.hitOnDragEnabled;if(!i)return;var s={};let a=!1;var o=this._getTargetShape(n);this._changedPointerPositions.forEach(l=>{const h=Va(l.id)||this.getIntersection(l),u=l.id,p={evt:e,pointerId:u};var c=o!==h;if(c&&o&&(o._fireAndBubble(r.pointerout,Object.assign({},p),h),o._fireAndBubble(r.pointerleave,Object.assign({},p),h)),h){if(s[h._id])return;s[h._id]=!0}h&&h.isListening()?(a=!0,c&&(h._fireAndBubble(r.pointerover,Object.assign({},p),o),h._fireAndBubble(r.pointerenter,Object.assign({},p),o),this[n+"targetShape"]=h),h._fireAndBubble(r.pointermove,Object.assign({},p))):o&&(this._fire(r.pointerover,{evt:e,target:this,currentTarget:this,pointerId:u}),this[n+"targetShape"]=null)}),a||this._fire(r.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const r=fn(e.type),n=$n(e.type);if(!r)return;this.setPointersPositions(e);const i=this[n+"ClickStartShape"],s=this[n+"ClickEndShape"];var a={};let o=!1;this._changedPointerPositions.forEach(l=>{const h=Va(l.id)||this.getIntersection(l);if(h){if(h.releaseCapture(l.id),a[h._id])return;a[h._id]=!0}const u=l.id,p={evt:e,pointerId:u};let c=!1;ee["_"+n+"InDblClickWindow"]?(c=!0,clearTimeout(this[n+"DblTimeout"])):xe.justDragged||(ee["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){ee["_"+n+"InDblClickWindow"]=!1},ee.dblClickWindow),h&&h.isListening()?(o=!0,this[n+"ClickEndShape"]=h,h._fireAndBubble(r.pointerup,Object.assign({},p)),ee["_"+n+"ListenClick"]&&i&&i===h&&(h._fireAndBubble(r.pointerclick,Object.assign({},p)),c&&s&&s===h&&h._fireAndBubble(r.pointerdblclick,Object.assign({},p)))):(this[n+"ClickEndShape"]=null,ee["_"+n+"ListenClick"]&&this._fire(r.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),c&&this._fire(r.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))}),o||this._fire(r.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ee["_"+n+"ListenClick"]=!1,e.cancelable&&n!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(Wo,{evt:e}):this._fire(Wo,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(zo,{evt:e}):this._fire(zo,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const r=Va(e.pointerId)||this.getIntersection(this.getPointerPosition());r&&r._fireAndBubble(gn,El(e)),si(e.pointerId)}_lostpointercapture(e){si(e.pointerId)}setPointersPositions(e){var r=this._getContentPosition(),n=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-r.left)/r.scaleX,y:(s.clientY-r.top)/r.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-r.left)/r.scaleX,y:(s.clientY-r.top)/r.scaleY})})):(n=(e.clientX-r.left)/r.scaleX,i=(e.clientY-r.top)/r.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:M._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:i,id:M._getFirstPointerId(e)}])}_setPointerPosition(e){M.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Sn({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Pl({pixelRatio:1,width:this.width(),height:this.height()}),!!ee.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return M.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Gs.prototype.nodeType=uv;ze(Gs);P.addGetterSetter(Gs,"container");var Mc="hasShadow",Lc="shadowRGBA",Rc="patternImage",Ic="linearGradient",Dc="radialGradient";let Ji;function Qa(){return Ji||(Ji=M.createCanvasElement().getContext("2d"),Ji)}const ai={};function _v(t){t.fill()}function mv(t){t.stroke()}function yv(t){t.fill()}function Sv(t){t.stroke()}function bv(){this._clearCache(Mc)}function Cv(){this._clearCache(Lc)}function wv(){this._clearCache(Rc)}function xv(){this._clearCache(Ic)}function Pv(){this._clearCache(Dc)}class z extends X{constructor(e){super(e);let r;for(;r=M.getRandomColor(),!(r&&!(r in ai)););this.colorKey=r,ai[r]=this}getContext(){return M.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return M.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Mc,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Rc,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=Qa();const r=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(r&&r.setTransform){const n=new dt;n.translate(this.fillPatternX(),this.fillPatternY()),n.rotate(ee.getAngle(this.fillPatternRotation())),n.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),n.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=n.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);r.setTransform(s)}return r}}_getLinearGradient(){return this._getCache(Ic,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var r=Qa(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=r.createLinearGradient(n.x,n.y,i.x,i.y),a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}_getRadialGradient(){return this._getCache(Dc,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var r=Qa(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=r.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}getShadowRGBA(){return this._getCache(Lc,this._getShadowRGBA)}_getShadowRGBA(){if(!!this.hasShadow()){var e=M.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var r=this.getStage(),n=r.bufferHitCanvas,i;return n.getContext().clear(),this.drawHit(n,null,!0),i=n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,i[3]>0}destroy(){return X.prototype.destroy.call(this),delete ai[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var r;if(!this.getStage()||!((r=this.attrs.perfectDrawEnabled)!==null&&r!==void 0?r:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),a=this.getAbsoluteOpacity()!==1;if(i&&s&&a)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&o&&l)}setStrokeHitEnabled(e){M.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const r=e.skipTransform,n=e.relativeTo,i=this.getSelfRect(),a=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=i.width+a,l=i.height+a,h=!e.skipShadow&&this.hasShadow(),u=h?this.shadowOffsetX():0,p=h?this.shadowOffsetY():0,c=o+Math.abs(u),d=l+Math.abs(p),f=h&&this.shadowBlur()||0,_=c+f*2,v=d+f*2,C={width:_,height:v,x:-(a/2+f)+Math.min(u,0)+i.x,y:-(a/2+f)+Math.min(p,0)+i.y};return r?C:this._transformedRect(C,n)}drawScene(e,r){var n=this.getLayer(),i=e||n.getCanvas(),s=i.getContext(),a=this._getCanvasCache(),o=this.getSceneFunc(),l=this.hasShadow(),h,u,p,c=i.isCache,d=r===this;if(!this.isVisible()&&!d)return this;if(a){s.save();var f=this.getAbsoluteTransform(r).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),this._useBufferCanvas()&&!c){h=this.getStage(),u=h.bufferCanvas,p=u.getContext(),p.clear(),p.save(),p._applyLineJoin(this);var _=this.getAbsoluteTransform(r).getMatrix();p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),o.call(this,p,this),p.restore();var v=u.pixelRatio;l&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(u._canvas,0,0,u.width/v,u.height/v)}else{if(s._applyLineJoin(this),!d){var _=this.getAbsoluteTransform(r).getMatrix();s.transform(_[0],_[1],_[2],_[3],_[4],_[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}l&&s._applyShadow(this),o.call(this,s,this)}return s.restore(),this}drawHit(e,r,n=!1){if(!this.shouldDrawHit(r,n))return this;var i=this.getLayer(),s=e||i.hitCanvas,a=s&&s.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),h=l&&l.hit;if(this.colorKey||M.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),h){a.save();var u=this.getAbsoluteTransform(r).getMatrix();return a.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),a._applyLineJoin(this),!(this===r)){var c=this.getAbsoluteTransform(r).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){var r=this._getCanvasCache(),n=this._getCachedSceneCanvas(),i=r.hit,s=i.getContext(),a=i.getWidth(),o=i.getHeight(),l,h,u,p,c,d;s.clear(),s.drawImage(n._canvas,0,0,a,o);try{for(l=s.getImageData(0,0,a,o),h=l.data,u=h.length,p=M._hexToRgb(this.colorKey),c=0;c<u;c+=4)d=h[c+3],d>e?(h[c]=p.r,h[c+1]=p.g,h[c+2]=p.b,h[c+3]=255):h[c+3]=0;s.putImageData(l,0,0)}catch(f){M.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}hasPointerCapture(e){return yc(e,this)}setPointerCapture(e){Sc(e,this)}releaseCapture(e){si(e)}}z.prototype._fillFunc=_v;z.prototype._strokeFunc=mv;z.prototype._fillFuncHit=yv;z.prototype._strokeFuncHit=Sv;z.prototype._centroid=!1;z.prototype.nodeType="Shape";ze(z);z.prototype.eventListeners={};z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",bv);z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Cv);z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",wv);z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",xv);z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Pv);P.addGetterSetter(z,"stroke",void 0,_c());P.addGetterSetter(z,"strokeWidth",2,K());P.addGetterSetter(z,"fillAfterStrokeEnabled",!1);P.addGetterSetter(z,"hitStrokeWidth","auto",xl());P.addGetterSetter(z,"strokeHitEnabled",!0,Dt());P.addGetterSetter(z,"perfectDrawEnabled",!0,Dt());P.addGetterSetter(z,"shadowForStrokeEnabled",!0,Dt());P.addGetterSetter(z,"lineJoin");P.addGetterSetter(z,"lineCap");P.addGetterSetter(z,"sceneFunc");P.addGetterSetter(z,"hitFunc");P.addGetterSetter(z,"dash");P.addGetterSetter(z,"dashOffset",0,K());P.addGetterSetter(z,"shadowColor",void 0,Tn());P.addGetterSetter(z,"shadowBlur",0,K());P.addGetterSetter(z,"shadowOpacity",1,K());P.addComponentsGetterSetter(z,"shadowOffset",["x","y"]);P.addGetterSetter(z,"shadowOffsetX",0,K());P.addGetterSetter(z,"shadowOffsetY",0,K());P.addGetterSetter(z,"fillPatternImage");P.addGetterSetter(z,"fill",void 0,_c());P.addGetterSetter(z,"fillPatternX",0,K());P.addGetterSetter(z,"fillPatternY",0,K());P.addGetterSetter(z,"fillLinearGradientColorStops");P.addGetterSetter(z,"strokeLinearGradientColorStops");P.addGetterSetter(z,"fillRadialGradientStartRadius",0);P.addGetterSetter(z,"fillRadialGradientEndRadius",0);P.addGetterSetter(z,"fillRadialGradientColorStops");P.addGetterSetter(z,"fillPatternRepeat","repeat");P.addGetterSetter(z,"fillEnabled",!0);P.addGetterSetter(z,"strokeEnabled",!0);P.addGetterSetter(z,"shadowEnabled",!0);P.addGetterSetter(z,"dashEnabled",!0);P.addGetterSetter(z,"strokeScaleEnabled",!0);P.addGetterSetter(z,"fillPriority","color");P.addComponentsGetterSetter(z,"fillPatternOffset",["x","y"]);P.addGetterSetter(z,"fillPatternOffsetX",0,K());P.addGetterSetter(z,"fillPatternOffsetY",0,K());P.addComponentsGetterSetter(z,"fillPatternScale",["x","y"]);P.addGetterSetter(z,"fillPatternScaleX",1,K());P.addGetterSetter(z,"fillPatternScaleY",1,K());P.addComponentsGetterSetter(z,"fillLinearGradientStartPoint",["x","y"]);P.addComponentsGetterSetter(z,"strokeLinearGradientStartPoint",["x","y"]);P.addGetterSetter(z,"fillLinearGradientStartPointX",0);P.addGetterSetter(z,"strokeLinearGradientStartPointX",0);P.addGetterSetter(z,"fillLinearGradientStartPointY",0);P.addGetterSetter(z,"strokeLinearGradientStartPointY",0);P.addComponentsGetterSetter(z,"fillLinearGradientEndPoint",["x","y"]);P.addComponentsGetterSetter(z,"strokeLinearGradientEndPoint",["x","y"]);P.addGetterSetter(z,"fillLinearGradientEndPointX",0);P.addGetterSetter(z,"strokeLinearGradientEndPointX",0);P.addGetterSetter(z,"fillLinearGradientEndPointY",0);P.addGetterSetter(z,"strokeLinearGradientEndPointY",0);P.addComponentsGetterSetter(z,"fillRadialGradientStartPoint",["x","y"]);P.addGetterSetter(z,"fillRadialGradientStartPointX",0);P.addGetterSetter(z,"fillRadialGradientStartPointY",0);P.addComponentsGetterSetter(z,"fillRadialGradientEndPoint",["x","y"]);P.addGetterSetter(z,"fillRadialGradientEndPointX",0);P.addGetterSetter(z,"fillRadialGradientEndPointY",0);P.addGetterSetter(z,"fillPatternRotation",0);P.backCompat(z,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Ev="#",Av="beforeDraw",kv="draw",Nc=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Ov=Nc.length;class $r extends gt{constructor(e){super(e),this.canvas=new Sn,this.hitCanvas=new Pl({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){X.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=X.prototype.moveUp.call(this);if(!e)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(X.prototype.moveDown.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(X.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return X.prototype.remove.call(this),e&&e.parentNode&&M._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&M.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),X.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){M.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){M.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,M.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var r=1,n=!1;;){for(let i=0;i<Ov;i++){const s=Nc[i],a=this._getIntersection({x:e.x+s.x*r,y:e.y+s.y*r}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(n)r+=1;else return null}}_getIntersection(e){const r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,i=n[3];if(i===255){const s=M._rgbToHex(n[0],n[1],n[2]),a=ai[Ev+s];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,r){var n=this.getLayer(),i=e||n&&n.getCanvas();return this._fire(Av,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),gt.prototype.drawScene.call(this,i,r),this._fire(kv,{node:this}),this}drawHit(e,r){var n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),gt.prototype.drawHit.call(this,i,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){M.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return M.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return M.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}$r.prototype.nodeType="Layer";ze($r);P.addGetterSetter($r,"imageSmoothingEnabled",!0);P.addGetterSetter($r,"clearBeforeDraw",!0);P.addGetterSetter($r,"hitGraphEnabled",!0,Dt());class Al extends $r{constructor(e){super(e),this.listening(!1),M.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Al.prototype.nodeType="FastLayer";ze(Al);class Pn extends gt{_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&M.throw("You may only add groups and shapes to groups.")}}Pn.prototype.nodeType="Group";ze(Pn);var Ja=function(){return yn.performance&&yn.performance.now?function(){return yn.performance.now()}:function(){return new Date().getTime()}}();class Ct{constructor(e,r){this.id=Ct.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ja(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){var r=[];return e?e.length>0?r=e:r=[e]:r=[],this.layers=r,this}getLayers(){return this.layers}addLayer(e){var r=this.layers,n=r.length,i;for(i=0;i<n;i++)if(r[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=Ct,r=e.animations,n=r.length,i;for(i=0;i<n;i++)if(r[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ja(),Ct._addAnimation(this),this}stop(){return Ct._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var r=e.id,n=this.animations,i=n.length,s;for(s=0;s<i;s++)if(n[s].id===r){this.animations.splice(s,1);break}}static _runFrames(){var e={},r=this.animations,n,i,s,a,o,l,h,u,p;for(a=0;a<r.length;a++)if(n=r[a],i=n.layers,s=n.func,n._updateFrameObject(Ja()),l=i.length,s?p=s.call(n,n.frame)!==!1:p=!0,!!p)for(o=0;o<l;o++)h=i[o],h._id!==void 0&&(e[h._id]=h);for(u in e)!e.hasOwnProperty(u)||e[u].batchDraw()}static _animationLoop(){var e=Ct;e.animations.length?(e._runFrames(),M.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,M.requestAnimFrame(this._animationLoop))}}Ct.animations=[];Ct.animIdCounter=0;Ct.animRunning=!1;var Tv={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Mv=1,Fh=2,Bh=3,Lv=0,Hh=["fill","stroke","shadowColor"];class Rv{constructor(e,r,n,i,s,a,o){this.prop=e,this.propFunc=r,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=s-this.begin,this.pause()}fire(e){var r=this[e];r&&r()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=Fh,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Bh,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===Fh?this.setTime(e):this.state===Bh&&this.setTime(this.duration-e)}pause(){this.state=Mv,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Ke{constructor(e){var r=this,n=e.node,i=n._id,s,a=e.easing||oi.Linear,o=!!e.yoyo,l;typeof e.duration>"u"?s=.3:e.duration===0?s=.001:s=e.duration,this.node=n,this._id=Lv++;var h=n.getLayer()||(n instanceof ee.Stage?n.getLayers():null);h||M.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Ct(function(){r.tween.onEnterFrame()},h),this.tween=new Rv(l,function(u){r._tweenFunc(u)},a,0,1,s*1e3,o),this._addListeners(),Ke.attrs[i]||(Ke.attrs[i]={}),Ke.attrs[i][this._id]||(Ke.attrs[i][this._id]={}),Ke.tweens[i]||(Ke.tweens[i]={});for(l in e)Tv[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,r){var n=this.node,i=n._id,s,a,o,l,h,u,p,c;if(o=Ke.tweens[i][e],o&&delete Ke.attrs[i][o][e],s=n.getAttr(e),M._isArray(r))if(a=[],h=Math.max(r.length,s.length),e==="points"&&r.length!==s.length&&(r.length>s.length?(p=s,s=M._prepareArrayForTween(s,r,n.closed())):(u=r,r=M._prepareArrayForTween(r,s,n.closed()))),e.indexOf("fill")===0)for(l=0;l<h;l++)if(l%2===0)a.push(r[l]-s[l]);else{var d=M.colorToRGBA(s[l]);c=M.colorToRGBA(r[l]),s[l]=d,a.push({r:c.r-d.r,g:c.g-d.g,b:c.b-d.b,a:c.a-d.a})}else for(l=0;l<h;l++)a.push(r[l]-s[l]);else Hh.indexOf(e)!==-1?(s=M.colorToRGBA(s),c=M.colorToRGBA(r),a={r:c.r-s.r,g:c.g-s.g,b:c.b-s.b,a:c.a-s.a}):a=r-s;Ke.attrs[i][this._id][e]={start:s,diff:a,end:r,trueEnd:u,trueStart:p},Ke.tweens[i][e]=this._id}_tweenFunc(e){var r=this.node,n=Ke.attrs[r._id][this._id],i,s,a,o,l,h,u,p;for(i in n){if(s=n[i],a=s.start,o=s.diff,p=s.end,M._isArray(a))if(l=[],u=Math.max(a.length,p.length),i.indexOf("fill")===0)for(h=0;h<u;h++)h%2===0?l.push((a[h]||0)+o[h]*e):l.push("rgba("+Math.round(a[h].r+o[h].r*e)+","+Math.round(a[h].g+o[h].g*e)+","+Math.round(a[h].b+o[h].b*e)+","+(a[h].a+o[h].a*e)+")");else for(h=0;h<u;h++)l.push((a[h]||0)+o[h]*e);else Hh.indexOf(i)!==-1?l="rgba("+Math.round(a.r+o.r*e)+","+Math.round(a.g+o.g*e)+","+Math.round(a.b+o.b*e)+","+(a.a+o.a*e)+")":l=a+o*e;r.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,r=Ke.attrs[e._id][this._id];r.points&&r.points.trueEnd&&e.setAttr("points",r.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,r=Ke.attrs[e._id][this._id];r.points&&r.points.trueStart&&e.points(r.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,r=this._id,n=Ke.tweens[e],i;this.pause();for(i in n)delete Ke.tweens[e][i];delete Ke.attrs[e][r]}}Ke.attrs={};Ke.tweens={};X.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var r=new Ke(t);r.play()};const oi={BackEaseIn(t,e,r,n){var i=1.70158;return r*(t/=n)*t*((i+1)*t-i)+e},BackEaseOut(t,e,r,n){var i=1.70158;return r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,r,n){var i=1.70158;return(t/=n/2)<1?r/2*(t*t*(((i*=1.525)+1)*t-i))+e:r/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,r,n,i,s){var a=0;return t===0?e:(t/=n)===1?e+r:(s||(s=n*.3),!i||i<Math.abs(r)?(i=r,a=s/4):a=s/(2*Math.PI)*Math.asin(r/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,r,n,i,s){var a=0;return t===0?e:(t/=n)===1?e+r:(s||(s=n*.3),!i||i<Math.abs(r)?(i=r,a=s/4):a=s/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*n-a)*(2*Math.PI)/s)+r+e)},ElasticEaseInOut(t,e,r,n,i,s){var a=0;return t===0?e:(t/=n/2)===2?e+r:(s||(s=n*(.3*1.5)),!i||i<Math.abs(r)?(i=r,a=s/4):a=s/(2*Math.PI)*Math.asin(r/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/s)*.5+r+e)},BounceEaseOut(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,r,n){return r-oi.BounceEaseOut(n-t,0,r,n)+e},BounceEaseInOut(t,e,r,n){return t<n/2?oi.BounceEaseIn(t*2,0,r,n)*.5+e:oi.BounceEaseOut(t*2-n,0,r,n)*.5+r*.5+e},EaseIn(t,e,r,n){return r*(t/=n)*t+e},EaseOut(t,e,r,n){return-r*(t/=n)*(t-2)+e},EaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,r,n){return r*(t/=n)*t*t*t*t+e},StrongEaseOut(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,r,n){return r*t/n+e}},Uh=M._assign(ee,{Util:M,Transform:dt,Node:X,Container:gt,Stage:Gs,stages:hs,Layer:$r,FastLayer:Al,Group:Pn,DD:xe,Shape:z,shapes:ai,Animation:Ct,Tween:Ke,Easings:oi,Context:Ds,Canvas:Ns});class ar extends z{_sceneFunc(e){var r=ee.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,n),e.arc(0,0,this.innerRadius(),r,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),r=this.outerRadius(),n=this.clockwise(),i=ee.getAngle(n?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),h=s*(s>0?e:r),u=a*r,p=o*(o>0?e:r),c=l*(l>0?r:e);return{x:h,y:n?-1*c:p,width:u-h,height:c-p}}}ar.prototype._centroid=!0;ar.prototype.className="Arc";ar.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ze(ar);P.addGetterSetter(ar,"innerRadius",0,K());P.addGetterSetter(ar,"outerRadius",0,K());P.addGetterSetter(ar,"angle",0,K());P.addGetterSetter(ar,"clockwise",!1,Dt());function qo(t,e,r,n,i,s,a){var o=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-r,2)+Math.pow(s-n,2)),h=a*o/(o+l),u=a*l/(o+l),p=r-h*(i-t),c=n-h*(s-e),d=r+u*(i-t),f=n+u*(s-e);return[p,c,d,f]}function Wh(t,e){var r=t.length,n=[],i,s;for(i=2;i<r-2;i+=2)s=qo(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(s[0])&&(n.push(s[0]),n.push(s[1]),n.push(t[i]),n.push(t[i+1]),n.push(s[2]),n.push(s[3]));return n}class or extends z{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var r=this.points(),n=r.length,i=this.tension(),s=this.closed(),a=this.bezier(),o,l,h;if(!!n){if(e.beginPath(),e.moveTo(r[0],r[1]),i!==0&&n>4){for(o=this.getTensionPoints(),l=o.length,h=s?0:4,s||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);h<l-2;)e.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);s||e.quadraticCurveTo(o[l-2],o[l-1],r[n-2],r[n-1])}else if(a)for(h=2;h<n;)e.bezierCurveTo(r[h++],r[h++],r[h++],r[h++],r[h++],r[h++]);else for(h=2;h<n;h+=2)e.lineTo(r[h],r[h+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Wh(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),r=e.length,n=this.tension(),i=qo(e[r-2],e[r-1],e[0],e[1],e[2],e[3],n),s=qo(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],n),a=Wh(e,n),o=[i[2],i[3]].concat(a).concat([s[0],s[1],e[r-2],e[r-1],s[2],s[3],i[0],i[1],e[0],e[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var r=e[0],n=e[0],i=e[1],s=e[1],a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],r=Math.min(r,a),n=Math.max(n,a),i=Math.min(i,o),s=Math.max(s,o);return{x:r,y:i,width:n-r,height:s-i}}}or.prototype.className="Line";or.prototype._attrsAffectingSize=["points","bezier","tension"];ze(or);P.addGetterSetter(or,"closed",!1);P.addGetterSetter(or,"bezier",!1);P.addGetterSetter(or,"tension",0,K());P.addGetterSetter(or,"points",[],z2());class Me extends z{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Me.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength;this.on("dataChange.konva",function(){this.dataArray=Me.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength})}_sceneFunc(e){var r=this.dataArray;e.beginPath();for(var n=!1,i=0;i<r.length;i++){var s=r[i].command,a=r[i].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],l=a[1],h=a[2],u=a[3],p=a[4],c=a[5],d=a[6],f=a[7],_=h>u?h:u,v=h>u?1:h/u,C=h>u?u/h:1;e.translate(o,l),e.rotate(d),e.scale(v,C),e.arc(0,0,_,p,p+c,1-f),e.scale(1/v,1/C),e.rotate(-d),e.translate(-o,-l);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(h){if(h.command==="A"){var u=h.points[4],p=h.points[5],c=h.points[4]+p,d=Math.PI/180;if(Math.abs(u-c)<d&&(d=Math.abs(u-c)),p<0)for(let f=u-d;f>c;f-=d){const _=Me.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],f,0);e.push(_.x,_.y)}else for(let f=u+d;f<c;f+=d){const _=Me.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],f,0);e.push(_.x,_.y)}}else if(h.command==="C")for(let f=0;f<=1;f+=.01){const _=Me.getPointOnCubicBezier(f,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);e.push(_.x,_.y)}else e=e.concat(h.points)});for(var r=e[0],n=e[0],i=e[1],s=e[1],a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(r=Math.min(r,a),n=Math.max(n,a)),isNaN(o)||(i=Math.min(i,o),s=Math.max(s,o));return{x:r,y:i,width:n-r,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){var r,n=0,i=this.dataArray.length;if(!i)return null;for(;n<i&&e>this.dataArray[n].pathLength;)e-=this.dataArray[n].pathLength,++n;if(n===i)return r=this.dataArray[n-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return r=this.dataArray[n].points.slice(0,2),{x:r[0],y:r[1]};var s=this.dataArray[n],a=s.points;switch(s.command){case"L":return Me.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return Me.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Me.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],l=a[1],h=a[2],u=a[3],p=a[4],c=a[5],d=a[6];return p+=c*e/s.pathLength,Me.getPointOnEllipticalArc(o,l,h,u,p,d)}return null}static getLineLength(e,r,n,i){return Math.sqrt((n-e)*(n-e)+(i-r)*(i-r))}static getPointOnLine(e,r,n,i,s,a,o){a===void 0&&(a=r),o===void 0&&(o=n);var l=(s-n)/(i-r+1e-8),h=Math.sqrt(e*e/(1+l*l));i<r&&(h*=-1);var u=l*h,p;if(i===r)p={x:a,y:o+u};else if((o-n)/(a-r+1e-8)===l)p={x:a+h,y:o+u};else{var c,d,f=this.getLineLength(r,n,i,s),_=(a-r)*(i-r)+(o-n)*(s-n);_=_/(f*f),c=r+_*(i-r),d=n+_*(s-n);var v=this.getLineLength(a,o,c,d),C=Math.sqrt(e*e-v*v);h=Math.sqrt(C*C/(1+l*l)),i<r&&(h*=-1),u=l*h,p={x:c+h,y:d+u}}return p}static getPointOnCubicBezier(e,r,n,i,s,a,o,l,h){function u(v){return v*v*v}function p(v){return 3*v*v*(1-v)}function c(v){return 3*v*(1-v)*(1-v)}function d(v){return(1-v)*(1-v)*(1-v)}var f=l*u(e)+a*p(e)+i*c(e)+r*d(e),_=h*u(e)+o*p(e)+s*c(e)+n*d(e);return{x:f,y:_}}static getPointOnQuadraticBezier(e,r,n,i,s,a,o){function l(d){return d*d}function h(d){return 2*d*(1-d)}function u(d){return(1-d)*(1-d)}var p=a*l(e)+i*h(e)+r*u(e),c=o*l(e)+s*h(e)+n*u(e);return{x:p,y:c}}static getPointOnEllipticalArc(e,r,n,i,s,a){var o=Math.cos(a),l=Math.sin(a),h={x:n*Math.cos(s),y:i*Math.sin(s)};return{x:e+(h.x*o-h.y*l),y:r+(h.x*l+h.y*o)}}static parsePathData(e){if(!e)return[];var r=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)r=r.replace(new RegExp(n[i],"g"),"|"+n[i]);var s=r.split("|"),a=[],o=[],l=0,h=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,p;for(i=1;i<s.length;i++){var c=s[i],d=c.charAt(0);for(c=c.slice(1),o.length=0;p=u.exec(c);)o.push(p[0]);for(var f=[],_=0,v=o.length;_<v;_++){if(o[_]==="00"){f.push(0,0);continue}var C=parseFloat(o[_]);isNaN(C)?f.push(0):f.push(C)}for(;f.length>0&&!isNaN(f[0]);){var S=null,w=[],y=l,x=h,R,O,T,G,N,U,re,Z,ge,ye;switch(d){case"l":l+=f.shift(),h+=f.shift(),S="L",w.push(l,h);break;case"L":l=f.shift(),h=f.shift(),w.push(l,h);break;case"m":var he=f.shift(),ue=f.shift();if(l+=he,h+=ue,S="M",a.length>2&&a[a.length-1].command==="z"){for(var fe=a.length-2;fe>=0;fe--)if(a[fe].command==="M"){l=a[fe].points[0]+he,h=a[fe].points[1]+ue;break}}w.push(l,h),d="l";break;case"M":l=f.shift(),h=f.shift(),S="M",w.push(l,h),d="L";break;case"h":l+=f.shift(),S="L",w.push(l,h);break;case"H":l=f.shift(),S="L",w.push(l,h);break;case"v":h+=f.shift(),S="L",w.push(l,h);break;case"V":h=f.shift(),S="L",w.push(l,h);break;case"C":w.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),h=f.shift(),w.push(l,h);break;case"c":w.push(l+f.shift(),h+f.shift(),l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),S="C",w.push(l,h);break;case"S":O=l,T=h,R=a[a.length-1],R.command==="C"&&(O=l+(l-R.points[2]),T=h+(h-R.points[3])),w.push(O,T,f.shift(),f.shift()),l=f.shift(),h=f.shift(),S="C",w.push(l,h);break;case"s":O=l,T=h,R=a[a.length-1],R.command==="C"&&(O=l+(l-R.points[2]),T=h+(h-R.points[3])),w.push(O,T,l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),S="C",w.push(l,h);break;case"Q":w.push(f.shift(),f.shift()),l=f.shift(),h=f.shift(),w.push(l,h);break;case"q":w.push(l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),S="Q",w.push(l,h);break;case"T":O=l,T=h,R=a[a.length-1],R.command==="Q"&&(O=l+(l-R.points[0]),T=h+(h-R.points[1])),l=f.shift(),h=f.shift(),S="Q",w.push(O,T,l,h);break;case"t":O=l,T=h,R=a[a.length-1],R.command==="Q"&&(O=l+(l-R.points[0]),T=h+(h-R.points[1])),l+=f.shift(),h+=f.shift(),S="Q",w.push(O,T,l,h);break;case"A":G=f.shift(),N=f.shift(),U=f.shift(),re=f.shift(),Z=f.shift(),ge=l,ye=h,l=f.shift(),h=f.shift(),S="A",w=this.convertEndpointToCenterParameterization(ge,ye,l,h,re,Z,G,N,U);break;case"a":G=f.shift(),N=f.shift(),U=f.shift(),re=f.shift(),Z=f.shift(),ge=l,ye=h,l+=f.shift(),h+=f.shift(),S="A",w=this.convertEndpointToCenterParameterization(ge,ye,l,h,re,Z,G,N,U);break}a.push({command:S||d,points:w,start:{x:y,y:x},pathLength:this.calcLength(y,x,S||d,w)})}(d==="z"||d==="Z")&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,r,n,i){var s,a,o,l,h=Me;switch(n){case"L":return h.getLineLength(e,r,i[0],i[1]);case"C":for(s=0,a=h.getPointOnCubicBezier(0,e,r,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=h.getPointOnCubicBezier(l,e,r,i[0],i[1],i[2],i[3],i[4],i[5]),s+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case"Q":for(s=0,a=h.getPointOnQuadraticBezier(0,e,r,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=h.getPointOnQuadraticBezier(l,e,r,i[0],i[1],i[2],i[3]),s+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case"A":s=0;var u=i[4],p=i[5],c=i[4]+p,d=Math.PI/180;if(Math.abs(u-c)<d&&(d=Math.abs(u-c)),a=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),p<0)for(l=u-d;l>c;l-=d)o=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=u+d;l<c;l+=d)o=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=h.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),s+=h.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,r,n,i,s,a,o,l,h){var u=h*(Math.PI/180),p=Math.cos(u)*(e-n)/2+Math.sin(u)*(r-i)/2,c=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(r-i)/2,d=p*p/(o*o)+c*c/(l*l);d>1&&(o*=Math.sqrt(d),l*=Math.sqrt(d));var f=Math.sqrt((o*o*(l*l)-o*o*(c*c)-l*l*(p*p))/(o*o*(c*c)+l*l*(p*p)));s===a&&(f*=-1),isNaN(f)&&(f=0);var _=f*o*c/l,v=f*-l*p/o,C=(e+n)/2+Math.cos(u)*_-Math.sin(u)*v,S=(r+i)/2+Math.sin(u)*_+Math.cos(u)*v,w=function(N){return Math.sqrt(N[0]*N[0]+N[1]*N[1])},y=function(N,U){return(N[0]*U[0]+N[1]*U[1])/(w(N)*w(U))},x=function(N,U){return(N[0]*U[1]<N[1]*U[0]?-1:1)*Math.acos(y(N,U))},R=x([1,0],[(p-_)/o,(c-v)/l]),O=[(p-_)/o,(c-v)/l],T=[(-1*p-_)/o,(-1*c-v)/l],G=x(O,T);return y(O,T)<=-1&&(G=Math.PI),y(O,T)>=1&&(G=0),a===0&&G>0&&(G=G-2*Math.PI),a===1&&G<0&&(G=G+2*Math.PI),[C,S,o,l,R,G,u,a]}}Me.prototype.className="Path";Me.prototype._attrsAffectingSize=["data"];ze(Me);P.addGetterSetter(Me,"data");class en extends or{_sceneFunc(e){super._sceneFunc(e);var r=Math.PI*2,n=this.points(),i=n,s=this.tension()!==0&&n.length>4;s&&(i=this.getTensionPoints());var a=this.pointerLength(),o=n.length,l,h;if(s){const c=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[o-2],n[o-1]],d=Me.calcLength(i[i.length-4],i[i.length-3],"C",c),f=Me.getPointOnQuadraticBezier(Math.min(1,1-a/d),c[0],c[1],c[2],c[3],c[4],c[5]);l=n[o-2]-f.x,h=n[o-1]-f.y}else l=n[o-2]-n[o-4],h=n[o-1]-n[o-3];var u=(Math.atan2(h,l)+r)%r,p=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[o-2],n[o-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-a,p/2),e.lineTo(-a,-p/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),s?(l=(i[0]+i[2])/2-n[0],h=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],h=n[3]-n[1]),e.rotate((Math.atan2(-h,-l)+r)%r),e.moveTo(0,0),e.lineTo(-a,p/2),e.lineTo(-a,-p/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+r*2,height:e.height+r*2}}}en.prototype.className="Arrow";ze(en);P.addGetterSetter(en,"pointerLength",10,K());P.addGetterSetter(en,"pointerWidth",10,K());P.addGetterSetter(en,"pointerAtBeginning",!1);P.addGetterSetter(en,"pointerAtEnding",!0);class Mn extends z{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Mn.prototype._centroid=!0;Mn.prototype.className="Circle";Mn.prototype._attrsAffectingSize=["radius"];ze(Mn);P.addGetterSetter(Mn,"radius",0,K());class Ar extends z{_sceneFunc(e){var r=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),r!==n&&e.scale(1,n/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Ar.prototype.className="Ellipse";Ar.prototype._centroid=!0;Ar.prototype._attrsAffectingSize=["radiusX","radiusY"];ze(Ar);P.addComponentsGetterSetter(Ar,"radius",["x","y"]);P.addGetterSetter(Ar,"radiusX",0,K());P.addGetterSetter(Ar,"radiusY",0,K());class Nt extends z{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const r=this.getWidth(),n=this.getHeight(),i=this.attrs.image;let s;if(i){const a=this.attrs.cropWidth,o=this.attrs.cropHeight;a&&o?s=[i,this.cropX(),this.cropY(),a,o,0,0,r,n]:s=[i,0,0,r,n]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,s)}_hitFunc(e){var r=this.width(),n=this.height();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r;return(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var e,r;return(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(e,r,n=null){var i=M.createImageElement();i.onload=function(){var s=new Nt({image:i});r(s)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}}Nt.prototype.className="Image";ze(Nt);P.addGetterSetter(Nt,"image");P.addComponentsGetterSetter(Nt,"crop",["x","y","width","height"]);P.addGetterSetter(Nt,"cropX",0,K());P.addGetterSetter(Nt,"cropY",0,K());P.addGetterSetter(Nt,"cropWidth",0,K());P.addGetterSetter(Nt,"cropHeight",0,K());var Gc=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Iv="Change.konva",Dv="none",Yo="up",Ko="right",Xo="down",Vo="left",Nv=Gc.length;class kl extends Pn{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var r=this,n,i=function(){r._sync()};for(n=0;n<Nv;n++)e.on(Gc[n]+Iv,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),r=this.getTag(),n,i,s,a,o,l,h;if(e&&r){switch(n=e.width(),i=e.height(),s=r.pointerDirection(),a=r.pointerWidth(),h=r.pointerHeight(),o=0,l=0,s){case Yo:o=n/2,l=-1*h;break;case Ko:o=n+a,l=i/2;break;case Xo:o=n/2,l=i+h;break;case Vo:o=-1*a,l=i/2;break}r.setAttrs({x:-1*o,y:-1*l,width:n,height:i}),e.setAttrs({x:-1*o,y:-1*l})}}}kl.prototype.className="Label";ze(kl);class tn extends z{_sceneFunc(e){var r=this.width(),n=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,h=0,u=0,p=0;typeof o=="number"?l=h=u=p=Math.min(o,r/2,n/2):(l=Math.min(o[0]||0,r/2,n/2),h=Math.min(o[1]||0,r/2,n/2),p=Math.min(o[2]||0,r/2,n/2),u=Math.min(o[3]||0,r/2,n/2)),e.beginPath(),e.moveTo(l,0),i===Yo&&(e.lineTo((r-s)/2,0),e.lineTo(r/2,-1*a),e.lineTo((r+s)/2,0)),e.lineTo(r-h,0),e.arc(r-h,h,h,Math.PI*3/2,0,!1),i===Ko&&(e.lineTo(r,(n-a)/2),e.lineTo(r+s,n/2),e.lineTo(r,(n+a)/2)),e.lineTo(r,n-p),e.arc(r-p,n-p,p,0,Math.PI/2,!1),i===Xo&&(e.lineTo((r+s)/2,n),e.lineTo(r/2,n+a),e.lineTo((r-s)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),i===Vo&&(e.lineTo(0,(n+a)/2),e.lineTo(-1*s,n/2),e.lineTo(0,(n-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,r=0,n=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===Yo?(r-=i,o+=i):s===Xo?o+=i:s===Vo?(e-=n*1.5,a+=n):s===Ko&&(a+=n*1.5),{x:e,y:r,width:a,height:o}}}tn.prototype.className="Tag";ze(tn);P.addGetterSetter(tn,"pointerDirection",Dv);P.addGetterSetter(tn,"pointerWidth",0,K());P.addGetterSetter(tn,"pointerHeight",0,K());P.addGetterSetter(tn,"cornerRadius",0,vc(4));class Ci extends z{_sceneFunc(e){var r=this.cornerRadius(),n=this.width(),i=this.height();if(e.beginPath(),!r)e.rect(0,0,n,i);else{let s=0,a=0,o=0,l=0;typeof r=="number"?s=a=o=l=Math.min(r,n/2,i/2):(s=Math.min(r[0]||0,n/2,i/2),a=Math.min(r[1]||0,n/2,i/2),l=Math.min(r[2]||0,n/2,i/2),o=Math.min(r[3]||0,n/2,i/2)),e.moveTo(s,0),e.lineTo(n-a,0),e.arc(n-a,a,a,Math.PI*3/2,0,!1),e.lineTo(n,i-l),e.arc(n-l,i-l,l,0,Math.PI/2,!1),e.lineTo(o,i),e.arc(o,i-o,o,Math.PI/2,Math.PI,!1),e.lineTo(0,s),e.arc(s,s,s,Math.PI,Math.PI*3/2,!1)}e.closePath(),e.fillStrokeShape(this)}}Ci.prototype.className="Rect";ze(Ci);P.addGetterSetter(Ci,"cornerRadius",0,vc(4));class rn extends z{_sceneFunc(e){const r=this._getPoints();e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,r=this.attrs.radius||0,n=[];for(var i=0;i<e;i++)n.push({x:r*Math.sin(i*2*Math.PI/e),y:-1*r*Math.cos(i*2*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();var r=e[0].x,n=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(a=>{r=Math.min(r,a.x),n=Math.max(n,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),{x:r,y:i,width:n-r,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}rn.prototype.className="RegularPolygon";rn.prototype._centroid=!0;rn.prototype._attrsAffectingSize=["radius"];ze(rn);P.addGetterSetter(rn,"radius",0,K());P.addGetterSetter(rn,"sides",0,K());var zh=Math.PI*2;class nn extends z{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,zh,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),zh,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}nn.prototype.className="Ring";nn.prototype._centroid=!0;nn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ze(nn);P.addGetterSetter(nn,"innerRadius",0,K());P.addGetterSetter(nn,"outerRadius",0,K());class Yt extends z{constructor(e){super(e),this._updated=!0,this.anim=new Ct(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,s=this.animations()[r],a=this.frameOffsets(),o=s[i+0],l=s[i+1],h=s[i+2],u=s[i+3],p=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,h,u),e.closePath(),e.fillStrokeShape(this)),p)if(a){var c=a[r],d=n*2;e.drawImage(p,o,l,h,u,c[d+0],c[d+1],h,u)}else e.drawImage(p,o,l,h,u,0,0,h,u)}_hitFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,s=this.animations()[r],a=this.frameOffsets(),o=s[i+2],l=s[i+3];if(e.beginPath(),a){var h=a[r],u=n*2;e.rect(h[u+0],h[u+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),r=this.animation(),n=this.animations(),i=n[r],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}Yt.prototype.className="Sprite";ze(Yt);P.addGetterSetter(Yt,"animation");P.addGetterSetter(Yt,"animations");P.addGetterSetter(Yt,"frameOffsets");P.addGetterSetter(Yt,"image");P.addGetterSetter(Yt,"frameIndex",0,K());P.addGetterSetter(Yt,"frameRate",17,K());P.backCompat(Yt,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class kr extends z{_sceneFunc(e){var r=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var s=1;s<i*2;s++){var a=s%2===0?n:r,o=a*Math.sin(s*Math.PI/i),l=-1*a*Math.cos(s*Math.PI/i);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}kr.prototype.className="Star";kr.prototype._centroid=!0;kr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ze(kr);P.addGetterSetter(kr,"numPoints",5,K());P.addGetterSetter(kr,"innerRadius",0,K());P.addGetterSetter(kr,"outerRadius",0,K());function Fc(t){return Array.from(t)}var dn="auto",Gv="center",Xn="justify",Fv="Change.konva",Bv="2d",qh="-",Bc="left",Hv="text",Uv="Text",Wv="top",zv="bottom",Yh="middle",Hc="normal",qv="px ",Zi=" ",Yv="right",Kv="word",Xv="char",Kh="none",Za="\u2026",Uc=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Vv=Uc.length;function jv(t){return t.split(",").map(e=>{e=e.trim();const r=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!n&&(e=`"${e}"`),e}).join(", ")}var $i;function $a(){return $i||($i=M.createCanvasElement().getContext(Bv),$i)}function Qv(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Jv(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Zv(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class We extends z{constructor(e){super(Zv(e)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<Vv;r++)this.on(Uc[r]+Fv,this._setTextData);this._setTextData()}_sceneFunc(e){var r=this.textArr,n=r.length;if(!!this.text()){var i=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=0,h=this.align(),u=this.getWidth(),p=this.letterSpacing(),c=this.fill(),d=this.textDecoration(),f=d.indexOf("underline")!==-1,_=d.indexOf("line-through")!==-1,v,C=0,C=a/2,S=0,w=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Yh),e.setAttr("textAlign",Bc),o===Yh?l=(this.getHeight()-n*a-i*2)/2:o===zv&&(l=this.getHeight()-n*a-i*2),e.translate(i,l+i),v=0;v<n;v++){var S=0,w=0,y=r[v],x=y.text,R=y.width,O=y.lastInParagraph,T,G,N;if(e.save(),h===Yv?S+=u-R-i*2:h===Gv&&(S+=(u-R-i*2)/2),f&&(e.save(),e.beginPath(),e.moveTo(S,C+w+Math.round(s/2)),T=x.split(" ").length-1,G=T===0,N=h===Xn&&O&&!G?u-i*2:R,e.lineTo(S+Math.round(N),C+w+Math.round(s/2)),e.lineWidth=s/15,e.strokeStyle=c,e.stroke(),e.restore()),_&&(e.save(),e.beginPath(),e.moveTo(S,C+w),T=x.split(" ").length-1,G=T===0,N=h===Xn&&O&&!G?u-i*2:R,e.lineTo(S+Math.round(N),C+w),e.lineWidth=s/15,e.strokeStyle=c,e.stroke(),e.restore()),p!==0||h===Xn){T=x.split(" ").length-1;for(var U=Fc(x),re=0;re<U.length;re++){var Z=U[re];Z===" "&&!O&&h===Xn&&(S+=(u-i*2-R)/T),this._partialTextX=S,this._partialTextY=C+w,this._partialText=Z,e.fillStrokeShape(this),S+=this.measureSize(Z).width+p}}else this._partialTextX=S,this._partialTextY=C+w,this._partialText=x,e.fillStrokeShape(this);e.restore(),n>1&&(C+=a)}}}_hitFunc(e){var r=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var r=M._isString(e)?e:e==null?"":e+"";return this._setAttr(Hv,r),this}getWidth(){var e=this.attrs.width===dn||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===dn||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return M.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r=$a(),n=this.fontSize(),i;return r.save(),r.font=this._getContextFont(),i=r.measureText(e),r.restore(),{width:i.width,height:n}}_getContextFont(){return this.fontStyle()+Zi+this.fontVariant()+Zi+(this.fontSize()+qv)+jv(this.fontFamily())}_addTextLine(e){this.align()===Xn&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var r=this.letterSpacing(),n=e.length;return $a().measureText(e).width+(n?r*(n-1):0)}_setTextData(){var e=this.text().split(`
`),r=+this.fontSize(),n=0,i=this.lineHeight()*r,s=this.attrs.width,a=this.attrs.height,o=s!==dn&&s!==void 0,l=a!==dn&&a!==void 0,h=this.padding(),u=s-h*2,p=a-h*2,c=0,d=this.wrap(),f=d!==Kh,_=d!==Xv&&f,v=this.ellipsis();this.textArr=[],$a().font=this._getContextFont();for(var C=v?this._getTextWidth(Za):0,S=0,w=e.length;S<w;++S){var y=e[S],x=this._getTextWidth(y);if(o&&x>u)for(;y.length>0;){for(var R=0,O=y.length,T="",G=0;R<O;){var N=R+O>>>1,U=y.slice(0,N+1),re=this._getTextWidth(U)+C;re<=u?(R=N+1,T=U,G=re):O=N}if(T){if(_){var Z,ge=y[T.length],ye=ge===Zi||ge===qh;ye&&G<=u?Z=T.length:Z=Math.max(T.lastIndexOf(Zi),T.lastIndexOf(qh))+1,Z>0&&(R=Z,T=T.slice(0,R),G=this._getTextWidth(T))}T=T.trimRight(),this._addTextLine(T),n=Math.max(n,G),c+=i;var he=this._shouldHandleEllipsis(c);if(he){this._tryToAddEllipsisToLastLine();break}if(y=y.slice(R),y=y.trimLeft(),y.length>0&&(x=this._getTextWidth(y),x<=u)){this._addTextLine(y),c+=i,n=Math.max(n,x);break}}else break}else this._addTextLine(y),c+=i,n=Math.max(n,x),this._shouldHandleEllipsis(c)&&S<w-1&&this._tryToAddEllipsisToLastLine();if(l&&c+i>p)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=r,this.textWidth=n}_shouldHandleEllipsis(e){var r=+this.fontSize(),n=this.lineHeight()*r,i=this.attrs.height,s=i!==dn&&i!==void 0,a=this.padding(),o=i-a*2,l=this.wrap(),h=l!==Kh;return!h||s&&e+n>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,r=e!==dn&&e!==void 0,n=this.padding(),i=e-n*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(!(!a||!s)){if(r){var o=this._getTextWidth(a.text+Za)<i;o||(a.text=a.text.slice(0,a.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+Za)}}getStrokeScaleEnabled(){return!0}}We.prototype._fillFunc=Qv;We.prototype._strokeFunc=Jv;We.prototype.className=Uv;We.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];ze(We);P.overWriteSetter(We,"width",xl());P.overWriteSetter(We,"height",xl());P.addGetterSetter(We,"fontFamily","Arial");P.addGetterSetter(We,"fontSize",12,K());P.addGetterSetter(We,"fontStyle",Hc);P.addGetterSetter(We,"fontVariant",Hc);P.addGetterSetter(We,"padding",0,K());P.addGetterSetter(We,"align",Bc);P.addGetterSetter(We,"verticalAlign",Wv);P.addGetterSetter(We,"lineHeight",1,K());P.addGetterSetter(We,"wrap",Kv);P.addGetterSetter(We,"ellipsis",!1,Dt());P.addGetterSetter(We,"letterSpacing",0,K());P.addGetterSetter(We,"text","",Tn());P.addGetterSetter(We,"textDecoration","");var $v="",Wc="normal";function zc(t){t.fillText(this.partialText,0,0)}function qc(t){t.strokeText(this.partialText,0,0)}class Ze extends z{constructor(e){super(e),this.dummyCanvas=M.createCanvasElement(),this.dataArray=[],this.dataArray=Me.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Me.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var r=this.textDecoration(),n=this.fill(),i=this.fontSize(),s=this.glyphInfo;r==="underline"&&e.beginPath();for(var a=0;a<s.length;a++){e.save();var o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),r==="underline"&&(a===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}r==="underline"&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var r=this.glyphInfo;if(r.length>=1){var n=r[0].p0;e.moveTo(n.x,n.y)}for(var i=0;i<r.length;i++){var s=r[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return M.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return We.prototype.setText.call(this,e)}_getContextFont(){return We.prototype._getContextFont.call(this)}_getTextSize(e){var r=this.dummyCanvas,n=r.getContext("2d");n.save(),n.font=this._getContextFont();var i=n.measureText(e);return n.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,r=this._getTextSize(this.attrs.text),n=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=r.width,this.textHeight=r.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var o=0,l=0;l<e.dataArray.length;l++)e.dataArray[l].pathLength>0&&(o+=e.dataArray[l].pathLength);var h=0;i==="center"&&(h=Math.max(0,o/2-a/2)),i==="right"&&(h=Math.max(0,o-a));for(var u=Fc(this.text()),p=this.text().split(" ").length-1,c,d,f,_=-1,v=0,C=function(){v=0;for(var re=e.dataArray,Z=_+1;Z<re.length;Z++){if(re[Z].pathLength>0)return _=Z,re[Z];re[Z].command==="M"&&(c={x:re[Z].points[0],y:re[Z].points[1]})}return{}},S=function(re){var Z=e._getTextSize(re).width+n;re===" "&&i==="justify"&&(Z+=(o-a)/p);var ge=0,ye=0;for(d=void 0;Math.abs(Z-ge)/Z>.01&&ye<20;){ye++;for(var he=ge;f===void 0;)f=C(),f&&he+f.pathLength<Z&&(he+=f.pathLength,f=void 0);if(Object.keys(f).length===0||c===void 0)return;var ue=!1;switch(f.command){case"L":Me.getLineLength(c.x,c.y,f.points[0],f.points[1])>Z?d=Me.getPointOnLine(Z,c.x,c.y,f.points[0],f.points[1],c.x,c.y):f=void 0;break;case"A":var fe=f.points[4],Ge=f.points[5],pe=f.points[4]+Ge;v===0?v=fe+1e-8:Z>ge?v+=Math.PI/180*Ge/Math.abs(Ge):v-=Math.PI/360*Ge/Math.abs(Ge),(Ge<0&&v<pe||Ge>=0&&v>pe)&&(v=pe,ue=!0),d=Me.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],v,f.points[6]);break;case"C":v===0?Z>f.pathLength?v=1e-8:v=Z/f.pathLength:Z>ge?v+=(Z-ge)/f.pathLength/2:v=Math.max(v-(ge-Z)/f.pathLength/2,0),v>1&&(v=1,ue=!0),d=Me.getPointOnCubicBezier(v,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":v===0?v=Z/f.pathLength:Z>ge?v+=(Z-ge)/f.pathLength:v-=(ge-Z)/f.pathLength,v>1&&(v=1,ue=!0),d=Me.getPointOnQuadraticBezier(v,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3]);break}d!==void 0&&(ge=Me.getLineLength(c.x,c.y,d.x,d.y)),ue&&(ue=!1,f=void 0)}},w="C",y=e._getTextSize(w).width+n,x=h/y-1,R=0;R<x&&(S(w),!(c===void 0||d===void 0));R++)c=d;for(var O=0;O<u.length&&(S(u[O]),!(c===void 0||d===void 0));O++){var T=Me.getLineLength(c.x,c.y,d.x,d.y),G=0;if(s)try{G=s(u[O-1],u[O])*this.fontSize()}catch{G=0}c.x+=G,d.x+=G,this.textWidth+=G;var N=Me.getPointOnLine(G+T/2,c.x,c.y,d.x,d.y),U=Math.atan2(d.y-c.y,d.x-c.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:u[O],rotation:U,p0:c,p1:d}),c=d}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});for(var r=e[0]||0,n=e[0]||0,i=e[1]||0,s=e[1]||0,a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],r=Math.min(r,a),n=Math.max(n,a),i=Math.min(i,o),s=Math.max(s,o);var h=this.fontSize();return{x:r-h/2,y:i-h/2,width:n-r+h,height:s-i+h}}destroy(){return M.releaseCanvas(this.dummyCanvas),super.destroy()}}Ze.prototype._fillFunc=zc;Ze.prototype._strokeFunc=qc;Ze.prototype._fillFuncHit=zc;Ze.prototype._strokeFuncHit=qc;Ze.prototype.className="TextPath";Ze.prototype._attrsAffectingSize=["text","fontSize","data"];ze(Ze);P.addGetterSetter(Ze,"data");P.addGetterSetter(Ze,"fontFamily","Arial");P.addGetterSetter(Ze,"fontSize",12,K());P.addGetterSetter(Ze,"fontStyle",Wc);P.addGetterSetter(Ze,"align","left");P.addGetterSetter(Ze,"letterSpacing",0,K());P.addGetterSetter(Ze,"textBaseline","middle");P.addGetterSetter(Ze,"fontVariant",Wc);P.addGetterSetter(Ze,"text",$v);P.addGetterSetter(Ze,"textDecoration",null);P.addGetterSetter(Ze,"kerningFunc",null);var Yc="tr-konva",e_=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${Yc}`).join(" "),Xh="nodesRect",t_=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],r_={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const n_="ontouchstart"in ee._global;function i_(t,e){if(t==="rotater")return"crosshair";e+=M.degToRad(r_[t]||0);var r=(M.radToDeg(e)%360+360)%360;return M._inRange(r,315+22.5,360)||M._inRange(r,0,22.5)?"ns-resize":M._inRange(r,45-22.5,45+22.5)?"nesw-resize":M._inRange(r,90-22.5,90+22.5)?"ew-resize":M._inRange(r,135-22.5,135+22.5)?"nwse-resize":M._inRange(r,180-22.5,180+22.5)?"ns-resize":M._inRange(r,225-22.5,225+22.5)?"nesw-resize":M._inRange(r,270-22.5,270+22.5)?"ew-resize":M._inRange(r,315-22.5,315+22.5)?"nwse-resize":(M.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var bs=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Vh=1e8;function s_(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Kc(t,e,r){const n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:n,y:i})}function a_(t,e){const r=s_(t);return Kc(t,e,r)}function o_(t,e,r){let n=e;for(let i=0;i<t.length;i++){const s=ee.getAngle(t[i]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<r&&(n=s)}return n}class Ae extends Pn{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(e_,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return M.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Yc+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(n=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=n._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");n.on(s,i),n.on(t_.map(a=>a+`.${this._getEventNamespace()}`).join(" "),i),n.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(n)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,n=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!r)return;const i=e.getAbsolutePosition(),s=i.x-r.x,a=i.y-r.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(n)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Xh),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Xh,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),n){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(n),a=e.getAbsolutePosition(n),o=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y;const h=(ee.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),u={x:a.x+o*Math.cos(h)+l*Math.sin(-h),y:a.y+l*Math.cos(h)+o*Math.sin(h),width:i.width*s.x,height:i.height*s.y,rotation:h};return Kc(u,-ee.getAngle(r),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Vh,y:-Vh,width:0,height:0,rotation:0};const r=[];this.nodes().map(h=>{const u=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var p=[{x:u.x,y:u.y},{x:u.x+u.width,y:u.y},{x:u.x+u.width,y:u.y+u.height},{x:u.x,y:u.y+u.height}],c=h.getAbsoluteTransform();p.forEach(function(d){var f=c.point(d);r.push(f)})});const n=new dt;n.rotate(-ee.getAngle(this.rotation()));var i,s,a,o;r.forEach(function(h){var u=n.point(h);i===void 0&&(i=a=u.x,s=o=u.y),i=Math.min(i,u.x),s=Math.min(s,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}),n.invert();const l=n.point({x:i,y:s});return{x:l.x,y:l.y,width:a-i,height:o-s,rotation:ee.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),bs.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var r=new Ci({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:n_?10:"auto"}),n=this;r.on("mousedown touchstart",function(i){n._handleMouseDown(i)}),r.on("dragstart",i=>{r.stopDrag(),i.cancelBubble=!0}),r.on("dragend",i=>{i.cancelBubble=!0}),r.on("mouseenter",()=>{var i=ee.getAngle(this.rotation()),s=i_(e,i);r.getStage().content&&(r.getStage().content.style.cursor=s),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var e=new z({name:"back",width:0,height:0,draggable:!0,sceneFunc(r){var n=this.getParent(),i=n.padding();r.beginPath(),r.rect(-i,-i,this.width()+i*2,this.height()+i*2),r.moveTo(this.width()/2,-i),n.rotateEnabled()&&r.lineTo(this.width()/2,-n.rotateAnchorOffset()*M._sign(this.height())-i),r.fillStrokeShape(this)},hitFunc:(r,n)=>{if(!!this.shouldOverdrawWholeArea()){var i=this.padding();r.beginPath(),r.rect(-i,-i,n.width()+i*2,n.height()+i*2),r.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var r=this._getNodeRect(),n=r.width,i=r.height,s=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(n/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var r,n,i,s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const h=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(h,l,e)),s.setAbsolutePosition(l);const u=s.getAbsolutePosition();if(!(h.x===u.x&&h.y===u.y)){if(this._movingAnchorName==="rotater"){var p=this._getNodeRect();r=s.x()-p.width/2,n=-s.y()+p.height/2;let re=Math.atan2(-n,r)+Math.PI/2;p.height<0&&(re-=Math.PI);var c=ee.getAngle(this.rotation());const Z=c+re,ge=ee.getAngle(this.rotationSnapTolerance()),he=o_(this.rotationSnaps(),Z,ge)-p.rotation,ue=a_(p,he);this._fitNodesInto(ue,e);return}var d=this.keepRatio()||e.shiftKey,S=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(d){var f=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(f.y-s.y(),2));var _=this.findOne(".top-left").x()>f.x?-1:1,v=this.findOne(".top-left").y()>f.y?-1:1;r=i*this.cos*_,n=i*this.sin*v,this.findOne(".top-left").x(f.x-r),this.findOne(".top-left").y(f.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(d){var f=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(f.y-s.y(),2));var _=this.findOne(".top-right").x()<f.x?-1:1,v=this.findOne(".top-right").y()>f.y?-1:1;r=i*this.cos*_,n=i*this.sin*v,this.findOne(".top-right").x(f.x+r),this.findOne(".top-right").y(f.y-n)}var C=s.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(d){var f=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(s.y()-f.y,2));var _=f.x<s.x()?-1:1,v=s.y()<f.y?-1:1;r=i*this.cos*_,n=i*this.sin*v,s.x(f.x-r),s.y(f.y+n)}C=s.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(d){var f=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(s.y()-f.y,2));var _=this.findOne(".bottom-right").x()<f.x?-1:1,v=this.findOne(".bottom-right").y()<f.y?-1:1;r=i*this.cos*_,n=i*this.sin*v,this.findOne(".bottom-right").x(f.x+r),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var S=this.centeredScaling()||e.altKey;if(S){var w=this.findOne(".top-left"),y=this.findOne(".bottom-right"),x=w.x(),R=w.y(),O=this.getWidth()-y.x(),T=this.getHeight()-y.y();y.move({x:-x,y:-R}),w.move({x:O,y:T})}var G=this.findOne(".top-left").getAbsolutePosition();r=G.x,n=G.y;var N=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),U=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:n,width:N,height:U,rotation:ee.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();this._fire("transformend",{evt:e,target:r}),r&&this._nodes.forEach(n=>{n._fire("transformend",{evt:e,target:n})}),this._movingAnchorName=null}}_fitNodesInto(e,r){var n=this._getNodeRect();const i=1;if(M._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(M._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=this.flipEnabled();var a=new dt;if(a.rotate(ee.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=a.point({x:-this.padding()*2,y:0});if(e.x+=p.x,e.y+=p.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,!s){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=a.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.width+=this.padding()*2,!s){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=a.point({x:0,y:-this.padding()*2});if(e.x+=p.x,e.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2,!s){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=a.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2,!s){this.update();return}}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(n,e);p?e=p:M.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new dt;l.translate(n.x,n.y),l.rotate(n.rotation),l.scale(n.width/o,n.height/o);const h=new dt;h.translate(e.x,e.y),h.rotate(e.rotation),h.scale(e.width/o,e.height/o);const u=h.multiply(l.invert());this._nodes.forEach(p=>{var c;const d=p.getParent().getAbsoluteTransform(),f=p.getTransform().copy();f.translate(p.offsetX(),p.offsetY());const _=new dt;_.multiply(d.copy().invert()).multiply(u).multiply(d).multiply(f);const v=_.decompose();p.setAttrs(v),this._fire("transform",{evt:r,target:p}),p._fire("transform",{evt:r,target:p}),(c=p.getLayer())===null||c===void 0||c.batchDraw()}),this.rotation(M._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e,r=this._getNodeRect();this.rotation(M._getRotation(r.rotation));var n=r.width,i=r.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*M._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Pn.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return X.prototype.toObject.call(this)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function l_(t){return t instanceof Array||M.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){bs.indexOf(e)===-1&&M.warn("Unknown anchor name: "+e+". Available names are: "+bs.join(", "))}),t||[]}Ae.prototype.className="Transformer";ze(Ae);P.addGetterSetter(Ae,"enabledAnchors",bs,l_);P.addGetterSetter(Ae,"flipEnabled",!0,Dt());P.addGetterSetter(Ae,"resizeEnabled",!0);P.addGetterSetter(Ae,"anchorSize",10,K());P.addGetterSetter(Ae,"rotateEnabled",!0);P.addGetterSetter(Ae,"rotationSnaps",[]);P.addGetterSetter(Ae,"rotateAnchorOffset",50,K());P.addGetterSetter(Ae,"rotationSnapTolerance",5,K());P.addGetterSetter(Ae,"borderEnabled",!0);P.addGetterSetter(Ae,"anchorStroke","rgb(0, 161, 255)");P.addGetterSetter(Ae,"anchorStrokeWidth",1,K());P.addGetterSetter(Ae,"anchorFill","white");P.addGetterSetter(Ae,"anchorCornerRadius",0,K());P.addGetterSetter(Ae,"borderStroke","rgb(0, 161, 255)");P.addGetterSetter(Ae,"borderStrokeWidth",1,K());P.addGetterSetter(Ae,"borderDash");P.addGetterSetter(Ae,"keepRatio",!0);P.addGetterSetter(Ae,"centeredScaling",!1);P.addGetterSetter(Ae,"ignoreStroke",!1);P.addGetterSetter(Ae,"padding",0,K());P.addGetterSetter(Ae,"node");P.addGetterSetter(Ae,"nodes");P.addGetterSetter(Ae,"boundBoxFunc");P.addGetterSetter(Ae,"anchorDragBoundFunc");P.addGetterSetter(Ae,"shouldOverdrawWholeArea",!1);P.addGetterSetter(Ae,"useSingleNodeRotation",!0);P.backCompat(Ae,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class lr extends z{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ee.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}lr.prototype.className="Wedge";lr.prototype._centroid=!0;lr.prototype._attrsAffectingSize=["radius"];ze(lr);P.addGetterSetter(lr,"radius",0,K());P.addGetterSetter(lr,"angle",0,K());P.addGetterSetter(lr,"clockwise",!1);P.backCompat(lr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function jh(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var h_=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],u_=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c_(t,e){var r=t.data,n=t.width,i=t.height,s,a,o,l,h,u,p,c,d,f,_,v,C,S,w,y,x,R,O,T,G,N,U,re,Z=e+e+1,ge=n-1,ye=i-1,he=e+1,ue=he*(he+1)/2,fe=new jh,Ge=null,pe=fe,Se=null,ke=null,it=h_[e],ot=u_[e];for(o=1;o<Z;o++)pe=pe.next=new jh,o===he&&(Ge=pe);for(pe.next=fe,p=u=0,a=0;a<i;a++){for(y=x=R=O=c=d=f=_=0,v=he*(T=r[u]),C=he*(G=r[u+1]),S=he*(N=r[u+2]),w=he*(U=r[u+3]),c+=ue*T,d+=ue*G,f+=ue*N,_+=ue*U,pe=fe,o=0;o<he;o++)pe.r=T,pe.g=G,pe.b=N,pe.a=U,pe=pe.next;for(o=1;o<he;o++)l=u+((ge<o?ge:o)<<2),c+=(pe.r=T=r[l])*(re=he-o),d+=(pe.g=G=r[l+1])*re,f+=(pe.b=N=r[l+2])*re,_+=(pe.a=U=r[l+3])*re,y+=T,x+=G,R+=N,O+=U,pe=pe.next;for(Se=fe,ke=Ge,s=0;s<n;s++)r[u+3]=U=_*it>>ot,U!==0?(U=255/U,r[u]=(c*it>>ot)*U,r[u+1]=(d*it>>ot)*U,r[u+2]=(f*it>>ot)*U):r[u]=r[u+1]=r[u+2]=0,c-=v,d-=C,f-=S,_-=w,v-=Se.r,C-=Se.g,S-=Se.b,w-=Se.a,l=p+((l=s+e+1)<ge?l:ge)<<2,y+=Se.r=r[l],x+=Se.g=r[l+1],R+=Se.b=r[l+2],O+=Se.a=r[l+3],c+=y,d+=x,f+=R,_+=O,Se=Se.next,v+=T=ke.r,C+=G=ke.g,S+=N=ke.b,w+=U=ke.a,y-=T,x-=G,R-=N,O-=U,ke=ke.next,u+=4;p+=n}for(s=0;s<n;s++){for(x=R=O=y=d=f=_=c=0,u=s<<2,v=he*(T=r[u]),C=he*(G=r[u+1]),S=he*(N=r[u+2]),w=he*(U=r[u+3]),c+=ue*T,d+=ue*G,f+=ue*N,_+=ue*U,pe=fe,o=0;o<he;o++)pe.r=T,pe.g=G,pe.b=N,pe.a=U,pe=pe.next;for(h=n,o=1;o<=e;o++)u=h+s<<2,c+=(pe.r=T=r[u])*(re=he-o),d+=(pe.g=G=r[u+1])*re,f+=(pe.b=N=r[u+2])*re,_+=(pe.a=U=r[u+3])*re,y+=T,x+=G,R+=N,O+=U,pe=pe.next,o<ye&&(h+=n);for(u=s,Se=fe,ke=Ge,a=0;a<i;a++)l=u<<2,r[l+3]=U=_*it>>ot,U>0?(U=255/U,r[l]=(c*it>>ot)*U,r[l+1]=(d*it>>ot)*U,r[l+2]=(f*it>>ot)*U):r[l]=r[l+1]=r[l+2]=0,c-=v,d-=C,f-=S,_-=w,v-=Se.r,C-=Se.g,S-=Se.b,w-=Se.a,l=s+((l=a+he)<ye?l:ye)*n<<2,c+=y+=Se.r=r[l],d+=x+=Se.g=r[l+1],f+=R+=Se.b=r[l+2],_+=O+=Se.a=r[l+3],Se=Se.next,v+=T=ke.r,C+=G=ke.g,S+=N=ke.b,w+=U=ke.a,y-=T,x-=G,R-=N,O-=U,ke=ke.next,u+=n}}const f_=function(e){var r=Math.round(this.blurRadius());r>0&&c_(e,r)};P.addGetterSetter(X,"blurRadius",0,K(),P.afterSetFilter);const d_=function(t){var e=this.brightness()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=4)r[i]+=e,r[i+1]+=e,r[i+2]+=e};P.addGetterSetter(X,"brightness",0,K(),P.afterSetFilter);const p_=function(t){var e=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,i=150,s=150,a=150,o;for(o=0;o<n;o+=4)i=r[o],s=r[o+1],a=r[o+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,r[o]=i,r[o+1]=s,r[o+2]=a};P.addGetterSetter(X,"contrast",0,K(),P.afterSetFilter);const g_=function(t){var e=this.embossStrength()*10,r=this.embossWhiteLevel()*255,n=this.embossDirection(),i=this.embossBlend(),s=0,a=0,o=t.data,l=t.width,h=t.height,u=l*4,p=h;switch(n){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:M.error("Unknown emboss direction: "+n)}do{var c=(p-1)*u,d=s;p+d<1&&(d=0),p+d>h&&(d=0);var f=(p-1+d)*l*4,_=l;do{var v=c+(_-1)*4,C=a;_+C<1&&(C=0),_+C>l&&(C=0);var S=f+(_-1+C)*4,w=o[v]-o[S],y=o[v+1]-o[S+1],x=o[v+2]-o[S+2],R=w,O=R>0?R:-R,T=y>0?y:-y,G=x>0?x:-x;if(T>O&&(R=y),G>O&&(R=x),R*=e,i){var N=o[v]+R,U=o[v+1]+R,re=o[v+2]+R;o[v]=N>255?255:N<0?0:N,o[v+1]=U>255?255:U<0?0:U,o[v+2]=re>255?255:re<0?0:re}else{var Z=r-R;Z<0?Z=0:Z>255&&(Z=255),o[v]=o[v+1]=o[v+2]=Z}}while(--_)}while(--p)};P.addGetterSetter(X,"embossStrength",.5,K(),P.afterSetFilter);P.addGetterSetter(X,"embossWhiteLevel",.5,K(),P.afterSetFilter);P.addGetterSetter(X,"embossDirection","top-left",null,P.afterSetFilter);P.addGetterSetter(X,"embossBlend",!1,null,P.afterSetFilter);function eo(t,e,r,n,i){var s=r-e,a=i-n,o;return s===0?n+a/2:a===0?n:(o=(t-e)/s,o=a*o+n,o)}const v_=function(t){var e=t.data,r=e.length,n=e[0],i=n,s,a=e[1],o=a,l,h=e[2],u=h,p,c,d=this.enhance();if(d!==0){for(c=0;c<r;c+=4)s=e[c+0],s<n?n=s:s>i&&(i=s),l=e[c+1],l<a?a=l:l>o&&(o=l),p=e[c+2],p<h?h=p:p>u&&(u=p);i===n&&(i=255,n=0),o===a&&(o=255,a=0),u===h&&(u=255,h=0);var f,_,v,C,S,w,y,x,R;for(d>0?(_=i+d*(255-i),v=n-d*(n-0),S=o+d*(255-o),w=a-d*(a-0),x=u+d*(255-u),R=h-d*(h-0)):(f=(i+n)*.5,_=i+d*(i-f),v=n+d*(n-f),C=(o+a)*.5,S=o+d*(o-C),w=a+d*(a-C),y=(u+h)*.5,x=u+d*(u-y),R=h+d*(h-y)),c=0;c<r;c+=4)e[c+0]=eo(e[c+0],n,i,v,_),e[c+1]=eo(e[c+1],a,o,w,S),e[c+2]=eo(e[c+2],h,u,R,x)}};P.addGetterSetter(X,"enhance",0,K(),P.afterSetFilter);const __=function(t){var e=t.data,r=e.length,n,i;for(n=0;n<r;n+=4)i=.34*e[n]+.5*e[n+1]+.16*e[n+2],e[n]=i,e[n+1]=i,e[n+2]=i};P.addGetterSetter(X,"hue",0,K(),P.afterSetFilter);P.addGetterSetter(X,"saturation",0,K(),P.afterSetFilter);P.addGetterSetter(X,"luminance",0,K(),P.afterSetFilter);const m_=function(t){var e=t.data,r=e.length,n=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o,l=n*i*Math.cos(s*Math.PI/180),h=n*i*Math.sin(s*Math.PI/180),u=.299*n+.701*l+.167*h,p=.587*n-.587*l+.33*h,c=.114*n-.114*l-.497*h,d=.299*n-.299*l-.328*h,f=.587*n+.413*l+.035*h,_=.114*n-.114*l+.293*h,v=.299*n-.3*l+1.25*h,C=.587*n-.586*l-1.05*h,S=.114*n+.886*l-.2*h,w,y,x,R;for(o=0;o<r;o+=4)w=e[o+0],y=e[o+1],x=e[o+2],R=e[o+3],e[o+0]=u*w+p*y+c*x+a,e[o+1]=d*w+f*y+_*x+a,e[o+2]=v*w+C*y+S*x+a,e[o+3]=R},y_=function(t){var e=t.data,r=e.length,n=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a,o=n*i*Math.cos(s*Math.PI/180),l=n*i*Math.sin(s*Math.PI/180),h=.299*n+.701*o+.167*l,u=.587*n-.587*o+.33*l,p=.114*n-.114*o-.497*l,c=.299*n-.299*o-.328*l,d=.587*n+.413*o+.035*l,f=.114*n-.114*o+.293*l,_=.299*n-.3*o+1.25*l,v=.587*n-.586*o-1.05*l,C=.114*n+.886*o-.2*l,S,w,y,x;for(a=0;a<r;a+=4)S=e[a+0],w=e[a+1],y=e[a+2],x=e[a+3],e[a+0]=h*S+u*w+p*y,e[a+1]=c*S+d*w+f*y,e[a+2]=_*S+v*w+C*y,e[a+3]=x};P.addGetterSetter(X,"hue",0,K(),P.afterSetFilter);P.addGetterSetter(X,"saturation",0,K(),P.afterSetFilter);P.addGetterSetter(X,"value",0,K(),P.afterSetFilter);const S_=function(t){var e=t.data,r=e.length,n;for(n=0;n<r;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]};var b_=function(t,e,r){var n=t.data,i=e.data,s=t.width,a=t.height,o=r.polarCenterX||s/2,l=r.polarCenterY||a/2,h,u,p,c=0,d=0,f=0,_=0,v,C=Math.sqrt(o*o+l*l);u=s-o,p=a-l,v=Math.sqrt(u*u+p*p),C=v>C?v:C;var S=a,w=s,y,x,R=360/w*Math.PI/180,O,T;for(x=0;x<w;x+=1)for(O=Math.sin(x*R),T=Math.cos(x*R),y=0;y<S;y+=1)u=Math.floor(o+C*y/S*T),p=Math.floor(l+C*y/S*O),h=(p*s+u)*4,c=n[h+0],d=n[h+1],f=n[h+2],_=n[h+3],h=(x+y*s)*4,i[h+0]=c,i[h+1]=d,i[h+2]=f,i[h+3]=_},C_=function(t,e,r){var n=t.data,i=e.data,s=t.width,a=t.height,o=r.polarCenterX||s/2,l=r.polarCenterY||a/2,h,u,p,c,d,f=0,_=0,v=0,C=0,S,w=Math.sqrt(o*o+l*l);u=s-o,p=a-l,S=Math.sqrt(u*u+p*p),w=S>w?S:w;var y=a,x=s,R,O,T=r.polarRotation||0,G,N;for(u=0;u<s;u+=1)for(p=0;p<a;p+=1)c=u-o,d=p-l,R=Math.sqrt(c*c+d*d)*y/w,O=(Math.atan2(d,c)*180/Math.PI+360+T)%360,O=O*x/360,G=Math.floor(O),N=Math.floor(R),h=(N*s+G)*4,f=n[h+0],_=n[h+1],v=n[h+2],C=n[h+3],h=(p*s+u)*4,i[h+0]=f,i[h+1]=_,i[h+2]=v,i[h+3]=C};const w_=function(t){var e=t.width,r=t.height,n,i,s,a,o,l,h,u,p,c,d=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(f%360)/360);if(!(d<1)){var v=M.createCanvasElement();v.width=e,v.height=r;var C=v.getContext("2d").getImageData(0,0,e,r);M.releaseCanvas(v),b_(t,C,{polarCenterX:e/2,polarCenterY:r/2});for(var S=e/Math.pow(2,d);S<=8;)S=S*2,d-=1;S=Math.ceil(S);var w=S,y=0,x=w,R=1;for(_+S>e&&(y=w,x=0,R=-1),i=0;i<r;i+=1)for(n=y;n!==x;n+=R)s=Math.round(n+_)%e,p=(e*i+s)*4,o=C.data[p+0],l=C.data[p+1],h=C.data[p+2],u=C.data[p+3],c=(e*i+n)*4,C.data[c+0]=o,C.data[c+1]=l,C.data[c+2]=h,C.data[c+3]=u;for(i=0;i<r;i+=1)for(w=Math.floor(S),a=0;a<d;a+=1){for(n=0;n<w+1;n+=1)p=(e*i+n)*4,o=C.data[p+0],l=C.data[p+1],h=C.data[p+2],u=C.data[p+3],c=(e*i+w*2-n-1)*4,C.data[c+0]=o,C.data[c+1]=l,C.data[c+2]=h,C.data[c+3]=u;w*=2}C_(C,t,{polarRotation:0})}};P.addGetterSetter(X,"kaleidoscopePower",2,K(),P.afterSetFilter);P.addGetterSetter(X,"kaleidoscopeAngle",0,K(),P.afterSetFilter);function es(t,e,r){var n=(r*t.width+e)*4,i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function Vn(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function x_(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function P_(t,e){var r=es(t,0,0),n=es(t,t.width-1,0),i=es(t,0,t.height-1),s=es(t,t.width-1,t.height-1),a=e||10;if(Vn(r,n)<a&&Vn(n,s)<a&&Vn(s,i)<a&&Vn(i,r)<a){for(var o=x_([n,r,s,i]),l=[],h=0;h<t.width*t.height;h++){var u=Vn(o,[t.data[h*4],t.data[h*4+1],t.data[h*4+2]]);l[h]=u<a?0:255}return l}}function E_(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}function A_(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),s=Math.floor(i/2),a=[],o=0;o<r;o++)for(var l=0;l<e;l++){for(var h=o*e+l,u=0,p=0;p<i;p++)for(var c=0;c<i;c++){var d=o+p-s,f=l+c-s;if(d>=0&&d<r&&f>=0&&f<e){var _=d*e+f,v=n[p*i+c];u+=t[_]*v}}a[h]=u===255*8?255:0}return a}function k_(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),s=Math.floor(i/2),a=[],o=0;o<r;o++)for(var l=0;l<e;l++){for(var h=o*e+l,u=0,p=0;p<i;p++)for(var c=0;c<i;c++){var d=o+p-s,f=l+c-s;if(d>=0&&d<r&&f>=0&&f<e){var _=d*e+f,v=n[p*i+c];u+=t[_]*v}}a[h]=u>=255*4?255:0}return a}function O_(t,e,r){for(var n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(n.length)),s=Math.floor(i/2),a=[],o=0;o<r;o++)for(var l=0;l<e;l++){for(var h=o*e+l,u=0,p=0;p<i;p++)for(var c=0;c<i;c++){var d=o+p-s,f=l+c-s;if(d>=0&&d<r&&f>=0&&f<e){var _=d*e+f,v=n[p*i+c];u+=t[_]*v}}a[h]=u}return a}const T_=function(t){var e=this.threshold(),r=P_(t,e);return r&&(r=A_(r,t.width,t.height),r=k_(r,t.width,t.height),r=O_(r,t.width,t.height),E_(t,r)),t};P.addGetterSetter(X,"threshold",0,K(),P.afterSetFilter);const M_=function(t){var e=this.noise()*255,r=t.data,n=r.length,i=e/2,s;for(s=0;s<n;s+=4)r[s+0]+=i-2*i*Math.random(),r[s+1]+=i-2*i*Math.random(),r[s+2]+=i-2*i*Math.random()};P.addGetterSetter(X,"noise",.2,K(),P.afterSetFilter);const L_=function(t){var e=Math.ceil(this.pixelSize()),r=t.width,n=t.height,i,s,a,o,l,h,u,p=Math.ceil(r/e),c=Math.ceil(n/e),d,f,_,v,C,S,w,y=t.data;if(e<=0){M.error("pixelSize value can not be <= 0");return}for(C=0;C<p;C+=1)for(S=0;S<c;S+=1){for(o=0,l=0,h=0,u=0,d=C*e,f=d+e,_=S*e,v=_+e,w=0,i=d;i<f;i+=1)if(!(i>=r))for(s=_;s<v;s+=1)s>=n||(a=(r*s+i)*4,o+=y[a+0],l+=y[a+1],h+=y[a+2],u+=y[a+3],w+=1);for(o=o/w,l=l/w,h=h/w,u=u/w,i=d;i<f;i+=1)if(!(i>=r))for(s=_;s<v;s+=1)s>=n||(a=(r*s+i)*4,y[a+0]=o,y[a+1]=l,y[a+2]=h,y[a+3]=u)}};P.addGetterSetter(X,"pixelSize",8,K(),P.afterSetFilter);const R_=function(t){var e=Math.round(this.levels()*254)+1,r=t.data,n=r.length,i=255/e,s;for(s=0;s<n;s+=1)r[s]=Math.floor(r[s]/i)*i};P.addGetterSetter(X,"levels",.5,K(),P.afterSetFilter);const I_=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),s=this.blue(),a,o;for(a=0;a<r;a+=4)o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255,e[a]=o*n,e[a+1]=o*i,e[a+2]=o*s,e[a+3]=e[a+3]};P.addGetterSetter(X,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(X,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(X,"blue",0,gc,P.afterSetFilter);const D_=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),s=this.blue(),a=this.alpha(),o,l;for(o=0;o<r;o+=4)l=1-a,e[o]=n*a+e[o]*l,e[o+1]=i*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l};P.addGetterSetter(X,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(X,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});P.addGetterSetter(X,"blue",0,gc,P.afterSetFilter);P.addGetterSetter(X,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const N_=function(t){var e=t.data,r=e.length,n,i,s,a;for(n=0;n<r;n+=4)i=e[n+0],s=e[n+1],a=e[n+2],e[n+0]=Math.min(255,i*.393+s*.769+a*.189),e[n+1]=Math.min(255,i*.349+s*.686+a*.168),e[n+2]=Math.min(255,i*.272+s*.534+a*.131)},G_=function(t){var e=t.data,r=t.width,n=t.height,i=r*4,s=n;do{var a=(s-1)*i,o=r;do{var l=a+(o-1)*4,h=e[l],u=e[l+1],p=e[l+2];h>127&&(h=255-h),u>127&&(u=255-u),p>127&&(p=255-p),e[l]=h,e[l+1]=u,e[l+2]=p}while(--o)}while(--s)},F_=function(t){var e=this.threshold()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=1)r[i]=r[i]<e?0:255};P.addGetterSetter(X,"threshold",.5,K(),P.afterSetFilter);const rm=Uh.Util._assign(Uh,{Arc:ar,Arrow:en,Circle:Mn,Ellipse:Ar,Image:Nt,Label:kl,Tag:tn,Line:or,Path:Me,Rect:Ci,RegularPolygon:rn,Ring:nn,Sprite:Yt,Star:kr,Text:We,TextPath:Ze,Transformer:Ae,Wedge:lr,Filters:{Blur:f_,Brighten:d_,Contrast:p_,Emboss:g_,Enhance:v_,Grayscale:__,HSL:m_,HSV:y_,Invert:S_,Kaleidoscope:w_,Mask:T_,Noise:M_,Pixelate:L_,Posterize:R_,RGB:I_,RGBA:D_,Sepia:N_,Solarize:G_,Threshold:F_}});export{V_ as A,Wt as F,J_ as H,rm as K,q_ as a,Xu as b,z_ as c,j_ as d,H_ as e,nr as f,em as g,jr as h,Z_ as i,K_ as j,_l as k,W_ as l,tm as m,Jo as n,Id as o,Nd as p,Hd as q,bt as r,Q_ as s,B_ as t,bu as u,Y_ as v,U_ as w,$_ as x,fl as y,X_ as z};
